parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"vFY1":[function(require,module,exports) {

},{}],"M1Cf":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,n(o.key),o)}}function o(t,e,o){return e&&r(t.prototype,e),o&&r(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}function n(e){var r=i(e,"string");return"symbol"===t(r)?r:String(r)}function i(e,r){if("object"!==t(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,r||"default");if("object"!==t(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,exports.preventDefault=f,exports.stopPropagation=a;var u=function(){function t(r){e(this,t),this.propagationStopped,this.defaultPrevented,this.type=r,this.target=null}return o(t,[{key:"preventDefault",value:function(){this.defaultPrevented=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}]),t}();function a(t){t.stopPropagation()}function f(t){t.preventDefault()}var p=u;exports.default=p;
},{}],"cEhm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={PROPERTYCHANGE:"propertychange"};exports.default=e;
},{}],"jZkk":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,n(o.key),o)}}function o(t,e,o){return e&&r(t.prototype,e),o&&r(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}function n(e){var r=i(e,"string");return"symbol"===t(r)?r:String(r)}function i(e,r){if("object"!==t(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,r||"default");if("object"!==t(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var u=function(){function t(){e(this,t),this.disposed=!1}return o(t,[{key:"dispose",value:function(){this.disposed||(this.disposed=!0,this.disposeInternal())}},{key:"disposeInternal",value:function(){}}]),t}(),s=u;exports.default=s;
},{}],"o0G8":[function(require,module,exports) {
"use strict";function r(r,n,t){var u,f;t=t||e;for(var i=0,o=r.length,a=!1;i<o;)(f=+t(r[u=i+(o-i>>1)],n))<0?i=u+1:(o=u,a=!f);return a?i:~i}function e(r,e){return r>e?1:r<e?-1:0}function n(r,e,n){if(r[0]<=e)return 0;var t=r.length;if(e<=r[t-1])return t-1;if("function"==typeof n){for(var u=1;u<t;++u){var f=r[u];if(f===e)return u;if(f<e)return n(e,r[u-1],f)>0?u-1:u}return t-1}if(n>0){for(var i=1;i<t;++i)if(r[i]<e)return i-1;return t-1}if(n<0){for(var o=1;o<t;++o)if(r[o]<=e)return o;return t-1}for(var a=1;a<t;++a){if(r[a]==e)return a;if(r[a]<e)return r[a-1]-e<e-r[a]?a-1:a}return t-1}function t(r,e,n){for(;e<n;){var t=r[e];r[e]=r[n],r[n]=t,++e,--n}}function u(r,e){for(var n=Array.isArray(e)?e:[e],t=n.length,u=0;u<t;u++)r[r.length]=n[u]}function f(r,e){var n=r.indexOf(e),t=n>-1;return t&&r.splice(n,1),t}function i(r,e){var n=r.length;if(n!==e.length)return!1;for(var t=0;t<n;t++)if(r[t]!==e[t])return!1;return!0}function o(r,e){var n,t=r.length,u=Array(r.length);for(n=0;n<t;n++)u[n]={index:n,value:r[n]};for(u.sort(function(r,n){return e(r.value,n.value)||r.index-n.index}),n=0;n<r.length;n++)r[n]=u[n].value}function a(r,n,t){var u=n||e;return r.every(function(e,n){if(0===n)return!0;var f=u(r[n-1],e);return!(f>0||t&&0===f)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ascending=e,exports.binarySearch=r,exports.equals=i,exports.extend=u,exports.isSorted=a,exports.linearFindNearest=n,exports.remove=f,exports.reverseSubArray=t,exports.stableSort=o;
},{}],"pDAE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FALSE=t,exports.TRUE=e,exports.VOID=n,exports.memoizeOne=o,exports.toPromise=s;var r=require("./array.js");function e(){return!0}function t(){return!1}function n(){}function o(e){var t,n,o,s=!1;return function(){var i=Array.prototype.slice.call(arguments);return s&&this===o&&(0,r.equals)(i,n)||(s=!0,o=this,n=i,t=e.apply(this,arguments)),t}}function s(r){return function(){var e;try{e=r()}catch(t){return Promise.reject(t)}return e instanceof Promise?e:Promise.resolve(e)}()}
},{"./array.js":"o0G8"}],"SLsU":[function(require,module,exports) {
"use strict";function e(e){for(var r in e)delete e[r]}function r(e){var r;for(r in e)return!1;return!r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.clear=e,exports.isEmpty=r;
},{}],"KnPA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("../Disposable.js")),t=i(require("./Event.js")),n=require("../functions.js"),r=require("../obj.js");function i(e){return e&&e.__esModule?e:{default:e}}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}function l(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=c(e,"string");return"symbol"===o(t)?t:String(t)}function c(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=d();return function(){var n,r=b(e);if(t){var i=b(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _=function(i){f(u,e.default);var o=v(u);function u(e){var t;return s(this,u),(t=o.call(this)).eventTarget_=e,t.pendingRemovals_=null,t.dispatching_=null,t.listeners_=null,t}return l(u,[{key:"addEventListener",value:function(e,t){if(e&&t){var n=this.listeners_||(this.listeners_={}),r=n[e]||(n[e]=[]);r.includes(t)||r.push(t)}}},{key:"dispatchEvent",value:function(e){var r="string"==typeof e,i=r?e:e.type,o=this.listeners_&&this.listeners_[i];if(o){var s=r?new t.default(e):e;s.target||(s.target=this.eventTarget_||this);var u,l=this.dispatching_||(this.dispatching_={}),a=this.pendingRemovals_||(this.pendingRemovals_={});i in l||(l[i]=0,a[i]=0),++l[i];for(var c=0,f=o.length;c<f;++c)if(!1===(u="handleEvent"in o[c]?o[c].handleEvent(s):o[c].call(this,s))||s.propagationStopped){u=!1;break}if(0==--l[i]){var p=a[i];for(delete a[i];p--;)this.removeEventListener(i,n.VOID);delete l[i]}return u}}},{key:"disposeInternal",value:function(){this.listeners_&&(0,r.clear)(this.listeners_)}},{key:"getListeners",value:function(e){return this.listeners_&&this.listeners_[e]||void 0}},{key:"hasListener",value:function(e){return!!this.listeners_&&(e?e in this.listeners_:Object.keys(this.listeners_).length>0)}},{key:"removeEventListener",value:function(e,t){var r=this.listeners_&&this.listeners_[e];if(r){var i=r.indexOf(t);-1!==i&&(this.pendingRemovals_&&e in this.pendingRemovals_?(r[i]=n.VOID,++this.pendingRemovals_[e]):(r.splice(i,1),0===r.length&&delete this.listeners_[e]))}}}]),u}(),g=_;exports.default=g;
},{"../Disposable.js":"jZkk","./Event.js":"M1Cf","../functions.js":"pDAE","../obj.js":"SLsU"}],"GUXn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};exports.default=e;
},{}],"MGag":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.listen=t,exports.listenOnce=r,exports.unlistenByKey=n;var e=require("./obj.js");function t(e,t,r,n,i){if(n&&n!==e&&(r=r.bind(n)),i){var s=r;r=function(){e.removeEventListener(t,r),s.apply(this,arguments)}}var o={target:e,type:t,listener:r};return e.addEventListener(t,r),o}function r(e,r,n,i){return t(e,r,n,i,!0)}function n(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),(0,e.clear)(t))}
},{"./obj.js":"SLsU"}],"TW86":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,exports.unByKey=m;var e=n(require("./events/Target.js")),t=n(require("./events/EventType.js")),r=require("./events.js");function n(e){return e&&e.__esModule?e:{default:e}}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function f(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e){var t=a(e,"string");return"symbol"===o(t)?t:String(t)}function a(e,t){if("object"!==o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}function s(e,t){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=b();return function(){var r,n=h(e);if(t){var o=h(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p(this,r)}}function p(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(n){l(u,e.default);var o=y(u);function u(){var e;return i(this,u),(e=o.call(this)).on=e.onInternal,e.once=e.onceInternal,e.un=e.unInternal,e.revision_=0,e}return f(u,[{key:"changed",value:function(){++this.revision_,this.dispatchEvent(t.default.CHANGE)}},{key:"getRevision",value:function(){return this.revision_}},{key:"onInternal",value:function(e,t){if(Array.isArray(e)){for(var n=e.length,o=new Array(n),i=0;i<n;++i)o[i]=(0,r.listen)(this,e[i],t);return o}return(0,r.listen)(this,e,t)}},{key:"onceInternal",value:function(e,t){var n;if(Array.isArray(e)){var o=e.length;n=new Array(o);for(var i=0;i<o;++i)n[i]=(0,r.listenOnce)(this,e[i],t)}else n=(0,r.listenOnce)(this,e,t);return t.ol_key=n,n}},{key:"unInternal",value:function(e,t){var r=t.ol_key;if(r)m(r);else if(Array.isArray(e))for(var n=0,o=e.length;n<o;++n)this.removeEventListener(e[n],t);else this.removeEventListener(e,t)}}]),u}();function m(e){if(Array.isArray(e))for(var t=0,n=e.length;t<n;++t)(0,r.unlistenByKey)(e[t]);else(0,r.unlistenByKey)(e)}d.prototype.on,d.prototype.once,d.prototype.un;var O=d;exports.default=O;
},{"./events/Target.js":"KnPA","./events/EventType.js":"GUXn","./events.js":"MGag"}],"KA50":[function(require,module,exports) {
"use strict";function t(){throw new Error("Unimplemented abstract method.")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.VERSION=void 0,exports.abstract=t,exports.getUid=r;var e=0;function r(t){return t.ol_uid||(t.ol_uid=String(++e))}var o="7.4.0";exports.VERSION=o;
},{}],"fB8e":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.ObjectEvent=void 0;var e=i(require("./events/Event.js")),t=i(require("./ObjectEventType.js")),r=i(require("./Observable.js")),n=require("./util.js"),o=require("./obj.js");function i(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function a(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e){var t=l(e,"string");return"symbol"===u(t)?t:String(t)}function l(e,t){if("object"!==u(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}function y(e,t){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=d();return function(){var r,n=_(e);if(t){var o=_(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return h(this,r)}}function h(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var j=function(t){v(n,e.default);var r=p(n);function n(e,t,o){var i;return f(this,n),(i=r.call(this,e)).key=t,i.oldValue=o,i}return a(n)}();exports.ObjectEvent=j;var O=function(e){v(u,r.default);var i=p(u);function u(e){var t;return f(this,u),(t=i.call(this)).on,t.once,t.un,(0,n.getUid)(b(t)),t.values_=null,void 0!==e&&t.setProperties(e),t}return a(u,[{key:"get",value:function(e){var t;return this.values_&&this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t}},{key:"getKeys",value:function(){return this.values_&&Object.keys(this.values_)||[]}},{key:"getProperties",value:function(){return this.values_&&Object.assign({},this.values_)||{}}},{key:"hasProperties",value:function(){return!!this.values_}},{key:"notify",value:function(e,r){var n;n="change:".concat(e),this.hasListener(n)&&this.dispatchEvent(new j(n,e,r)),n=t.default.PROPERTYCHANGE,this.hasListener(n)&&this.dispatchEvent(new j(n,e,r))}},{key:"addChangeListener",value:function(e,t){this.addEventListener("change:".concat(e),t)}},{key:"removeChangeListener",value:function(e,t){this.removeEventListener("change:".concat(e),t)}},{key:"set",value:function(e,t,r){var n=this.values_||(this.values_={});if(r)n[e]=t;else{var o=n[e];n[e]=t,o!==t&&this.notify(e,o)}}},{key:"setProperties",value:function(e,t){for(var r in e)this.set(r,e[r],t)}},{key:"applyProperties",value:function(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}},{key:"unset",value:function(e,t){if(this.values_&&e in this.values_){var r=this.values_[e];delete this.values_[e],(0,o.isEmpty)(this.values_)&&(this.values_=null),t||this.notify(e,r)}}}]),u}(),m=O;exports.default=m;
},{"./events/Event.js":"M1Cf","./ObjectEventType.js":"cEhm","./Observable.js":"TW86","./util.js":"KA50","./obj.js":"SLsU"}],"ZRwq":[function(require,module,exports) {
"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,n(o.key),o)}}function r(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function n(t){var r=o(t,"string");return"symbol"===e(r)?r:String(r)}function o(t,r){if("object"!==e(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,r||"default");if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}function u(e){var t=f();return function(){var r,n=b(e);if(t){var o=b(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return s(this,r)}}function s(t,r){if(r&&("object"===e(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return c(t)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){var t="function"==typeof Map?new Map:void 0;return(l=function(e){if(null===e||!p(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return d(e,arguments,b(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),y(r,e)})(e)}function d(e,t,r){return(d=f()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&y(o,r.prototype),o}).apply(null,arguments)}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function p(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function y(e,t){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var h={1:"The view center is not defined",2:"The view resolution is not defined",3:"The view rotation is not defined",4:"`image` and `src` cannot be provided at the same time",5:"`imgSize` must be set when `image` is provided",7:"`format` must be set when `url` is set",8:"Unknown `serverType` configured",9:"`url` must be configured or set using `#setUrl()`",10:"The default `geometryFunction` can only handle `Point` geometries",11:"`options.featureTypes` must be an Array",12:"`options.geometryName` must also be provided when `options.bbox` is set",13:"Invalid corner",14:"Invalid color",15:"Tried to get a value for a key that does not exist in the cache",16:"Tried to set a value for a key that is used already",17:"`resolutions` must be sorted in descending order",18:"Either `origin` or `origins` must be configured, never both",19:"Number of `tileSizes` and `resolutions` must be equal",20:"Number of `origins` and `resolutions` must be equal",22:"Either `tileSize` or `tileSizes` must be configured, never both",24:"Invalid extent or geometry provided as `geometry`",25:"Cannot fit empty extent provided as `geometry`",26:"Features must have an id set",27:"Features must have an id set",28:'`renderMode` must be `"hybrid"` or `"vector"`',30:"The passed `feature` was already added to the source",31:"Tried to enqueue an `element` that was already added to the queue",32:"Transformation matrix cannot be inverted",33:"Invalid units",34:"Invalid geometry layout",36:"Unknown SRS type",37:"Unknown geometry type found",38:"`styleMapValue` has an unknown type",39:"Unknown geometry type",40:"Expected `feature` to have a geometry",41:"Expected an `ol/style/Style` or an array of `ol/style/Style.js`",42:"Question unknown, the answer is 42",43:"Expected `layers` to be an array or a `Collection`",47:"Expected `controls` to be an array or an `ol/Collection`",48:"Expected `interactions` to be an array or an `ol/Collection`",49:"Expected `overlays` to be an array or an `ol/Collection`",50:"`options.featureTypes` should be an Array",51:"Either `url` or `tileJSON` options must be provided",52:"Unknown `serverType` configured",53:"Unknown `tierSizeCalculation` configured",55:"The {-y} placeholder requires a tile grid with extent",56:"mapBrowserEvent must originate from a pointer event",57:"At least 2 conditions are required",59:"Invalid command found in the PBF",60:"Missing or invalid `size`",61:"Cannot determine IIIF Image API version from provided image information JSON",62:"A `WebGLArrayBuffer` must either be of type `ELEMENT_ARRAY_BUFFER` or `ARRAY_BUFFER`",64:"Layer opacity must be a number",66:"`forEachFeatureAtCoordinate` cannot be used on a WebGL layer if the hit detection logic has not been enabled. This is done by providing adequate shaders using the `hitVertexShader` and `hitFragmentShader` properties of `WebGLPointsLayerRenderer`",67:"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both",68:"A VectorTile source can only be rendered if it has a projection compatible with the view projection",69:"`width` or `height` cannot be provided together with `scale`"},m=function(e){a(n,l(Error));var t=u(n);function n(e){var r;i(this,n);var o=h[e];return(r=t.call(this,o)).code=e,r.name="AssertionError",r.message=o,r}return r(n)}(),v=m;exports.default=v;
},{}],"f4vV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={ADD:"add",REMOVE:"remove"};exports.default=e;
},{}],"Kjrg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.CollectionEvent=void 0;var t=i(require("./AssertionError.js")),e=i(require("./Object.js")),r=i(require("./CollectionEventType.js")),n=i(require("./events/Event.js"));function i(t){return t&&t.__esModule?t:{default:t}}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,s(n.key),n)}}function a(t,e,r){return e&&u(t.prototype,e),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function s(t){var e=f(t,"string");return"symbol"===o(e)?e:String(e)}function f(t,e){if("object"!==o(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}function h(t,e){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function y(t){var e=d();return function(){var r,n=_(t);if(e){var i=_(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return p(this,r)}}function p(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return v(t)}function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b={LENGTH:"length"},g=function(t){l(r,n.default);var e=y(r);function r(t,n,i){var o;return c(this,r),(o=e.call(this,t)).element=n,o.index=i,o}return a(r)}();exports.CollectionEvent=g;var m=function(n){l(o,e.default);var i=y(o);function o(t,e){var r;if(c(this,o),(r=i.call(this)).on,r.once,r.un,e=e||{},r.unique_=!!e.unique,r.array_=t||[],r.unique_)for(var n=0,u=r.array_.length;n<u;++n)r.assertUnique_(r.array_[n],n);return r.updateLength_(),r}return a(o,[{key:"clear",value:function(){for(;this.getLength()>0;)this.pop()}},{key:"extend",value:function(t){for(var e=0,r=t.length;e<r;++e)this.push(t[e]);return this}},{key:"forEach",value:function(t){for(var e=this.array_,r=0,n=e.length;r<n;++r)t(e[r],r,e)}},{key:"getArray",value:function(){return this.array_}},{key:"item",value:function(t){return this.array_[t]}},{key:"getLength",value:function(){return this.get(b.LENGTH)}},{key:"insertAt",value:function(t,e){if(t<0||t>this.getLength())throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new g(r.default.ADD,e,t))}},{key:"pop",value:function(){return this.removeAt(this.getLength()-1)}},{key:"push",value:function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()}},{key:"remove",value:function(t){for(var e=this.array_,r=0,n=e.length;r<n;++r)if(e[r]===t)return this.removeAt(r)}},{key:"removeAt",value:function(t){if(!(t<0||t>=this.getLength())){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new g(r.default.REMOVE,e,t)),e}}},{key:"setAt",value:function(t,e){if(t>=this.getLength())this.insertAt(t,e);else{if(t<0)throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(e,t);var n=this.array_[t];this.array_[t]=e,this.dispatchEvent(new g(r.default.REMOVE,n,t)),this.dispatchEvent(new g(r.default.ADD,e,t))}}},{key:"updateLength_",value:function(){this.set(b.LENGTH,this.array_.length)}},{key:"assertUnique_",value:function(e,r){for(var n=0,i=this.array_.length;n<i;++n)if(this.array_[n]===e&&n!==r)throw new t.default(58)}}]),o}(),w=m;exports.default=w;
},{"./AssertionError.js":"ZRwq","./Object.js":"fB8e","./CollectionEventType.js":"f4vV","./events/Event.js":"M1Cf"}],"mpkP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.WORKER_OFFSCREEN_CANVAS=exports.WEBKIT=exports.SAFARI_BUG_237906=exports.SAFARI=exports.PASSIVE_EVENT_LISTENERS=exports.MAC=exports.IMAGE_DECODE=exports.FIREFOX=exports.DEVICE_PIXEL_RATIO=void 0;var e="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"",o=e.includes("firefox");exports.FIREFOX=o;var r=e.includes("safari")&&!e.includes("chrom");exports.SAFARI=r;var t=r&&(e.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(e));exports.SAFARI_BUG_237906=t;var s=e.includes("webkit")&&!e.includes("edge");exports.WEBKIT=s;var n=e.includes("macintosh");exports.MAC=n;var i="undefined"!=typeof devicePixelRatio?devicePixelRatio:1;exports.DEVICE_PIXEL_RATIO=i;var a="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope;exports.WORKER_OFFSCREEN_CANVAS=a;var E="undefined"!=typeof Image&&Image.prototype.decode;exports.IMAGE_DECODE=E;var p=function(){var e=!1;try{var o=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("_",null,o),window.removeEventListener("_",null,o)}catch(r){}return e}();exports.PASSIVE_EVENT_LISTENERS=p;
},{}],"DVOE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.assert=t;var e=r(require("./AssertionError.js"));function r(e){return e&&e.__esModule?e:{default:e}}function t(r,t){if(!r)throw new e.default(t)}
},{"./AssertionError.js":"ZRwq"}],"Ln8D":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.apply=c,exports.compose=v,exports.composeCssTransform=l,exports.create=o,exports.determinant=h,exports.invert=y,exports.makeInverse=d,exports.makeScale=x,exports.multiply=u,exports.reset=s,exports.rotate=p,exports.scale=f,exports.set=a,exports.setFromArray=i,exports.toString=M,exports.translate=m;var r,t=require("./has.js"),e=require("./asserts.js"),n=new Array(6);function o(){return[1,0,0,1,0,0]}function s(r){return a(r,1,0,0,1,0,0)}function u(r,t){var e=r[0],n=r[1],o=r[2],s=r[3],u=r[4],a=r[5],i=t[0],c=t[1],p=t[2],f=t[3],x=t[4],m=t[5];return r[0]=e*i+o*c,r[1]=n*i+s*c,r[2]=e*p+o*f,r[3]=n*p+s*f,r[4]=e*x+o*m+u,r[5]=n*x+s*m+a,r}function a(r,t,e,n,o,s,u){return r[0]=t,r[1]=e,r[2]=n,r[3]=o,r[4]=s,r[5]=u,r}function i(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r}function c(r,t){var e=t[0],n=t[1];return t[0]=r[0]*e+r[2]*n+r[4],t[1]=r[1]*e+r[3]*n+r[5],t}function p(r,t){var e=Math.cos(t),o=Math.sin(t);return u(r,a(n,e,o,-o,e,0,0))}function f(r,t,e){return u(r,a(n,t,0,0,e,0,0))}function x(r,t,e){return a(r,t,0,0,e,0,0)}function m(r,t,e){return u(r,a(n,1,0,0,1,t,e))}function v(r,t,e,n,o,s,u,a){var i=Math.sin(s),c=Math.cos(s);return r[0]=n*c,r[1]=o*i,r[2]=-n*i,r[3]=o*c,r[4]=u*n*c-a*n*i+t,r[5]=u*o*i+a*o*c+e,r}function l(r,t,e,n,s,u,a){return M(v(o(),r,t,e,n,s,u,a))}function y(r){return d(r,r)}function d(r,t){var n=h(t);(0,e.assert)(0!==n,32);var o=t[0],s=t[1],u=t[2],a=t[3],i=t[4],c=t[5];return r[0]=a/n,r[1]=-s/n,r[2]=-u/n,r[3]=o/n,r[4]=(u*c-a*i)/n,r[5]=-(o*c-s*i)/n,r}function h(r){return r[0]*r[3]-r[1]*r[2]}function M(e){var n="matrix("+e.join(", ")+")";if(t.WORKER_OFFSCREEN_CANVAS)return n;var o=r||(r=document.createElement("div"));return o.style.transform=n,o.style.transform}
},{"./has.js":"mpkP","./asserts.js":"DVOE"}],"kQlD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};exports.default=e;
},{}],"L0Vw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.applyTransform=rt,exports.approximatelyEquals=A,exports.boundingExtent=s,exports.buffer=p,exports.clone=l,exports.closestSquaredDistanceXY=x,exports.containsCoordinate=d,exports.containsExtent=h,exports.containsXY=m,exports.coordinateRelationship=g,exports.createEmpty=v,exports.createOrUpdate=y,exports.createOrUpdateEmpty=M,exports.createOrUpdateFromCoordinate=E,exports.createOrUpdateFromCoordinates=b,exports.createOrUpdateFromFlatCoordinates=O,exports.createOrUpdateFromRings=T,exports.equals=C,exports.extend=I,exports.extendCoordinate=F,exports.extendCoordinates=R,exports.extendFlatCoordinates=S,exports.extendRings=N,exports.extendXY=U,exports.forEachCorner=j,exports.getArea=w,exports.getBottomLeft=B,exports.getBottomRight=L,exports.getCenter=W,exports.getCorner=X,exports.getEnlargedArea=G,exports.getForViewAndSize=q,exports.getHeight=H,exports.getIntersection=Y,exports.getIntersectionArea=_,exports.getMargin=z,exports.getRotatedViewport=V,exports.getSize=K,exports.getTopLeft=D,exports.getTopRight=P,exports.getWidth=$,exports.intersects=k,exports.intersectsSegment=tt,exports.isEmpty=J,exports.returnOrUpdate=Q,exports.scaleFromCenter=Z,exports.wrapAndSliceX=nt,exports.wrapX=et;var t=e(require("./extent/Relationship.js")),r=require("./asserts.js");function e(t){return t&&t.__esModule?t:{default:t}}function n(t,r){return f(t)||i(t,r)||u(t,r)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t,r){if(t){if("string"==typeof t)return a(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?a(t,r):void 0}}function a(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function i(t,r){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var n,o,u,a,i=[],f=!0,s=!1;try{if(u=(e=e.call(t)).next,0===r){if(Object(e)!==e)return;f=!1}else for(;!(f=(n=u.call(e)).done)&&(i.push(n.value),i.length!==r);f=!0);}catch(c){s=!0,o=c}finally{try{if(!f&&null!=e.return&&(a=e.return(),Object(a)!==a))return}finally{if(s)throw o}}return i}}function f(t){if(Array.isArray(t))return t}function s(t){for(var r=v(),e=0,n=t.length;e<n;++e)F(r,t[e]);return r}function c(t,r,e){return y(Math.min.apply(null,t),Math.min.apply(null,r),Math.max.apply(null,t),Math.max.apply(null,r),e)}function p(t,r,e){return e?(e[0]=t[0]-r,e[1]=t[1]-r,e[2]=t[2]+r,e[3]=t[3]+r,e):[t[0]-r,t[1]-r,t[2]+r,t[3]+r]}function l(t,r){return r?(r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r):t.slice()}function x(t,r,e){var n,o;return(n=r<t[0]?t[0]-r:t[2]<r?r-t[2]:0)*n+(o=e<t[1]?t[1]-e:t[3]<e?e-t[3]:0)*o}function d(t,r){return m(t,r[0],r[1])}function h(t,r){return t[0]<=r[0]&&r[2]<=t[2]&&t[1]<=r[1]&&r[3]<=t[3]}function m(t,r,e){return t[0]<=r&&r<=t[2]&&t[1]<=e&&e<=t[3]}function g(r,e){var n=r[0],o=r[1],u=r[2],a=r[3],i=e[0],f=e[1],s=t.default.UNKNOWN;return i<n?s|=t.default.LEFT:i>u&&(s|=t.default.RIGHT),f<o?s|=t.default.BELOW:f>a&&(s|=t.default.ABOVE),s===t.default.UNKNOWN&&(s=t.default.INTERSECTING),s}function v(){return[1/0,1/0,-1/0,-1/0]}function y(t,r,e,n,o){return o?(o[0]=t,o[1]=r,o[2]=e,o[3]=n,o):[t,r,e,n]}function M(t){return y(1/0,1/0,-1/0,-1/0,t)}function E(t,r){var e=t[0],n=t[1];return y(e,n,e,n,r)}function b(t,r){return R(M(r),t)}function O(t,r,e,n,o){return S(M(o),t,r,e,n)}function T(t,r){return N(M(r),t)}function C(t,r){return t[0]==r[0]&&t[2]==r[2]&&t[1]==r[1]&&t[3]==r[3]}function A(t,r,e){return Math.abs(t[0]-r[0])<e&&Math.abs(t[2]-r[2])<e&&Math.abs(t[1]-r[1])<e&&Math.abs(t[3]-r[3])<e}function I(t,r){return r[0]<t[0]&&(t[0]=r[0]),r[2]>t[2]&&(t[2]=r[2]),r[1]<t[1]&&(t[1]=r[1]),r[3]>t[3]&&(t[3]=r[3]),t}function F(t,r){r[0]<t[0]&&(t[0]=r[0]),r[0]>t[2]&&(t[2]=r[0]),r[1]<t[1]&&(t[1]=r[1]),r[1]>t[3]&&(t[3]=r[1])}function R(t,r){for(var e=0,n=r.length;e<n;++e)F(t,r[e]);return t}function S(t,r,e,n,o){for(;e<n;e+=o)U(t,r[e],r[e+1]);return t}function N(t,r){for(var e=0,n=r.length;e<n;++e)R(t,r[e]);return t}function U(t,r,e){t[0]=Math.min(t[0],r),t[1]=Math.min(t[1],e),t[2]=Math.max(t[2],r),t[3]=Math.max(t[3],e)}function j(t,r){var e;return(e=r(B(t)))?e:(e=r(L(t)))?e:(e=r(P(t)))?e:(e=r(D(t)))||!1}function w(t){var r=0;return J(t)||(r=$(t)*H(t)),r}function B(t){return[t[0],t[1]]}function L(t){return[t[2],t[1]]}function W(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function X(t,e){var n;return"bottom-left"===e?n=B(t):"bottom-right"===e?n=L(t):"top-left"===e?n=D(t):"top-right"===e?n=P(t):(0,r.assert)(!1,13),n}function G(t,r){var e=Math.min(t[0],r[0]),n=Math.min(t[1],r[1]);return(Math.max(t[2],r[2])-e)*(Math.max(t[3],r[3])-n)}function q(t,r,e,o,u){var a=n(V(t,r,e,o),8),i=a[0],f=a[1],s=a[2],c=a[3],p=a[4],l=a[5],x=a[6],d=a[7];return y(Math.min(i,s,p,x),Math.min(f,c,l,d),Math.max(i,s,p,x),Math.max(f,c,l,d),u)}function V(t,r,e,n){var o=r*n[0]/2,u=r*n[1]/2,a=Math.cos(e),i=Math.sin(e),f=o*a,s=o*i,c=u*a,p=u*i,l=t[0],x=t[1];return[l-f+p,x-s-c,l-f-p,x-s+c,l+f-p,x+s+c,l+f+p,x+s-c,l-f+p,x-s-c]}function H(t){return t[3]-t[1]}function _(t,r){return w(Y(t,r))}function Y(t,r,e){var n=e||v();return k(t,r)?(t[0]>r[0]?n[0]=t[0]:n[0]=r[0],t[1]>r[1]?n[1]=t[1]:n[1]=r[1],t[2]<r[2]?n[2]=t[2]:n[2]=r[2],t[3]<r[3]?n[3]=t[3]:n[3]=r[3]):M(n),n}function z(t){return $(t)+H(t)}function K(t){return[t[2]-t[0],t[3]-t[1]]}function D(t){return[t[0],t[3]]}function P(t){return[t[2],t[3]]}function $(t){return t[2]-t[0]}function k(t,r){return t[0]<=r[2]&&t[2]>=r[0]&&t[1]<=r[3]&&t[3]>=r[1]}function J(t){return t[2]<t[0]||t[3]<t[1]}function Q(t,r){return r?(r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r):t}function Z(t,r){var e=(t[2]-t[0])/2*(r-1),n=(t[3]-t[1])/2*(r-1);t[0]-=e,t[2]+=e,t[1]-=n,t[3]+=n}function tt(r,e,n){var o=!1,u=g(r,e),a=g(r,n);if(u===t.default.INTERSECTING||a===t.default.INTERSECTING)o=!0;else{var i,f,s=r[0],c=r[1],p=r[2],l=r[3],x=e[0],d=e[1],h=n[0],m=n[1],v=(m-d)/(h-x);a&t.default.ABOVE&&!(u&t.default.ABOVE)&&(o=(i=h-(m-l)/v)>=s&&i<=p),o||!(a&t.default.RIGHT)||u&t.default.RIGHT||(o=(f=m-(h-p)*v)>=c&&f<=l),o||!(a&t.default.BELOW)||u&t.default.BELOW||(o=(i=h-(m-c)/v)>=s&&i<=p),o||!(a&t.default.LEFT)||u&t.default.LEFT||(o=(f=m-(h-s)*v)>=c&&f<=l)}return o}function rt(t,r,e,n){if(J(t))return M(e);var o=[];if(n>1)for(var u=t[2]-t[0],a=t[3]-t[1],i=0;i<n;++i)o.push(t[0]+u*i/n,t[1],t[2],t[1]+a*i/n,t[2]-u*i/n,t[3],t[0],t[3]-a*i/n);else o=[t[0],t[1],t[2],t[1],t[2],t[3],t[0],t[3]];r(o,o,2);for(var f=[],s=[],p=0,l=o.length;p<l;p+=2)f.push(o[p]),s.push(o[p+1]);return c(f,s,e)}function et(t,r){var e=r.getExtent(),n=W(t);if(r.canWrapX()&&(n[0]<e[0]||n[0]>=e[2])){var o=$(e),u=Math.floor((n[0]-e[0])/o)*o;t[0]-=u,t[2]-=u}return t}function nt(t,r){if(r.canWrapX()){var e=r.getExtent();if(!isFinite(t[0])||!isFinite(t[2]))return[[e[0],t[1],e[2],t[3]]];et(t,r);var n=$(e);if($(t)>n)return[[e[0],t[1],e[2],t[3]]];if(t[0]<e[0])return[[t[0]+n,t[1],e[2],t[3]],[e[0],t[1],t[2],t[3]]];if(t[2]>e[2])return[[t[0],t[1],e[2],t[3]],[e[0],t[1],t[2]-n,t[3]]]}return[t]}
},{"./extent/Relationship.js":"kQlD","./asserts.js":"DVOE"}],"qAK2":[function(require,module,exports) {
"use strict";function r(r,t,e){return Math.min(Math.max(r,t),e)}function t(r,t,n,o,a,u){var s=a-n,i=u-o;if(0!==s||0!==i){var f=((r-n)*s+(t-o)*i)/(s*s+i*i);f>1?(n=a,o=u):f>0&&(n+=s*f,o+=i*f)}return e(r,t,n,o)}function e(r,t,e,n){var o=e-r,a=n-t;return o*o+a*a}function n(r){for(var t=r.length,e=0;e<t;e++){for(var n=e,o=Math.abs(r[e][e]),a=e+1;a<t;a++){var u=Math.abs(r[a][e]);u>o&&(o=u,n=a)}if(0===o)return null;var s=r[n];r[n]=r[e],r[e]=s;for(var i=e+1;i<t;i++)for(var f=-r[i][e]/r[e][e],c=e;c<t+1;c++)e==c?r[i][c]=0:r[i][c]+=f*r[e][c]}for(var p=new Array(t),v=t-1;v>=0;v--){p[v]=r[v][t]/r[v][v];for(var x=v-1;x>=0;x--)r[x][t]-=r[x][v]*p[v]}return p}function o(r){return 180*r/Math.PI}function a(r){return r*Math.PI/180}function u(r,t){var e=r%t;return e*t<0?e+t:e}function s(r,t,e){return r+e*(t-r)}function i(r,t){var e=Math.pow(10,t);return Math.round(r*e)/e}function f(r,t){return Math.round(i(r,t))}function c(r,t){return Math.floor(i(r,t))}function p(r,t){return Math.ceil(i(r,t))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ceil=p,exports.clamp=r,exports.floor=c,exports.lerp=s,exports.modulo=u,exports.round=f,exports.solveLinearSystem=n,exports.squaredDistance=e,exports.squaredSegmentDistance=t,exports.toDegrees=o,exports.toFixed=i,exports.toRadians=a;
},{}],"XaHX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.asArray=i,exports.asString=a,exports.fromString=void 0,exports.isStringColor=l,exports.normalize=p,exports.toString=c;var r=require("./asserts.js"),t=require("./math.js"),e=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,s=/^([a-z]*)$|^hsla?\(.*\)$/i;function a(r){return"string"==typeof r?r:c(r)}function n(r){var t=document.createElement("div");if(t.style.color=r,""!==t.style.color){document.body.appendChild(t);var e=getComputedStyle(t).color;return document.body.removeChild(t),e}return""}var o=function(){var r={},t=0;return function(e){var s;if(r.hasOwnProperty(e))s=r[e];else{if(t>=1024){var a=0;for(var n in r)0==(3&a++)&&(delete r[n],--t)}s=u(e),r[e]=s,++t}return s}}();function i(r){return Array.isArray(r)?r:o(r)}function u(t){var a,o,i,u,c;if(s.exec(t)&&(t=n(t)),e.exec(t)){var l,f=t.length-1;l=f<=4?1:2;var v=4===f||8===f;a=parseInt(t.substr(1+0*l,l),16),o=parseInt(t.substr(1+1*l,l),16),i=parseInt(t.substr(1+2*l,l),16),u=v?parseInt(t.substr(1+3*l,l),16):255,1==l&&(a=(a<<4)+a,o=(o<<4)+o,i=(i<<4)+i,v&&(u=(u<<4)+u)),c=[a,o,i,u/255]}else t.startsWith("rgba(")?p(c=t.slice(5,-1).split(",").map(Number)):t.startsWith("rgb(")?((c=t.slice(4,-1).split(",").map(Number)).push(1),p(c)):(0,r.assert)(!1,14);return c}function p(r){return r[0]=(0,t.clamp)(r[0]+.5|0,0,255),r[1]=(0,t.clamp)(r[1]+.5|0,0,255),r[2]=(0,t.clamp)(r[2]+.5|0,0,255),r[3]=(0,t.clamp)(r[3],0,1),r}function c(r){var t=r[0];t!=(0|t)&&(t=t+.5|0);var e=r[1];e!=(0|e)&&(e=e+.5|0);var s=r[2];return s!=(0|s)&&(s=s+.5|0),"rgba("+t+","+e+","+s+","+(void 0===r[3]?1:Math.round(100*r[3])/100)+")"}function l(r){return s.test(r)&&(r=n(r)),e.test(r)||r.startsWith("rgba(")||r.startsWith("rgb(")}exports.fromString=o;
},{"./asserts.js":"DVOE","./math.js":"qAK2"}],"V9TC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.shared=exports.default=void 0;var e=require("../color.js");function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,a(i.key),i)}}function n(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var r=o(e,"string");return"symbol"===t(r)?r:String(r)}function o(e,r){if("object"!==t(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,r||"default");if("object"!==t(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}var c=function(){function e(){r(this,e),this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return n(e,[{key:"clear",value:function(){this.cache_={},this.cacheSize_=0}},{key:"canExpireCache",value:function(){return this.cacheSize_>this.maxCacheSize_}},{key:"expire",value:function(){if(this.canExpireCache()){var e=0;for(var t in this.cache_){var r=this.cache_[t];0!=(3&e++)||r.hasListener()||(delete this.cache_[t],--this.cacheSize_)}}}},{key:"get",value:function(e,t,r){var i=u(e,t,r);return i in this.cache_?this.cache_[i]:null}},{key:"set",value:function(e,t,r,i){var n=u(e,t,r);this.cache_[n]=i,++this.cacheSize_}},{key:"setSize",value:function(e){this.maxCacheSize_=e,this.expire()}}]),e}();function u(t,r,i){return r+":"+t+":"+(i?(0,e.asString)(i):"null")}var s=c;exports.default=s;var h=new c;exports.shared=h;
},{"../color.js":"XaHX"}],"yK6k":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};exports.default=e;
},{}],"o2hU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=i(require("../Object.js")),e=i(require("./Property.js")),n=require("../util.js"),r=require("../asserts.js"),o=require("../math.js");function i(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c(r.key),r)}}function l(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function c(t){var e=f(t,"string");return"symbol"===u(e)?e:String(e)}function f(t,e){if("object"!==u(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function y(){return(y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=d(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function d(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=O(t)););return t}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v(t,e)}function v(t,e){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=m();return function(){var n,r=O(t);if(e){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(t,e){if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return g(t)}function g(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function O(t){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _=function(i){p(c,t.default);var s=h(c);function c(t){var n;a(this,c),(n=s.call(this)).on,n.once,n.un,n.background_=t.background;var o=Object.assign({},t);return"object"===u(t.properties)&&(delete o.properties,Object.assign(o,t.properties)),o[e.default.OPACITY]=void 0!==t.opacity?t.opacity:1,(0,r.assert)("number"==typeof o[e.default.OPACITY],64),o[e.default.VISIBLE]=void 0===t.visible||t.visible,o[e.default.Z_INDEX]=t.zIndex,o[e.default.MAX_RESOLUTION]=void 0!==t.maxResolution?t.maxResolution:1/0,o[e.default.MIN_RESOLUTION]=void 0!==t.minResolution?t.minResolution:0,o[e.default.MIN_ZOOM]=void 0!==t.minZoom?t.minZoom:-1/0,o[e.default.MAX_ZOOM]=void 0!==t.maxZoom?t.maxZoom:1/0,n.className_=void 0!==o.className?o.className:"ol-layer",delete o.className,n.setProperties(o),n.state_=null,n}return l(c,[{key:"getBackground",value:function(){return this.background_}},{key:"getClassName",value:function(){return this.className_}},{key:"getLayerState",value:function(t){var e=this.state_||{layer:this,managed:void 0===t||t},n=this.getZIndex();return e.opacity=(0,o.clamp)(Math.round(100*this.getOpacity())/100,0,1),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=void 0!==n||e.managed?n:1/0,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e}},{key:"getLayersArray",value:function(t){return(0,n.abstract)()}},{key:"getLayerStatesArray",value:function(t){return(0,n.abstract)()}},{key:"getExtent",value:function(){return this.get(e.default.EXTENT)}},{key:"getMaxResolution",value:function(){return this.get(e.default.MAX_RESOLUTION)}},{key:"getMinResolution",value:function(){return this.get(e.default.MIN_RESOLUTION)}},{key:"getMinZoom",value:function(){return this.get(e.default.MIN_ZOOM)}},{key:"getMaxZoom",value:function(){return this.get(e.default.MAX_ZOOM)}},{key:"getOpacity",value:function(){return this.get(e.default.OPACITY)}},{key:"getSourceState",value:function(){return(0,n.abstract)()}},{key:"getVisible",value:function(){return this.get(e.default.VISIBLE)}},{key:"getZIndex",value:function(){return this.get(e.default.Z_INDEX)}},{key:"setBackground",value:function(t){this.background_=t,this.changed()}},{key:"setExtent",value:function(t){this.set(e.default.EXTENT,t)}},{key:"setMaxResolution",value:function(t){this.set(e.default.MAX_RESOLUTION,t)}},{key:"setMinResolution",value:function(t){this.set(e.default.MIN_RESOLUTION,t)}},{key:"setMaxZoom",value:function(t){this.set(e.default.MAX_ZOOM,t)}},{key:"setMinZoom",value:function(t){this.set(e.default.MIN_ZOOM,t)}},{key:"setOpacity",value:function(t){(0,r.assert)("number"==typeof t,64),this.set(e.default.OPACITY,t)}},{key:"setVisible",value:function(t){this.set(e.default.VISIBLE,t)}},{key:"setZIndex",value:function(t){this.set(e.default.Z_INDEX,t)}},{key:"disposeInternal",value:function(){this.state_&&(this.state_.layer=null,this.state_=null),y(O(c.prototype),"disposeInternal",this).call(this)}}]),c}(),M=_;exports.default=M;
},{"../Object.js":"fB8e","./Property.js":"yK6k","../util.js":"KA50","../asserts.js":"DVOE","../math.js":"qAK2"}],"JwZs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"};exports.default=e;
},{}],"DfOy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={ANIMATING:0,INTERACTING:1};exports.default=e;
},{}],"t10A":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};exports.default=e;
},{}],"exM9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DEFAULT_TILE_SIZE=exports.DEFAULT_MAX_ZOOM=void 0;var e=42;exports.DEFAULT_MAX_ZOOM=e;var r=256;exports.DEFAULT_TILE_SIZE=r;
},{}],"TVqV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.METERS_PER_UNIT=void 0,exports.fromCode=r;var e={9001:"m",9002:"ft",9003:"us-ft",9101:"radians",9102:"degrees"};function r(r){return e[r]}var t={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};exports.METERS_PER_UNIT=t;
},{}],"wxkT":[function(require,module,exports) {
var global = arguments[3];
var t=arguments[3];Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./Units.js");function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,u(i.key),i)}}function r(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function u(t){var e=l(t,"string");return"symbol"===n(e)?e:String(e)}function l(t,e){if("object"!==n(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,e||"default");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var a=function(){function t(e){i(this,t),this.code_=e.code,this.units_=e.units,this.extent_=void 0!==e.extent?e.extent:null,this.worldExtent_=void 0!==e.worldExtent?e.worldExtent:null,this.axisOrientation_=void 0!==e.axisOrientation?e.axisOrientation:"enu",this.global_=void 0!==e.global&&e.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}return r(t,[{key:"canWrapX",value:function(){return this.canWrapX_}},{key:"getCode",value:function(){return this.code_}},{key:"getExtent",value:function(){return this.extent_}},{key:"getUnits",value:function(){return this.units_}},{key:"getMetersPerUnit",value:function(){return this.metersPerUnit_||e.METERS_PER_UNIT[this.units_]}},{key:"getWorldExtent",value:function(){return this.worldExtent_}},{key:"getAxisOrientation",value:function(){return this.axisOrientation_}},{key:"isGlobal",value:function(){return this.global_}},{key:"setGlobal",value:function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)}},{key:"getDefaultTileGrid",value:function(){return this.defaultTileGrid_}},{key:"setDefaultTileGrid",value:function(t){this.defaultTileGrid_=t}},{key:"setExtent",value:function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)}},{key:"setWorldExtent",value:function(t){this.worldExtent_=t}},{key:"setGetPointResolution",value:function(t){this.getPointResolutionFunc_=t}},{key:"getPointResolutionFunc",value:function(){return this.getPointResolutionFunc_}}]),t}(),s=a;exports.default=s;
},{"./Units.js":"TVqV"}],"Znm6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.WORLD_EXTENT=exports.RADIUS=exports.PROJECTIONS=exports.MAX_SAFE_Y=exports.HALF_SIZE=exports.EXTENT=void 0,exports.fromEPSG4326=m,exports.toEPSG4326=O;var t=e(require("./Projection.js"));function e(t){return t&&t.__esModule?t:{default:t}}function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,i(n.key),n)}}function o(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function i(t){var e=u(t,"string");return"symbol"===r(e)?e:String(e)}function u(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}function a(t,e){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=y();return function(){var r,n=b(t);if(e){var o=b(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return s(this,r)}}function s(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return p(t)}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=6378137;exports.RADIUS=v;var h=Math.PI*v;exports.HALF_SIZE=h;var w=[-h,-h,h,h];exports.EXTENT=w;var d=[-180,-85,180,85];exports.WORLD_EXTENT=d;var E=v*Math.log(Math.tan(Math.PI/2));exports.MAX_SAFE_Y=E;var P=function(e){f(n,t.default);var r=l(n);function n(t){return c(this,n),r.call(this,{code:t,units:"m",extent:w,global:!0,worldExtent:d,getPointResolution:function(t,e){return t/Math.cosh(e[1]/v)}})}return o(n)}(),S=[new P("EPSG:3857"),new P("EPSG:102100"),new P("EPSG:102113"),new P("EPSG:900913"),new P("http://www.opengis.net/def/crs/EPSG/0/3857"),new P("http://www.opengis.net/gml/srs/epsg.xml#3857")];function m(t,e,r){var n=t.length;r=r>1?r:2,void 0===e&&(e=r>2?t.slice():new Array(n));for(var o=0;o<n;o+=r){e[o]=h*t[o]/180;var i=v*Math.log(Math.tan(Math.PI*(+t[o+1]+90)/360));i>E?i=E:i<-E&&(i=-E),e[o+1]=i}return e}function O(t,e,r){var n=t.length;r=r>1?r:2,void 0===e&&(e=r>2?t.slice():new Array(n));for(var o=0;o<n;o+=r)e[o]=180*t[o]/h,e[o+1]=360*Math.atan(Math.exp(t[o+1]/v))/Math.PI-90;return e}exports.PROJECTIONS=S;
},{"./Projection.js":"wxkT"}],"ztm5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RADIUS=exports.PROJECTIONS=exports.METERS_PER_UNIT=exports.EXTENT=void 0;var t=e(require("./Projection.js"));function e(t){return t&&t.__esModule?t:{default:t}}function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,i(n.key),n)}}function o(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function i(t){var e=u(t,"string");return"symbol"===r(e)?e:String(e)}function u(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}function s(t,e){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=y();return function(){var r,n=b(t);if(e){var o=b(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p(this,r)}}function p(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return a(t)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var w=6378137;exports.RADIUS=w;var d=[-180,-90,180,90];exports.EXTENT=d;var v=Math.PI*w/180;exports.METERS_PER_UNIT=v;var O=function(e){f(n,t.default);var r=l(n);function n(t,e){return c(this,n),r.call(this,{code:t,units:"degrees",extent:d,axisOrientation:e,global:!0,metersPerUnit:v,worldExtent:d})}return o(n)}(),m=[new O("CRS:84"),new O("EPSG:4326","neu"),new O("urn:ogc:def:crs:OGC:1.3:CRS84"),new O("urn:ogc:def:crs:OGC:2:84"),new O("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new O("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new O("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];exports.PROJECTIONS=m;
},{"./Projection.js":"wxkT"}],"pht6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.add=n,exports.clear=r,exports.get=t;var e={};function r(){e={}}function t(r){return e[r]||e[r.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function n(r,t){e[r]=t}
},{}],"w9tV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.add=o,exports.clear=r,exports.get=i,exports.remove=n;var e=require("../obj.js"),t={};function r(){t={}}function o(e,r,o){var n=e.getCode(),i=r.getCode();n in t||(t[n]={}),t[n][i]=o}function n(r,o){var n=r.getCode(),i=o.getCode(),d=t[n][i];return delete t[n][i],(0,e.isEmpty)(t[n])&&delete t[n],d}function i(e,r){var o;return e in t&&r in t[e]&&(o=t[e][r]),o}
},{"../obj.js":"SLsU"}],"nqHs":[function(require,module,exports) {
"use strict";function e(e,r,t){var n=void 0!==t?e.toFixed(t):""+e,i=n.indexOf(".");return(i=-1===i?n.length:i)>r?n:new Array(1+r-i).join("0")+n}function r(e,r){for(var t=(""+e).split("."),n=(""+r).split("."),i=0;i<Math.max(t.length,n.length);i++){var o=parseInt(t[i]||"0",10),s=parseInt(n[i]||"0",10);if(o>s)return 1;if(s>o)return-1}return 0}Object.defineProperty(exports,"__esModule",{value:!0}),exports.compareVersions=r,exports.padNumber=e;
},{}],"CMtO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.add=n,exports.closestOnCircle=o,exports.closestOnSegment=u,exports.createStringXY=a,exports.degreesToStringHDMS=s,exports.distance=d,exports.equals=c,exports.format=i,exports.getWorldsAway=M,exports.rotate=f,exports.scale=p,exports.squaredDistance=x,exports.squaredDistanceToSegment=g,exports.toStringHDMS=l,exports.toStringXY=h,exports.wrapX=v;var t=require("./extent.js"),r=require("./math.js"),e=require("./string.js");function n(t,r){return t[0]+=+r[0],t[1]+=+r[1],t}function o(t,r){var e=r.getRadius(),n=r.getCenter(),o=n[0],u=n[1],a=t[0]-o,s=t[1]-u;0===a&&0===s&&(a=1);var i=Math.sqrt(a*a+s*s);return[o+e*a/i,u+e*s/i]}function u(t,r){var e,n,o=t[0],u=t[1],a=r[0],s=r[1],i=a[0],c=a[1],f=s[0],p=s[1],x=f-i,d=p-c,g=0===x&&0===d?0:(x*(o-i)+d*(u-c))/(x*x+d*d||0);return g<=0?(e=i,n=c):g>=1?(e=f,n=p):(e=i+g*x,n=c+g*d),[e,n]}function a(t){return function(r){return h(r,t)}}function s(t,n,o){var u=(0,r.modulo)(n+180,360)-180,a=Math.abs(3600*u),s=o||0,i=Math.floor(a/3600),c=Math.floor((a-3600*i)/60),f=(0,r.toFixed)(a-3600*i-60*c,s);f>=60&&(f=0,c+=1),c>=60&&(c=0,i+=1);var p=i+"";return 0===c&&0===f||(p+=" "+(0,e.padNumber)(c,2)+""),0!==f&&(p+=" "+(0,e.padNumber)(f,2,s)+""),0!==u&&(p+=" "+t.charAt(u<0?1:0)),p}function i(t,r,e){return t?r.replace("{x}",t[0].toFixed(e)).replace("{y}",t[1].toFixed(e)):""}function c(t,r){for(var e=!0,n=t.length-1;n>=0;--n)if(t[n]!=r[n]){e=!1;break}return e}function f(t,r){var e=Math.cos(r),n=Math.sin(r),o=t[0]*e-t[1]*n,u=t[1]*e+t[0]*n;return t[0]=o,t[1]=u,t}function p(t,r){return t[0]*=r,t[1]*=r,t}function x(t,r){var e=t[0]-r[0],n=t[1]-r[1];return e*e+n*n}function d(t,r){return Math.sqrt(x(t,r))}function g(t,r){return x(t,u(t,r))}function l(t,r){return t?s("NS",t[1],r)+" "+s("EW",t[0],r):""}function h(t,r){return i(t,"{x}, {y}",r)}function v(r,e){if(e.canWrapX()){var n=(0,t.getWidth)(e.getExtent()),o=M(r,e,n);o&&(r[0]-=o*n)}return r}function M(r,e,n){var o=e.getExtent(),u=0;return e.canWrapX()&&(r[0]<o[0]||r[0]>o[2])&&(n=n||(0,t.getWidth)(o),u=Math.floor((r[0]-o[0])/n)),u}
},{"./extent.js":"L0Vw","./math.js":"qAK2","./string.js":"nqHs"}],"TxdA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DEFAULT_RADIUS=void 0,exports.getArea=s,exports.getDistance=a,exports.getLength=o,exports.offset=i;var t=require("./math.js"),e=6371008.8;function a(a,r,o){o=o||e;var n=(0,t.toRadians)(a[1]),s=(0,t.toRadians)(r[1]),i=(s-n)/2,h=(0,t.toRadians)(r[0]-a[0])/2,c=Math.sin(i)*Math.sin(i)+Math.sin(h)*Math.sin(h)*Math.cos(n)*Math.cos(s);return 2*o*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))}function r(t,e){for(var r=0,o=0,n=t.length;o<n-1;++o)r+=a(t[o],t[o+1],e);return r}function o(t,a){var n=(a=a||{}).radius||e,s=a.projection||"EPSG:3857",i=t.getType();"GeometryCollection"!==i&&(t=t.clone().transform(s,"EPSG:4326"));var h,c,g,M,l,u,f=0;switch(i){case"Point":case"MultiPoint":break;case"LineString":case"LinearRing":f=r(h=t.getCoordinates(),n);break;case"MultiLineString":case"Polygon":for(g=0,M=(h=t.getCoordinates()).length;g<M;++g)f+=r(h[g],n);break;case"MultiPolygon":for(g=0,M=(h=t.getCoordinates()).length;g<M;++g)for(l=0,u=(c=h[g]).length;l<u;++l)f+=r(c[l],n);break;case"GeometryCollection":var d=t.getGeometries();for(g=0,M=d.length;g<M;++g)f+=o(d[g],a);break;default:throw new Error("Unsupported geometry type: "+i)}return f}function n(e,a){for(var r=0,o=e.length,n=e[o-1][0],s=e[o-1][1],i=0;i<o;i++){var h=e[i][0],c=e[i][1];r+=(0,t.toRadians)(h-n)*(2+Math.sin((0,t.toRadians)(s))+Math.sin((0,t.toRadians)(c))),n=h,s=c}return r*a*a/2}function s(t,a){var r=(a=a||{}).radius||e,o=a.projection||"EPSG:3857",i=t.getType();"GeometryCollection"!==i&&(t=t.clone().transform(o,"EPSG:4326"));var h,c,g,M,l,u,f=0;switch(i){case"Point":case"MultiPoint":case"LineString":case"MultiLineString":case"LinearRing":break;case"Polygon":for(h=t.getCoordinates(),f=Math.abs(n(h[0],r)),g=1,M=h.length;g<M;++g)f-=Math.abs(n(h[g],r));break;case"MultiPolygon":for(g=0,M=(h=t.getCoordinates()).length;g<M;++g)for(c=h[g],f+=Math.abs(n(c[0],r)),l=1,u=c.length;l<u;++l)f-=Math.abs(n(c[l],r));break;case"GeometryCollection":var d=t.getGeometries();for(g=0,M=d.length;g<M;++g)f+=s(d[g],a);break;default:throw new Error("Unsupported geometry type: "+i)}return f}function i(a,r,o,n){n=n||e;var s=(0,t.toRadians)(a[1]),i=(0,t.toRadians)(a[0]),h=r/n,c=Math.asin(Math.sin(s)*Math.cos(h)+Math.cos(s)*Math.sin(h)*Math.cos(o)),g=i+Math.atan2(Math.sin(o)*Math.sin(h)*Math.cos(s),Math.cos(h)-Math.sin(s)*Math.sin(c));return[(0,t.toDegrees)(g),(0,t.toDegrees)(c)]}exports.DEFAULT_RADIUS=e;
},{"./math.js":"qAK2"}],"xtlK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.error=a,exports.log=n,exports.setLevel=e,exports.warn=t;var r={info:1,warn:2,error:3,none:4},o=r.info;function e(e){o=r[e]}function n(...e){var n;o>r.info||(n=console).log.apply(n,e)}function t(...e){var n;o>r.warn||(n=console).warn.apply(n,e)}function a(...e){var n;o>r.error||(n=console).error.apply(n,e)}
},{}],"VAQc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"METERS_PER_UNIT",{enumerable:!0,get:function(){return o.METERS_PER_UNIT}}),Object.defineProperty(exports,"Projection",{enumerable:!0,get:function(){return e.default}}),exports.addCommon=B,exports.addCoordinateTransforms=_,exports.addEquivalentProjections=m,exports.addEquivalentTransforms=T,exports.addProjection=x,exports.addProjections=P,exports.clearAllProjections=U,exports.clearUserProjection=b,exports.cloneTransform=g,exports.createProjection=R,exports.createSafeCoordinateTransform=z,exports.createTransformFromCoordinateTransform=S,exports.disableCoordinateWarning=l,exports.equivalent=q,exports.fromLonLat=h,exports.fromUserCoordinate=A,exports.fromUserExtent=D,exports.fromUserResolution=k,exports.get=v,exports.getPointResolution=j,exports.getTransform=I,exports.getTransformFromProjections=M,exports.getUserProjection=w,exports.identityTransform=E,exports.setUserProjection=W,exports.toLonLat=C,exports.toUserCoordinate=L,exports.toUserExtent=F,exports.toUserResolution=X,exports.transform=N,exports.transformExtent=O,exports.transformWithProjections=G,exports.useGeographic=J;var e=d(require("./proj/Projection.js")),r=require("./proj/epsg3857.js"),t=require("./proj/epsg4326.js"),o=require("./proj/Units.js"),n=require("./proj/projections.js"),i=require("./proj/transforms.js"),s=require("./extent.js"),u=require("./math.js"),a=require("./coordinate.js"),c=require("./sphere.js"),f=require("./console.js");function d(e){return e&&e.__esModule?e:{default:e}}var p=!0;function l(e){p=!(void 0===e||e)}function g(e,r){if(void 0!==r){for(var t=0,o=e.length;t<o;++t)r[t]=e[t];r=r}else r=e.slice();return r}function E(e,r){if(void 0!==r&&e!==r){for(var t=0,o=e.length;t<o;++t)r[t]=e[t];e=r}return e}function x(e){(0,n.add)(e.getCode(),e),(0,i.add)(e,e,g)}function P(e){e.forEach(x)}function v(e){return"string"==typeof e?(0,n.get)(e):e||null}function j(e,r,t,n){var i,s=(e=v(e)).getPointResolutionFunc();if(s){if(i=s(r,t),n&&n!==e.getUnits()){var u=e.getMetersPerUnit();u&&(i=i*u/o.METERS_PER_UNIT[n])}}else{var a=e.getUnits();if("degrees"==a&&!n||"degrees"==n)i=r;else{var f=M(e,v("EPSG:4326"));if(f===E&&"degrees"!==a)i=r*e.getMetersPerUnit();else{var d=[t[0]-r/2,t[1],t[0]+r/2,t[1],t[0],t[1]-r/2,t[0],t[1]+r/2];d=f(d,d,2),i=((0,c.getDistance)(d.slice(0,2),d.slice(2,4))+(0,c.getDistance)(d.slice(4,6),d.slice(6,8)))/2}var p=n?o.METERS_PER_UNIT[n]:e.getMetersPerUnit();void 0!==p&&(i/=p)}}return i}function m(e){P(e),e.forEach(function(r){e.forEach(function(e){r!==e&&(0,i.add)(r,e,g)})})}function T(e,r,t,o){e.forEach(function(e){r.forEach(function(r){(0,i.add)(e,r,t),(0,i.add)(r,e,o)})})}function U(){(0,n.clear)(),(0,i.clear)()}function R(e,r){return e?"string"==typeof e?v(e):e:v(r)}function S(e){return function(r,t,o){var n=r.length;o=void 0!==o?o:2,t=void 0!==t?t:new Array(n);for(var i=0;i<n;i+=o)for(var s=e(r.slice(i,i+o)),u=s.length,a=0,c=o;a<c;++a)t[i+a]=a>=u?r[i+a]:s[a];return t}}function _(e,r,t,o){var n=v(e),s=v(r);(0,i.add)(n,s,S(t)),(0,i.add)(s,n,S(o))}function h(e,r){return l(),N(e,"EPSG:4326",void 0!==r?r:"EPSG:3857")}function C(e,r){var t=N(e,void 0!==r?r:"EPSG:3857","EPSG:4326"),o=t[0];return(o<-180||o>180)&&(t[0]=(0,u.modulo)(o+180,360)-180),t}function q(e,r){if(e===r)return!0;var t=e.getUnits()===r.getUnits();return e.getCode()===r.getCode()?t:M(e,r)===g&&t}function M(e,r){var t=e.getCode(),o=r.getCode(),n=(0,i.get)(t,o);return n||(n=E),n}function I(e,r){return M(v(e),v(r))}function N(e,r,t){return I(r,t)(e,void 0,e.length)}function O(e,r,t,o){var n=I(r,t);return(0,s.applyTransform)(e,n,void 0,o)}function G(e,r,t){return M(r,t)(e)}var y=null;function W(e){y=v(e)}function b(){y=null}function w(){return y}function J(){W("EPSG:4326")}function L(e,r){return y?N(e,r,y):e}function A(e,r){return y?N(e,y,r):(p&&!(0,a.equals)(e,[0,0])&&e[0]>=-180&&e[0]<=180&&e[1]>=-90&&e[1]<=90&&(p=!1,(0,f.warn)("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),e)}function F(e,r){return y?O(e,r,y):e}function D(e,r){return y?O(e,y,r):e}function X(e,r){if(!y)return e;var t=v(r).getUnits(),n=y.getUnits();return t&&n?e*o.METERS_PER_UNIT[t]/o.METERS_PER_UNIT[n]:e}function k(e,r){if(!y)return e;var t=v(r).getUnits(),n=y.getUnits();return t&&n?e*o.METERS_PER_UNIT[n]/o.METERS_PER_UNIT[t]:e}function z(e,r,t){return function(o){var n,i;if(e.canWrapX()){var c=e.getExtent(),f=(0,s.getWidth)(c);o=o.slice(0),(i=(0,a.getWorldsAway)(o,e,f))&&(o[0]=o[0]-i*f),o[0]=(0,u.clamp)(o[0],c[0],c[2]),o[1]=(0,u.clamp)(o[1],c[1],c[3]),n=t(o)}else n=t(o);return i&&r.canWrapX()&&(n[0]+=i*(0,s.getWidth)(r.getExtent())),n}}function B(){m(r.PROJECTIONS),m(t.PROJECTIONS),T(t.PROJECTIONS,r.PROJECTIONS,r.fromEPSG4326,r.toEPSG4326)}B();
},{"./proj/Projection.js":"wxkT","./proj/epsg3857.js":"Znm6","./proj/epsg4326.js":"ztm5","./proj/Units.js":"TVqV","./proj/projections.js":"pht6","./proj/transforms.js":"w9tV","./extent.js":"L0Vw","./math.js":"qAK2","./coordinate.js":"CMtO","./sphere.js":"TxdA","./console.js":"xtlK"}],"fPEB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createExtent=a,exports.none=e;var t=require("./math.js");function a(a,e,r){return function(n,o,u,h,i){if(n){if(!o&&!e)return n;var M=e?0:u[0]*o,c=e?0:u[1]*o,l=i?i[0]:0,x=i?i[1]:0,f=a[0]+M/2+l,m=a[2]-M/2+l,s=a[1]+c/2+x,p=a[3]-c/2+x;f>m&&(m=f=(m+f)/2),s>p&&(p=s=(p+s)/2);var v=(0,t.clamp)(n[0],f,m),g=(0,t.clamp)(n[1],s,p);if(h&&r&&o){var d=30*o;v+=-d*Math.log(1+Math.max(0,f-n[0])/d)+d*Math.log(1+Math.max(0,n[0]-m)/d),g+=-d*Math.log(1+Math.max(0,s-n[1])/d)+d*Math.log(1+Math.max(0,n[1]-p)/d)}return[v,g]}}}function e(t){return t}
},{"./math.js":"qAK2"}],"x1Ou":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createMinMaxResolution=h,exports.createSnapToPower=o,exports.createSnapToResolutions=i;var t=require("./math.js"),a=require("./extent.js"),r=require("./array.js");function e(t,r,e,n){var i=(0,a.getWidth)(r)/e[0],o=(0,a.getHeight)(r)/e[1];return n?Math.min(t,Math.max(i,o)):Math.min(t,Math.min(i,o))}function n(a,r,e){var n=Math.min(a,r);return n*=Math.log(1+50*Math.max(0,a/r-1))/50+1,e&&(n=Math.max(n,e),n/=Math.log(1+50*Math.max(0,e/a-1))/50+1),(0,t.clamp)(n,e/2,2*r)}function i(a,i,o,h){return i=void 0===i||i,function(u,M,l,c){if(void 0!==u){var m=a[0],f=a[a.length-1],v=o?e(m,o,l,h):m;if(c)return i?n(u,v,f):(0,t.clamp)(u,f,v);var s=Math.min(v,u),p=Math.floor((0,r.linearFindNearest)(a,s,M));return a[p]>v&&p<a.length-1?a[p+1]:a[p]}}}function o(a,r,i,o,h,u){return o=void 0===o||o,i=void 0!==i?i:0,function(M,l,c,m){if(void 0!==M){var f=h?e(r,h,c,u):r;if(m)return o?n(M,f,i):(0,t.clamp)(M,i,f);var v=Math.ceil(Math.log(r/f)/Math.log(a)-1e-9),s=-l*(.5-1e-9)+.5,p=Math.min(f,M),d=Math.floor(Math.log(r/p)/Math.log(a)+s),g=Math.max(v,d),x=r/Math.pow(a,g);return(0,t.clamp)(x,i,f)}}}function h(a,r,i,o,h){return i=void 0===i||i,function(u,M,l,c){if(void 0!==u){var m=o?e(a,o,l,h):a;return i&&c?n(u,m,r):(0,t.clamp)(u,r,m)}}}
},{"./math.js":"qAK2","./extent.js":"L0Vw","./array.js":"o0G8"}],"E0bT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createSnapToN=o,exports.createSnapToZero=n,exports.disable=r,exports.none=t;var e=require("./math.js");function r(e){if(void 0!==e)return 0}function t(e){if(void 0!==e)return e}function o(e){var r=2*Math.PI/e;return function(e,t){return t?e:void 0!==e?e=Math.floor(e/r+.5)*r:void 0}}function n(r){return r=r||(0,e.toRadians)(5),function(e,t){return t?e:void 0!==e?Math.abs(e)<=r?0:e:void 0}}
},{"./math.js":"qAK2"}],"k82w":[function(require,module,exports) {
"use strict";function e(e){return Math.pow(e,3)}function t(t){return 1-e(1-t)}function n(e){return 3*e*e-2*e*e*e}function r(e){return e}function u(e){return e<.5?n(2*e):1-n(2*(e-.5))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.easeIn=e,exports.easeOut=t,exports.inAndOut=n,exports.linear=r,exports.upAndDown=u;
},{}],"v1jb":[function(require,module,exports) {
"use strict";function r(r,t,e,n,o,a){a=a||[];for(var f=0,s=t;s<e;s+=n){var l=r[s],u=r[s+1];a[f++]=o[0]*l+o[2]*u+o[4],a[f++]=o[1]*l+o[3]*u+o[5]}return a&&a.length!=f&&(a.length=f),a}function t(r,t,e,n,o,a,f){f=f||[];for(var s=Math.cos(o),l=Math.sin(o),u=a[0],v=a[1],h=0,c=t;c<e;c+=n){var g=r[c]-u,i=r[c+1]-v;f[h++]=u+g*s-i*l,f[h++]=v+g*l+i*s;for(var p=c+2;p<c+n;++p)f[h++]=r[p]}return f&&f.length!=h&&(f.length=h),f}function e(r,t,e,n,o,a,f,s){s=s||[];for(var l=f[0],u=f[1],v=0,h=t;h<e;h+=n){var c=r[h]-l,g=r[h+1]-u;s[v++]=l+o*c,s[v++]=u+a*g;for(var i=h+2;i<h+n;++i)s[v++]=r[i]}return s&&s.length!=v&&(s.length=v),s}function n(r,t,e,n,o,a,f){f=f||[];for(var s=0,l=t;l<e;l+=n){f[s++]=r[l]+o,f[s++]=r[l+1]+a;for(var u=l+2;u<l+n;++u)f[s++]=r[u]}return f&&f.length!=s&&(f.length=s),f}Object.defineProperty(exports,"__esModule",{value:!0}),exports.rotate=t,exports.scale=e,exports.transform2D=r,exports.translate=n;
},{}],"AhnV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=a(require("../Object.js")),e=require("../util.js"),r=require("../transform.js"),n=require("../extent.js"),o=require("../proj.js"),i=require("../functions.js"),u=require("./flat/transform.js");function a(t){return t&&t.__esModule?t:{default:t}}function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,y(n.key),n)}}function l(t,e,r){return e&&f(t.prototype,e),r&&f(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function y(t){var e=p(t,"string");return"symbol"===c(e)?e:String(e)}function p(t,e){if("object"!==c(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function m(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v(t,e)}function v(t,e){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function b(t){var e=g();return function(){var r,n=j(t);if(e){var o=j(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return d(this,r)}}function d(t,e){if(e&&("object"===c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return h(t)}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function j(t){return(j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var x=(0,r.create)(),O=function(a){m(f,t.default);var c=b(f);function f(){var t;return s(this,f),(t=c.call(this)).extent_=(0,n.createEmpty)(),t.extentRevision_=-1,t.simplifiedGeometryMaxMinSquaredTolerance=0,t.simplifiedGeometryRevision=0,t.simplifyTransformedInternal=(0,i.memoizeOne)(function(t,e,r){if(!r)return this.getSimplifiedGeometry(e);var n=this.clone();return n.applyTransform(r),n.getSimplifiedGeometry(e)}),t}return l(f,[{key:"simplifyTransformed",value:function(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)}},{key:"clone",value:function(){return(0,e.abstract)()}},{key:"closestPointXY",value:function(t,r,n,o){return(0,e.abstract)()}},{key:"containsXY",value:function(t,e){var r=this.getClosestPoint([t,e]);return r[0]===t&&r[1]===e}},{key:"getClosestPoint",value:function(t,e){return e=e||[NaN,NaN],this.closestPointXY(t[0],t[1],e,1/0),e}},{key:"intersectsCoordinate",value:function(t){return this.containsXY(t[0],t[1])}},{key:"computeExtent",value:function(t){return(0,e.abstract)()}},{key:"getExtent",value:function(t){if(this.extentRevision_!=this.getRevision()){var e=this.computeExtent(this.extent_);(isNaN(e[0])||isNaN(e[1]))&&(0,n.createOrUpdateEmpty)(e),this.extentRevision_=this.getRevision()}return(0,n.returnOrUpdate)(this.extent_,t)}},{key:"rotate",value:function(t,r){(0,e.abstract)()}},{key:"scale",value:function(t,r,n){(0,e.abstract)()}},{key:"simplify",value:function(t){return this.getSimplifiedGeometry(t*t)}},{key:"getSimplifiedGeometry",value:function(t){return(0,e.abstract)()}},{key:"getType",value:function(){return(0,e.abstract)()}},{key:"applyTransform",value:function(t){(0,e.abstract)()}},{key:"intersectsExtent",value:function(t){return(0,e.abstract)()}},{key:"translate",value:function(t,r){(0,e.abstract)()}},{key:"transform",value:function(t,e){var i=(0,o.get)(t),a="tile-pixels"==i.getUnits()?function(t,a,c){var s=i.getExtent(),f=i.getWorldExtent(),l=(0,n.getHeight)(f)/(0,n.getHeight)(s);return(0,r.compose)(x,f[0],f[3],l,-l,0,0,0),(0,u.transform2D)(t,0,t.length,c,x,a),(0,o.getTransform)(i,e)(t,a,c)}:(0,o.getTransform)(i,e);return this.applyTransform(a),this}}]),f}(),k=O;exports.default=k;
},{"../Object.js":"fB8e","../util.js":"KA50","../transform.js":"Ln8D","../extent.js":"L0Vw","../proj.js":"VAQc","../functions.js":"pDAE","./flat/transform.js":"v1jb"}],"JVJN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,exports.getStrideForLayout=C,exports.transformGeom2D=S;var t=i(require("./Geometry.js")),e=require("../util.js"),r=require("../extent.js"),n=require("./flat/transform.js");function i(t){return t&&t.__esModule?t:{default:t}}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,l(n.key),n)}}function s(t,e,r){return e&&u(t.prototype,e),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function l(t){var e=f(t,"string");return"symbol"===o(e)?e:String(e)}function f(t,e){if("object"!==o(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}function d(t,e){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function y(t){var e=v();return function(){var r,n=g(t);if(e){var i=g(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return h(this,r)}}function h(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return p(t)}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m=function(i){c(u,t.default);var o=y(u);function u(){var t;return a(this,u),(t=o.call(this)).layout="XY",t.stride=2,t.flatCoordinates=null,t}return s(u,[{key:"computeExtent",value:function(t){return(0,r.createOrUpdateFromFlatCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}},{key:"getCoordinates",value:function(){return(0,e.abstract)()}},{key:"getFirstCoordinate",value:function(){return this.flatCoordinates.slice(0,this.stride)}},{key:"getFlatCoordinates",value:function(){return this.flatCoordinates}},{key:"getLastCoordinate",value:function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}},{key:"getLayout",value:function(){return this.layout}},{key:"getSimplifiedGeometry",value:function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=this.getSimplifiedGeometryInternal(t);return e.getFlatCoordinates().length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)}},{key:"getSimplifiedGeometryInternal",value:function(t){return this}},{key:"getStride",value:function(){return this.stride}},{key:"setFlatCoordinates",value:function(t,e){this.stride=C(t),this.layout=t,this.flatCoordinates=e}},{key:"setCoordinates",value:function(t,r){(0,e.abstract)()}},{key:"setLayout",value:function(t,e,r){var n;if(t)n=C(t);else{for(var i=0;i<r;++i){if(0===e.length)return this.layout="XY",void(this.stride=2);e=e[0]}t=b(n=e.length)}this.layout=t,this.stride=n}},{key:"applyTransform",value:function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}},{key:"rotate",value:function(t,e){var r=this.getFlatCoordinates();if(r){var i=this.getStride();(0,n.rotate)(r,0,r.length,i,t,e,r),this.changed()}}},{key:"scale",value:function(t,e,i){void 0===e&&(e=t),i||(i=(0,r.getCenter)(this.getExtent()));var o=this.getFlatCoordinates();if(o){var a=this.getStride();(0,n.scale)(o,0,o.length,a,t,e,i,o),this.changed()}}},{key:"translate",value:function(t,e){var r=this.getFlatCoordinates();if(r){var i=this.getStride();(0,n.translate)(r,0,r.length,i,t,e,r),this.changed()}}}]),u}();function b(t){var e;return 2==t?e="XY":3==t?e="XYZ":4==t&&(e="XYZM"),e}function C(t){var e;return"XY"==t?e=2:"XYZ"==t||"XYM"==t?e=3:"XYZM"==t&&(e=4),e}function S(t,e,r){var i=t.getFlatCoordinates();if(!i)return null;var o=t.getStride();return(0,n.transform2D)(i,0,i.length,o,e,r)}var j=m;exports.default=j;
},{"./Geometry.js":"AhnV","../util.js":"KA50","../extent.js":"L0Vw","./flat/transform.js":"v1jb"}],"Bhwh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.arrayMaxSquaredDelta=a,exports.assignClosestArrayPoint=o,exports.assignClosestMultiArrayPoint=i,exports.assignClosestPoint=s,exports.maxSquaredDelta=t,exports.multiArrayMaxSquaredDelta=n;var r=require("../../math.js");function e(e,t,a,n,s,o,i){var u,f=e[t],l=e[t+1],v=e[a]-f,h=e[a+1]-l;if(0===v&&0===h)u=t;else{var g=((s-f)*v+(o-l)*h)/(v*v+h*h);if(g>1)u=a;else{if(g>0){for(var c=0;c<n;++c)i[c]=(0,r.lerp)(e[t+c],e[a+c],g);return void(i.length=n)}u=t}}for(var N=0;N<n;++N)i[N]=e[u+N];i.length=n}function t(e,t,a,n,s){var o=e[t],i=e[t+1];for(t+=n;t<a;t+=n){var u=e[t],f=e[t+1],l=(0,r.squaredDistance)(o,i,u,f);l>s&&(s=l),o=u,i=f}return s}function a(r,e,a,n,s){for(var o=0,i=a.length;o<i;++o){var u=a[o];s=t(r,e,u,n,s),e=u}return s}function n(r,e,t,n,s){for(var o=0,i=t.length;o<i;++o){var u=t[o];s=a(r,e,u,n,s),e=u[u.length-1]}return s}function s(t,a,n,s,o,i,u,f,l,v,h){if(a==n)return v;var g,c;if(0===o){if((c=(0,r.squaredDistance)(u,f,t[a],t[a+1]))<v){for(g=0;g<s;++g)l[g]=t[a+g];return l.length=s,c}return v}h=h||[NaN,NaN];for(var N=a+s;N<n;)if(e(t,N-s,N,s,u,f,h),(c=(0,r.squaredDistance)(u,f,h[0],h[1]))<v){for(v=c,g=0;g<s;++g)l[g]=h[g];l.length=s,N+=s}else N+=s*Math.max((Math.sqrt(c)-Math.sqrt(v))/o|0,1);if(i&&(e(t,n-s,a,s,u,f,h),(c=(0,r.squaredDistance)(u,f,h[0],h[1]))<v)){for(v=c,g=0;g<s;++g)l[g]=h[g];l.length=s}return v}function o(r,e,t,a,n,o,i,u,f,l,v){v=v||[NaN,NaN];for(var h=0,g=t.length;h<g;++h){var c=t[h];l=s(r,e,c,a,n,o,i,u,f,l,v),e=c}return l}function i(r,e,t,a,n,s,i,u,f,l,v){v=v||[NaN,NaN];for(var h=0,g=t.length;h<g;++h){var c=t[h];l=o(r,e,c,a,n,s,i,u,f,l,v),e=c[c.length-1]}return l}
},{"../../math.js":"qAK2"}],"wnue":[function(require,module,exports) {
"use strict";function e(e,r,t,n){for(var o=0,a=t.length;o<a;++o)e[r++]=t[o];return r}function r(e,r,t,n){for(var o=0,a=t.length;o<a;++o)for(var l=t[o],f=0;f<n;++f)e[r++]=l[f];return r}function t(e,t,n,o,a){a=a||[];for(var l=0,f=0,u=n.length;f<u;++f){var i=r(e,t,n[f],o);a[l++]=i,t=i}return a.length=l,a}function n(e,r,n,o,a){a=a||[];for(var l=0,f=0,u=n.length;f<u;++f){var i=t(e,r,n[f],o,a[l]);0===i.length&&(i[0]=r),a[l++]=i,r=i[i.length-1]}return a.length=l,a}Object.defineProperty(exports,"__esModule",{value:!0}),exports.deflateCoordinate=e,exports.deflateCoordinates=r,exports.deflateCoordinatesArray=t,exports.deflateMultiCoordinatesArray=n;
},{}],"wmMI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.douglasPeucker=t,exports.douglasPeuckerArray=n,exports.douglasPeuckerMultiArray=u,exports.quantize=i,exports.quantizeArray=s,exports.quantizeMultiArray=f,exports.radialDistance=a,exports.simplifyLineString=e,exports.snap=o;var r=require("../../math.js");function e(r,e,n,u,o,i,s){return s=void 0!==s?s:[],i||(n=a(r,e,n,u,o,s,0),r=s,e=0,u=2),s.length=t(r,e,n,u,o,s,0),s}function t(e,t,n,u,a,o,i){var s=(n-t)/u;if(s<3){for(;t<n;t+=u)o[i++]=e[t],o[i++]=e[t+1];return i}var f=new Array(s);f[0]=1,f[s-1]=1;for(var p=[t,n-u],v=0;p.length>0;){for(var l=p.pop(),c=p.pop(),h=0,g=e[c],d=e[c+1],x=e[l],y=e[l+1],q=c+u;q<l;q+=u){var A=e[q],M=e[q+1],P=(0,r.squaredSegmentDistance)(A,M,g,d,x,y);P>h&&(v=q,h=P)}h>a&&(f[(v-t)/u]=1,c+u<v&&p.push(c,v),v+u<l&&p.push(v,l))}for(var k=0;k<s;++k)f[k]&&(o[i++]=e[t+k*u],o[i++]=e[t+k*u+1]);return i}function n(r,e,n,u,a,o,i,s){for(var f=0,p=n.length;f<p;++f){var v=n[f];i=t(r,e,v,u,a,o,i),s.push(i),e=v}return i}function u(r,e,t,u,a,o,i,s){for(var f=0,p=t.length;f<p;++f){var v=t[f],l=[];i=n(r,e,v,u,a,o,i,l),s.push(l),e=v[v.length-1]}return i}function a(e,t,n,u,a,o,i){if(n<=t+u){for(;t<n;t+=u)o[i++]=e[t],o[i++]=e[t+1];return i}var s=e[t],f=e[t+1];o[i++]=s,o[i++]=f;var p=s,v=f;for(t+=u;t<n;t+=u)p=e[t],v=e[t+1],(0,r.squaredDistance)(s,f,p,v)>a&&(o[i++]=p,o[i++]=v,s=p,f=v);return p==s&&v==f||(o[i++]=p,o[i++]=v),i}function o(r,e){return e*Math.round(r/e)}function i(r,e,t,n,u,a,i){if(e==t)return i;var s,f,p=o(r[e],u),v=o(r[e+1],u);e+=n,a[i++]=p,a[i++]=v;do{if(s=o(r[e],u),f=o(r[e+1],u),(e+=n)==t)return a[i++]=s,a[i++]=f,i}while(s==p&&f==v);for(;e<t;){var l=o(r[e],u),c=o(r[e+1],u);if(e+=n,l!=s||c!=f){var h=s-p,g=f-v,d=l-p,x=c-v;h*x==g*d&&(h<0&&d<h||h==d||h>0&&d>h)&&(g<0&&x<g||g==x||g>0&&x>g)?(s=l,f=c):(a[i++]=s,a[i++]=f,p=s,v=f,s=l,f=c)}}return a[i++]=s,a[i++]=f,i}function s(r,e,t,n,u,a,o,s){for(var f=0,p=t.length;f<p;++f){var v=t[f];o=i(r,e,v,n,u,a,o),s.push(o),e=v}return o}function f(r,e,t,n,u,a,o,i){for(var f=0,p=t.length;f<p;++f){var v=t[f],l=[];o=s(r,e,v,n,u,a,o,l),i.push(l),e=v[v.length-1]}return o}
},{"../../math.js":"qAK2"}],"HSYb":[function(require,module,exports) {
"use strict";function e(e,r,t,n,o){o=void 0!==o?o:[];for(var i=0,a=r;a<t;a+=n)o[i++]=e.slice(a,a+n);return o.length=i,o}function r(r,t,n,o,i){i=void 0!==i?i:[];for(var a=0,l=0,s=n.length;l<s;++l){var f=n[l];i[a++]=e(r,t,f,o,i[a]),t=f}return i.length=a,i}function t(e,t,n,o,i){i=void 0!==i?i:[];for(var a=0,l=0,s=n.length;l<s;++l){var f=n[l];i[a++]=1===f.length&&f[0]===t?[]:r(e,t,f,o,i[a]),t=f[f.length-1]}return i.length=a,i}Object.defineProperty(exports,"__esModule",{value:!0}),exports.inflateCoordinates=e,exports.inflateCoordinatesArray=r,exports.inflateMultiCoordinatesArray=t;
},{}],"weGW":[function(require,module,exports) {
"use strict";function r(r,e,n,t){for(var o=0,i=r[n-t],a=r[n-t+1];e<n;e+=t){var s=r[e],u=r[e+1];o+=a*s-i*u,i=s,a=u}return o/2}function e(e,n,t,o){for(var i=0,a=0,s=t.length;a<s;++a){var u=t[a];i+=r(e,n,u,o),n=u}return i}function n(r,n,t,o){for(var i=0,a=0,s=t.length;a<s;++a){var u=t[a];i+=e(r,n,u,o),n=u[u.length-1]}return i}Object.defineProperty(exports,"__esModule",{value:!0}),exports.linearRing=r,exports.linearRings=e,exports.linearRingss=n;
},{}],"AX8o":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=s(require("./SimpleGeometry.js")),e=require("./flat/closest.js"),r=require("../extent.js"),n=require("./flat/deflate.js"),o=require("./flat/simplify.js"),i=require("./flat/inflate.js"),a=require("./flat/area.js");function s(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,y(n.key),n)}}function c(t,e,r){return e&&f(t.prototype,e),r&&f(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function y(t){var e=d(t,"string");return"symbol"===u(e)?e:String(e)}function d(t,e){if("object"!==u(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}function p(t,e){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function v(t){var e=g();return function(){var r,n=C(t);if(e){var o=C(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return b(this,r)}}function b(t,e){if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return m(t)}function m(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function C(t){return(C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var j=function(s){h(f,t.default);var u=v(f);function f(t,e){var r;return l(this,f),(r=u.call(this)).maxDelta_=-1,r.maxDeltaRevision_=-1,void 0===e||Array.isArray(t[0])?r.setCoordinates(t,e):r.setFlatCoordinates(e,t),r}return c(f,[{key:"clone",value:function(){return new f(this.flatCoordinates.slice(),this.layout)}},{key:"closestPointXY",value:function(t,n,o,i){return i<(0,r.closestSquaredDistanceXY)(this.getExtent(),t,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,e.maxSquaredDelta)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,e.assignClosestPoint)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,n,o,i))}},{key:"getArea",value:function(){return(0,a.linearRing)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}},{key:"getCoordinates",value:function(){return(0,i.inflateCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}},{key:"getSimplifiedGeometryInternal",value:function(t){var e=[];return e.length=(0,o.douglasPeucker)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new f(e,"XY")}},{key:"getType",value:function(){return"LinearRing"}},{key:"intersectsExtent",value:function(t){return!1}},{key:"setCoordinates",value:function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,n.deflateCoordinates)(this.flatCoordinates,0,t,this.stride),this.changed()}}]),f}(),_=j;exports.default=_;
},{"./SimpleGeometry.js":"JVJN","./flat/closest.js":"Bhwh","../extent.js":"L0Vw","./flat/deflate.js":"wnue","./flat/simplify.js":"wmMI","./flat/inflate.js":"HSYb","./flat/area.js":"weGW"}],"IIKA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=o(require("./SimpleGeometry.js")),e=require("../extent.js"),r=require("./flat/deflate.js"),n=require("../math.js");function o(t){return t&&t.__esModule?t:{default:t}}function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c(n.key),n)}}function f(t,e,r){return e&&a(t.prototype,e),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function c(t){var e=s(t,"string");return"symbol"===i(e)?e:String(e)}function s(t,e){if("object"!==i(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}function y(t,e){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=b();return function(){var r,n=v(t);if(e){var o=v(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return d(this,r)}}function d(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return h(t)}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m=function(o){l(a,t.default);var i=p(a);function a(t,e){var r;return u(this,a),(r=i.call(this)).setCoordinates(t,e),r}return f(a,[{key:"clone",value:function(){var t=new a(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}},{key:"closestPointXY",value:function(t,e,r,o){var i=this.flatCoordinates,u=(0,n.squaredDistance)(t,e,i[0],i[1]);if(u<o){for(var a=this.stride,f=0;f<a;++f)r[f]=i[f];return r.length=a,u}return o}},{key:"getCoordinates",value:function(){return this.flatCoordinates?this.flatCoordinates.slice():[]}},{key:"computeExtent",value:function(t){return(0,e.createOrUpdateFromCoordinate)(this.flatCoordinates,t)}},{key:"getType",value:function(){return"Point"}},{key:"intersectsExtent",value:function(t){return(0,e.containsXY)(t,this.flatCoordinates[0],this.flatCoordinates[1])}},{key:"setCoordinates",value:function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,r.deflateCoordinate)(this.flatCoordinates,0,t,this.stride),this.changed()}}]),a}(),j=m;exports.default=j;
},{"./SimpleGeometry.js":"JVJN","../extent.js":"L0Vw","./flat/deflate.js":"wnue","../math.js":"qAK2"}],"PaNT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.linearRingContainsExtent=n,exports.linearRingContainsXY=e,exports.linearRingsContainsXY=t,exports.linearRingssContainsXY=i;var r=require("../../extent.js");function n(n,t,i,o,u){return!(0,r.forEachCorner)(u,function(r){return!e(n,t,i,o,r[0],r[1])})}function e(r,n,e,t,i,o){for(var u=0,a=r[e-t],s=r[e-t+1];n<e;n+=t){var f=r[n],l=r[n+1];s<=o?l>o&&(f-a)*(o-s)-(i-a)*(l-s)>0&&u++:l<=o&&(f-a)*(o-s)-(i-a)*(l-s)<0&&u--,a=f,s=l}return 0!==u}function t(r,n,t,i,o,u){if(0===t.length)return!1;if(!e(r,n,t[0],i,o,u))return!1;for(var a=1,s=t.length;a<s;++a)if(e(r,t[a-1],t[a],i,o,u))return!1;return!0}function i(r,n,e,i,o,u){if(0===e.length)return!1;for(var a=0,s=e.length;a<s;++a){var f=e[a];if(t(r,n,f,i,o,u))return!0;n=f[f.length-1]}return!1}
},{"../../extent.js":"L0Vw"}],"amVp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getInteriorPointOfArray=t,exports.getInteriorPointsOfMultiArray=n;var r=require("../../array.js"),e=require("./contains.js");function t(t,n,a,o,s,i,u){for(var f,g,l,v,h,c,p,y=s[i+1],N=[],d=0,j=a.length;d<j;++d){var x=a[d];for(v=t[x-o],c=t[x-o+1],f=n;f<x;f+=o)h=t[f],p=t[f+1],(y<=c&&p<=y||c<=y&&y<=p)&&(l=(y-c)/(p-c)*(h-v)+v,N.push(l)),v=h,c=p}var M=NaN,O=-1/0;for(N.sort(r.ascending),v=N[0],f=1,g=N.length;f<g;++f){h=N[f];var P=Math.abs(h-v);P>O&&(l=(v+h)/2,(0,e.linearRingsContainsXY)(t,n,a,o,l,y)&&(M=l,O=P)),v=h}return isNaN(M)&&(M=s[i]),u?(u.push(M,y,O),u):[M,y,O]}function n(r,e,n,a,o){for(var s=[],i=0,u=n.length;i<u;++i){var f=n[i];s=t(r,e,f,a,o,2*i,s),e=f[f.length-1]}return s}
},{"../../array.js":"o0G8","./contains.js":"PaNT"}],"ps7C":[function(require,module,exports) {
"use strict";function e(e,r,t,o,s){var c;for(r+=o;r<t;r+=o)if(c=s(e.slice(r-o,r),e.slice(r,r+o)))return c;return!1}Object.defineProperty(exports,"__esModule",{value:!0}),exports.forEach=e;
},{}],"aXDF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.intersectsLineString=t,exports.intersectsLineStringArray=i,exports.intersectsLinearRing=s,exports.intersectsLinearRingArray=a,exports.intersectsLinearRingMultiArray=o;var n=require("../../extent.js"),e=require("./segments.js"),r=require("./contains.js");function t(r,t,i,s,a){var o=(0,n.extendFlatCoordinates)((0,n.createEmpty)(),r,t,i,s);return!!(0,n.intersects)(a,o)&&(!!(0,n.containsExtent)(a,o)||(o[0]>=a[0]&&o[2]<=a[2]||(o[1]>=a[1]&&o[3]<=a[3]||(0,e.forEach)(r,t,i,s,function(e,r){return(0,n.intersectsSegment)(a,e,r)}))))}function i(n,e,r,i,s){for(var a=0,o=r.length;a<o;++a){if(t(n,e,r[a],i,s))return!0;e=r[a]}return!1}function s(n,e,i,s,a){return!!t(n,e,i,s,a)||(!!(0,r.linearRingContainsXY)(n,e,i,s,a[0],a[1])||(!!(0,r.linearRingContainsXY)(n,e,i,s,a[0],a[3])||(!!(0,r.linearRingContainsXY)(n,e,i,s,a[2],a[1])||!!(0,r.linearRingContainsXY)(n,e,i,s,a[2],a[3]))))}function a(n,e,i,a,o){if(!s(n,e,i[0],a,o))return!1;if(1===i.length)return!0;for(var u=1,c=i.length;u<c;++u)if((0,r.linearRingContainsExtent)(n,i[u-1],i[u],a,o)&&!t(n,i[u-1],i[u],a,o))return!1;return!0}function o(n,e,r,t,i){for(var s=0,o=r.length;s<o;++s){var u=r[s];if(a(n,e,u,t,i))return!0;e=u[u.length-1]}return!1}
},{"../../extent.js":"L0Vw","./segments.js":"ps7C","./contains.js":"PaNT"}],"kFey":[function(require,module,exports) {
"use strict";function e(e,r,o,t){for(;r<o-t;){for(var s=0;s<t;++s){var a=e[r+s];e[r+s]=e[o-t+s],e[o-t+s]=a}r+=t,o-=t}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.coordinates=e;
},{}],"pxk9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.inflateEnds=s,exports.linearRingIsClockwise=e,exports.linearRingsAreOriented=n,exports.linearRingssAreOriented=t,exports.orientLinearRings=i,exports.orientLinearRingsArray=o;var r=require("./reverse.js");function e(r,e,n,t){for(var i=0,o=r[n-t],s=r[n-t+1];e<n;e+=t){var u=r[e],a=r[e+1];i+=(u-o)*(a+s),o=u,s=a}return 0===i?void 0:i>0}function n(r,n,t,i,o){o=void 0!==o&&o;for(var s=0,u=t.length;s<u;++s){var a=t[s],f=e(r,n,a,i);if(0===s){if(o&&f||!o&&!f)return!1}else if(o&&!f||!o&&f)return!1;n=a}return!0}function t(r,e,t,i,o){for(var s=0,u=t.length;s<u;++s){var a=t[s];if(!n(r,e,a,i,o))return!1;a.length&&(e=a[a.length-1])}return!0}function i(n,t,i,o,s){s=void 0!==s&&s;for(var u=0,a=i.length;u<a;++u){var f=i[u],l=e(n,t,f,o);(0===u?s&&l||!s&&!l:s&&!l||!s&&l)&&(0,r.coordinates)(n,t,f,o),t=f}return t}function o(r,e,n,t,o){for(var s=0,u=n.length;s<u;++s)e=i(r,e,n[s],t,o);return e}function s(r,n){for(var t=[],i=0,o=0,s=0,u=n.length;s<u;++s){var a=n[s];if(e(r,i,a,2)){if(0===t.length)continue;t[t.length-1].push(n[o])}else t.push(n.slice(o,s+1));o=s+1,i=a}return t}
},{"./reverse.js":"kFey"}],"DTlF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.circular=I,exports.default=void 0,exports.fromCircle=L,exports.fromExtent=E,exports.makeRegular=M;var t=v(require("./LinearRing.js")),e=v(require("./Point.js")),n=v(require("./SimpleGeometry.js")),i=require("./flat/closest.js"),r=require("../extent.js"),o=require("./flat/deflate.js"),s=require("../array.js"),a=require("./flat/interiorpoint.js"),l=require("./flat/inflate.js"),u=require("./flat/intersectsextent.js"),f=require("./flat/orient.js"),d=require("./flat/area.js"),h=require("./flat/contains.js"),c=require("../math.js"),y=require("./flat/simplify.js"),g=require("../sphere.js");function v(t){return t&&t.__esModule?t:{default:t}}function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,m(i.key),i)}}function b(t,e,n){return e&&C(t.prototype,e),n&&C(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function m(t){var e=R(t,"string");return"symbol"===p(e)?e:String(e)}function R(t,e){if("object"!==p(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==p(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function j(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P(t,e)}function P(t,e){return(P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function x(t){var e=q();return function(){var n,i=k(t);if(e){var r=k(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return O(this,n)}}function O(t,e){if(e&&("object"===p(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return w(t)}function w(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function q(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function k(t){return(k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var F=function(c){j(v,n.default);var g=x(v);function v(t,e,n){var i;return _(this,v),(i=g.call(this)).ends_=[],i.flatInteriorPointRevision_=-1,i.flatInteriorPoint_=null,i.maxDelta_=-1,i.maxDeltaRevision_=-1,i.orientedRevision_=-1,i.orientedFlatCoordinates_=null,void 0!==e&&n?(i.setFlatCoordinates(e,t),i.ends_=n):i.setCoordinates(t,e),i}return b(v,[{key:"appendLinearRing",value:function(t){this.flatCoordinates?(0,s.extend)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}},{key:"clone",value:function(){var t=new v(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}},{key:"closestPointXY",value:function(t,e,n,o){return o<(0,r.closestSquaredDistanceXY)(this.getExtent(),t,e)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,i.arrayMaxSquaredDelta)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,i.assignClosestArrayPoint)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,o))}},{key:"containsXY",value:function(t,e){return(0,h.linearRingsContainsXY)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)}},{key:"getArea",value:function(){return(0,d.linearRings)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}},{key:"getCoordinates",value:function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),(0,f.orientLinearRings)(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,(0,l.inflateCoordinatesArray)(e,0,this.ends_,this.stride)}},{key:"getEnds",value:function(){return this.ends_}},{key:"getFlatInteriorPoint",value:function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=(0,r.getCenter)(this.getExtent());this.flatInteriorPoint_=(0,a.getInteriorPointOfArray)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}},{key:"getInteriorPoint",value:function(){return new e.default(this.getFlatInteriorPoint(),"XYM")}},{key:"getLinearRingCount",value:function(){return this.ends_.length}},{key:"getLinearRing",value:function(e){return e<0||this.ends_.length<=e?null:new t.default(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)}},{key:"getLinearRings",value:function(){for(var e=this.layout,n=this.flatCoordinates,i=this.ends_,r=[],o=0,s=0,a=i.length;s<a;++s){var l=i[s],u=new t.default(n.slice(o,l),e);r.push(u),o=l}return r}},{key:"getOrientedFlatCoordinates",value:function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;(0,f.linearRingsAreOriented)(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=(0,f.orientLinearRings)(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}},{key:"getSimplifiedGeometryInternal",value:function(t){var e=[],n=[];return e.length=(0,y.quantizeArray)(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),e,0,n),new v(e,"XY",n)}},{key:"getType",value:function(){return"Polygon"}},{key:"intersectsExtent",value:function(t){return(0,u.intersectsLinearRingArray)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)}},{key:"setCoordinates",value:function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=(0,o.deflateCoordinatesArray)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()}}]),v}(),S=F;function I(t,e,n,i){n=n||32;for(var r=[],o=0;o<n;++o)(0,s.extend)(r,(0,g.offset)(t,e,2*Math.PI*o/n,i));return r.push(r[0],r[1]),new F(r,"XY",[r.length])}function E(t){var e=t[0],n=t[1],i=t[2],r=t[3],o=[e,n,e,r,i,r,i,n,e,n];return new F(o,"XY",[o.length])}function L(t,e,n){e=e||32;for(var i=t.getStride(),r=t.getLayout(),o=t.getCenter(),s=i*(e+1),a=new Array(s),l=0;l<s;l+=i){a[l]=0,a[l+1]=0;for(var u=2;u<i;u++)a[l+u]=o[u]}var f=[a.length],d=new F(a,r,f);return M(d,o,t.getRadius(),n),d}function M(t,e,n,i){for(var r=t.getFlatCoordinates(),o=t.getStride(),s=r.length/o-1,a=i||0,l=0;l<=s;++l){var u=l*o,f=a+2*(0,c.modulo)(l,s)*Math.PI/s;r[u]=e[0]+n*Math.cos(f),r[u+1]=e[1]+n*Math.sin(f)}t.changed()}exports.default=S;
},{"./LinearRing.js":"AX8o","./Point.js":"IIKA","./SimpleGeometry.js":"JVJN","./flat/closest.js":"Bhwh","../extent.js":"L0Vw","./flat/deflate.js":"wnue","../array.js":"o0G8","./flat/interiorpoint.js":"amVp","./flat/inflate.js":"HSYb","./flat/intersectsextent.js":"aXDF","./flat/orient.js":"pxk9","./flat/area.js":"weGW","./flat/contains.js":"PaNT","../math.js":"qAK2","./flat/simplify.js":"wmMI","../sphere.js":"TxdA"}],"rXL1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createCenterConstraint=O,exports.createResolutionConstraint=T,exports.createRotationConstraint=Z,exports.default=void 0,exports.isNoopAnimation=N;var t=m(require("./Object.js")),e=m(require("./ViewHint.js")),n=m(require("./ViewProperty.js")),o=require("./tilegrid/common.js"),i=require("./proj.js"),r=require("./functions.js"),a=require("./coordinate.js"),s=require("./asserts.js"),u=require("./centerconstraint.js"),l=require("./math.js"),h=require("./resolutionconstraint.js"),c=require("./rotationconstraint.js"),g=require("./easing.js"),f=require("./extent.js"),v=require("./array.js"),d=require("./geom/Polygon.js");function m(t){return t&&t.__esModule?t:{default:t}}function _(t){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function R(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,C(o.key),o)}}function y(t,e,n){return e&&p(t.prototype,e),n&&p(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function C(t){var e=x(t,"string");return"symbol"===_(e)?e:String(e)}function x(t,e){if("object"!==_(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==_(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function I(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k(t,e)}function k(t,e){return(k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function j(t){var e=S();return function(){var n,o=A(t);if(e){var i=A(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return M(this,n)}}function M(t,e){if(e&&("object"===_(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return b(t)}function b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function A(t){return(A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var E=0,w=function(o){I(h,t.default);var u=j(h);function h(t){var e;return R(this,h),(e=u.call(this)).on,e.once,e.un,t=Object.assign({},t),e.hints_=[0,0],e.animations_=[],e.updateAnimationKey_,e.projection_=(0,i.createProjection)(t.projection,"EPSG:3857"),e.viewportSize_=[100,100],e.targetCenter_=null,e.targetResolution_,e.targetRotation_,e.nextCenter_=null,e.nextResolution_,e.nextRotation_,e.cancelAnchor_=void 0,t.projection&&(0,i.disableCoordinateWarning)(),t.center&&(t.center=(0,i.fromUserCoordinate)(t.center,e.projection_)),t.extent&&(t.extent=(0,i.fromUserExtent)(t.extent,e.projection_)),e.applyOptions_(t),e}return y(h,[{key:"applyOptions_",value:function(t){var e=Object.assign({},t);for(var o in n.default)delete e[o];this.setProperties(e,!0);var i=T(t);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=i.minZoom;var r=O(t),a=i.constraint,s=Z(t);this.constraints_={center:r,resolution:a,rotation:s},this.setRotation(void 0!==t.rotation?t.rotation:0),this.setCenterInternal(void 0!==t.center?t.center:null),void 0!==t.resolution?this.setResolution(t.resolution):void 0!==t.zoom&&this.setZoom(t.zoom)}},{key:"padding",get:function(){return this.padding_},set:function(t){var e=this.padding_;this.padding_=t;var n=this.getCenterInternal();if(n){var o=t||[0,0,0,0];e=e||[0,0,0,0];var i=this.getResolution(),r=i/2*(o[3]-e[3]+e[1]-o[1]),a=i/2*(o[0]-e[0]+e[2]-o[2]);this.setCenterInternal([n[0]+r,n[1]-a])}}},{key:"getUpdatedOptions_",value:function(t){var e=this.getProperties();return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenterInternal(),e.rotation=this.getRotation(),Object.assign({},e,t)}},{key:"animate",value:function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var e=new Array(arguments.length),n=0;n<e.length;++n){var o=arguments[n];o.center&&((o=Object.assign({},o)).center=(0,i.fromUserCoordinate)(o.center,this.getProjection())),o.anchor&&((o=Object.assign({},o)).anchor=(0,i.fromUserCoordinate)(o.anchor,this.getProjection())),e[n]=o}this.animateInternal.apply(this,e)}},{key:"animateInternal",value:function(t){var n,o=arguments.length;o>1&&"function"==typeof arguments[o-1]&&(n=arguments[o-1],--o);for(var i=0;i<o&&!this.isDef();++i){var r=arguments[i];r.center&&this.setCenterInternal(r.center),void 0!==r.zoom?this.setZoom(r.zoom):r.resolution&&this.setResolution(r.resolution),void 0!==r.rotation&&this.setRotation(r.rotation)}if(i!==o){for(var a=Date.now(),s=this.targetCenter_.slice(),u=this.targetResolution_,h=this.targetRotation_,c=[];i<o;++i){var f=arguments[i],v={start:a,complete:!1,anchor:f.anchor,duration:void 0!==f.duration?f.duration:1e3,easing:f.easing||g.inAndOut,callback:n};if(f.center&&(v.sourceCenter=s,v.targetCenter=f.center.slice(),s=v.targetCenter),void 0!==f.zoom?(v.sourceResolution=u,v.targetResolution=this.getResolutionForZoom(f.zoom),u=v.targetResolution):f.resolution&&(v.sourceResolution=u,v.targetResolution=f.resolution,u=v.targetResolution),void 0!==f.rotation){v.sourceRotation=h;var d=(0,l.modulo)(f.rotation-h+Math.PI,2*Math.PI)-Math.PI;v.targetRotation=h+d,h=v.targetRotation}N(v)?v.complete=!0:a+=v.duration,c.push(v)}this.animations_.push(c),this.setHint(e.default.ANIMATING,1),this.updateAnimations_()}else n&&P(n,!0)}},{key:"getAnimating",value:function(){return this.hints_[e.default.ANIMATING]>0}},{key:"getInteracting",value:function(){return this.hints_[e.default.INTERACTING]>0}},{key:"cancelAnimations",value:function(){var t;this.setHint(e.default.ANIMATING,-this.hints_[e.default.ANIMATING]);for(var n=0,o=this.animations_.length;n<o;++n){var i=this.animations_[n];if(i[0].callback&&P(i[0].callback,!1),!t)for(var r=0,a=i.length;r<a;++r){var s=i[r];if(!s.complete){t=s.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}},{key:"updateAnimations_",value:function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),n=!1,o=this.animations_.length-1;o>=0;--o){for(var i=this.animations_[o],r=!0,a=0,s=i.length;a<s;++a){var u=i[a];if(!u.complete){var h=t-u.start,c=u.duration>0?h/u.duration:1;c>=1?(u.complete=!0,c=1):r=!1;var g=u.easing(c);if(u.sourceCenter){var f=u.sourceCenter[0],v=u.sourceCenter[1],d=u.targetCenter[0],m=u.targetCenter[1];this.nextCenter_=u.targetCenter;var _=f+g*(d-f),R=v+g*(m-v);this.targetCenter_=[_,R]}if(u.sourceResolution&&u.targetResolution){var p=1===g?u.targetResolution:u.sourceResolution+g*(u.targetResolution-u.sourceResolution);if(u.anchor){var y=this.getViewportSize_(this.getRotation()),C=this.constraints_.resolution(p,0,y,!0);this.targetCenter_=this.calculateCenterZoom(C,u.anchor)}this.nextResolution_=u.targetResolution,this.targetResolution_=p,this.applyTargetState_(!0)}if(void 0!==u.sourceRotation&&void 0!==u.targetRotation){var x=1===g?(0,l.modulo)(u.targetRotation+Math.PI,2*Math.PI)-Math.PI:u.sourceRotation+g*(u.targetRotation-u.sourceRotation);if(u.anchor){var I=this.constraints_.rotation(x,!0);this.targetCenter_=this.calculateCenterRotate(I,u.anchor)}this.nextRotation_=u.targetRotation,this.targetRotation_=x}if(this.applyTargetState_(!0),n=!0,!u.complete)break}}if(r){this.animations_[o]=null,this.setHint(e.default.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;var k=i[0].callback;k&&P(k,!0)}}this.animations_=this.animations_.filter(Boolean),n&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}}},{key:"calculateCenterRotate",value:function(t,e){var n,o=this.getCenterInternal();return void 0!==o&&(n=[o[0]-e[0],o[1]-e[1]],(0,a.rotate)(n,t-this.getRotation()),(0,a.add)(n,e)),n}},{key:"calculateCenterZoom",value:function(t,e){var n,o=this.getCenterInternal(),i=this.getResolution();void 0!==o&&void 0!==i&&(n=[e[0]-t*(e[0]-o[0])/i,e[1]-t*(e[1]-o[1])/i]);return n}},{key:"getViewportSize_",value:function(t){var e=this.viewportSize_;if(t){var n=e[0],o=e[1];return[Math.abs(n*Math.cos(t))+Math.abs(o*Math.sin(t)),Math.abs(n*Math.sin(t))+Math.abs(o*Math.cos(t))]}return e}},{key:"setViewportSize",value:function(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}},{key:"getCenter",value:function(){var t=this.getCenterInternal();return t?(0,i.toUserCoordinate)(t,this.getProjection()):t}},{key:"getCenterInternal",value:function(){return this.get(n.default.CENTER)}},{key:"getConstraints",value:function(){return this.constraints_}},{key:"getConstrainResolution",value:function(){return this.get("constrainResolution")}},{key:"getHints",value:function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()}},{key:"calculateExtent",value:function(t){var e=this.calculateExtentInternal(t);return(0,i.toUserExtent)(e,this.getProjection())}},{key:"calculateExtentInternal",value:function(t){t=t||this.getViewportSizeMinusPadding_();var e=this.getCenterInternal();(0,s.assert)(e,1);var n=this.getResolution();(0,s.assert)(void 0!==n,2);var o=this.getRotation();return(0,s.assert)(void 0!==o,3),(0,f.getForViewAndSize)(e,n,o,t)}},{key:"getMaxResolution",value:function(){return this.maxResolution_}},{key:"getMinResolution",value:function(){return this.minResolution_}},{key:"getMaxZoom",value:function(){return this.getZoomForResolution(this.minResolution_)}},{key:"setMaxZoom",value:function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))}},{key:"getMinZoom",value:function(){return this.getZoomForResolution(this.maxResolution_)}},{key:"setMinZoom",value:function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))}},{key:"setConstrainResolution",value:function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))}},{key:"getProjection",value:function(){return this.projection_}},{key:"getResolution",value:function(){return this.get(n.default.RESOLUTION)}},{key:"getResolutions",value:function(){return this.resolutions_}},{key:"getResolutionForExtent",value:function(t,e){return this.getResolutionForExtentInternal((0,i.fromUserExtent)(t,this.getProjection()),e)}},{key:"getResolutionForExtentInternal",value:function(t,e){e=e||this.getViewportSizeMinusPadding_();var n=(0,f.getWidth)(t)/e[0],o=(0,f.getHeight)(t)/e[1];return Math.max(n,o)}},{key:"getResolutionForValueFunction",value:function(t){t=t||2;var e=this.getConstrainedResolution(this.maxResolution_),n=this.minResolution_,o=Math.log(e/n)/Math.log(t);return function(n){return e/Math.pow(t,n*o)}}},{key:"getRotation",value:function(){return this.get(n.default.ROTATION)}},{key:"getValueForResolutionFunction",value:function(t){var e=Math.log(t||2),n=this.getConstrainedResolution(this.maxResolution_),o=this.minResolution_,i=Math.log(n/o)/e;return function(t){return Math.log(n/t)/e/i}}},{key:"getViewportSizeMinusPadding_",value:function(t){var e=this.getViewportSize_(t),n=this.padding_;return n&&(e=[e[0]-n[1]-n[3],e[1]-n[0]-n[2]]),e}},{key:"getState",value:function(){var t=this.getProjection(),e=this.getResolution(),n=this.getRotation(),o=this.getCenterInternal(),i=this.padding_;if(i){var r=this.getViewportSizeMinusPadding_();o=z(o,this.getViewportSize_(),[r[0]/2+i[3],r[1]/2+i[0]],e,n)}return{center:o.slice(0),projection:void 0!==t?t:null,resolution:e,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:n,zoom:this.getZoom()}}},{key:"getViewStateAndExtent",value:function(){return{viewState:this.getState(),extent:this.calculateExtent()}}},{key:"getZoom",value:function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t}},{key:"getZoomForResolution",value:function(t){var e,n,o=this.minZoom_||0;if(this.resolutions_){var i=(0,v.linearFindNearest)(this.resolutions_,t,1);o=i,e=this.resolutions_[i],n=i==this.resolutions_.length-1?2:e/this.resolutions_[i+1]}else e=this.maxResolution_,n=this.zoomFactor_;return o+Math.log(e/t)/Math.log(n)}},{key:"getResolutionForZoom",value:function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var e=(0,l.clamp)(Math.floor(t),0,this.resolutions_.length-2),n=this.resolutions_[e]/this.resolutions_[e+1];return this.resolutions_[e]/Math.pow(n,(0,l.clamp)(t-e,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)}},{key:"fit",value:function(t,e){var n;if((0,s.assert)(Array.isArray(t)||"function"==typeof t.getSimplifiedGeometry,24),Array.isArray(t)){(0,s.assert)(!(0,f.isEmpty)(t),25);var o=(0,i.fromUserExtent)(t,this.getProjection());n=(0,d.fromExtent)(o)}else if("Circle"===t.getType()){var r=(0,i.fromUserExtent)(t.getExtent(),this.getProjection());(n=(0,d.fromExtent)(r)).rotate(this.getRotation(),(0,f.getCenter)(r))}else{var a=(0,i.getUserProjection)();n=a?t.clone().transform(a,this.getProjection()):t}this.fitInternal(n,e)}},{key:"rotatedExtentForGeometry",value:function(t){for(var e=this.getRotation(),n=Math.cos(e),o=Math.sin(-e),i=t.getFlatCoordinates(),r=t.getStride(),a=1/0,s=1/0,u=-1/0,l=-1/0,h=0,c=i.length;h<c;h+=r){var g=i[h]*n-i[h+1]*o,f=i[h]*o+i[h+1]*n;a=Math.min(a,g),s=Math.min(s,f),u=Math.max(u,g),l=Math.max(l,f)}return[a,s,u,l]}},{key:"fitInternal",value:function(t,e){var n=(e=e||{}).size;n||(n=this.getViewportSizeMinusPadding_());var o,i=void 0!==e.padding?e.padding:[0,0,0,0],a=void 0!==e.nearest&&e.nearest;o=void 0!==e.minResolution?e.minResolution:void 0!==e.maxZoom?this.getResolutionForZoom(e.maxZoom):0;var s=this.rotatedExtentForGeometry(t),u=this.getResolutionForExtentInternal(s,[n[0]-i[1]-i[3],n[1]-i[0]-i[2]]);u=isNaN(u)?o:Math.max(u,o),u=this.getConstrainedResolution(u,a?0:1);var l=this.getRotation(),h=Math.sin(l),c=Math.cos(l),g=(0,f.getCenter)(s);g[0]+=(i[1]-i[3])/2*u,g[1]+=(i[0]-i[2])/2*u;var v=g[0]*c-g[1]*h,d=g[1]*c+g[0]*h,m=this.getConstrainedCenter([v,d],u),_=e.callback?e.callback:r.VOID;void 0!==e.duration?this.animateInternal({resolution:u,center:m,duration:e.duration,easing:e.easing},_):(this.targetResolution_=u,this.targetCenter_=m,this.applyTargetState_(!1,!0),P(_,!0))}},{key:"centerOn",value:function(t,e,n){this.centerOnInternal((0,i.fromUserCoordinate)(t,this.getProjection()),e,n)}},{key:"centerOnInternal",value:function(t,e,n){this.setCenterInternal(z(t,e,n,this.getResolution(),this.getRotation()))}},{key:"calculateCenterShift",value:function(t,e,n,o){var i,r=this.padding_;if(r&&t){var a=this.getViewportSizeMinusPadding_(-n),s=z(t,o,[a[0]/2+r[3],a[1]/2+r[0]],e,n);i=[t[0]-s[0],t[1]-s[1]]}return i}},{key:"isDef",value:function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()}},{key:"adjustCenter",value:function(t){var e=(0,i.toUserCoordinate)(this.targetCenter_,this.getProjection());this.setCenter([e[0]+t[0],e[1]+t[1]])}},{key:"adjustCenterInternal",value:function(t){var e=this.targetCenter_;this.setCenterInternal([e[0]+t[0],e[1]+t[1]])}},{key:"adjustResolution",value:function(t,e){e=e&&(0,i.fromUserCoordinate)(e,this.getProjection()),this.adjustResolutionInternal(t,e)}},{key:"adjustResolutionInternal",value:function(t,e){var n=this.getAnimating()||this.getInteracting(),o=this.getViewportSize_(this.getRotation()),i=this.constraints_.resolution(this.targetResolution_*t,0,o,n);e&&(this.targetCenter_=this.calculateCenterZoom(i,e)),this.targetResolution_*=t,this.applyTargetState_()}},{key:"adjustZoom",value:function(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)}},{key:"adjustRotation",value:function(t,e){e&&(e=(0,i.fromUserCoordinate)(e,this.getProjection())),this.adjustRotationInternal(t,e)}},{key:"adjustRotationInternal",value:function(t,e){var n=this.getAnimating()||this.getInteracting(),o=this.constraints_.rotation(this.targetRotation_+t,n);e&&(this.targetCenter_=this.calculateCenterRotate(o,e)),this.targetRotation_+=t,this.applyTargetState_()}},{key:"setCenter",value:function(t){this.setCenterInternal(t?(0,i.fromUserCoordinate)(t,this.getProjection()):t)}},{key:"setCenterInternal",value:function(t){this.targetCenter_=t,this.applyTargetState_()}},{key:"setHint",value:function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]}},{key:"setResolution",value:function(t){this.targetResolution_=t,this.applyTargetState_()}},{key:"setRotation",value:function(t){this.targetRotation_=t,this.applyTargetState_()}},{key:"setZoom",value:function(t){this.setResolution(this.getResolutionForZoom(t))}},{key:"applyTargetState_",value:function(t,e){var o=this.getAnimating()||this.getInteracting()||e,i=this.constraints_.rotation(this.targetRotation_,o),r=this.getViewportSize_(i),s=this.constraints_.resolution(this.targetResolution_,0,r,o),u=this.constraints_.center(this.targetCenter_,s,r,o,this.calculateCenterShift(this.targetCenter_,s,i,r));this.get(n.default.ROTATION)!==i&&this.set(n.default.ROTATION,i),this.get(n.default.RESOLUTION)!==s&&(this.set(n.default.RESOLUTION,s),this.set("zoom",this.getZoom(),!0)),u&&this.get(n.default.CENTER)&&(0,a.equals)(this.get(n.default.CENTER),u)||this.set(n.default.CENTER,u),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0}},{key:"resolveConstraints",value:function(t,e,n){t=void 0!==t?t:200;var o=e||0,i=this.constraints_.rotation(this.targetRotation_),r=this.getViewportSize_(i),s=this.constraints_.resolution(this.targetResolution_,o,r),u=this.constraints_.center(this.targetCenter_,s,r,!1,this.calculateCenterShift(this.targetCenter_,s,i,r));if(0===t&&!this.cancelAnchor_)return this.targetResolution_=s,this.targetRotation_=i,this.targetCenter_=u,void this.applyTargetState_();n=n||(0===t?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,this.getResolution()===s&&this.getRotation()===i&&this.getCenterInternal()&&(0,a.equals)(this.getCenterInternal(),u)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:i,center:u,resolution:s,duration:t,easing:g.easeOut,anchor:n}))}},{key:"beginInteraction",value:function(){this.resolveConstraints(0),this.setHint(e.default.INTERACTING,1)}},{key:"endInteraction",value:function(t,e,n){n=n&&(0,i.fromUserCoordinate)(n,this.getProjection()),this.endInteractionInternal(t,e,n)}},{key:"endInteractionInternal",value:function(t,n,o){this.getInteracting()&&(this.setHint(e.default.INTERACTING,-1),this.resolveConstraints(t,n,o))}},{key:"getConstrainedCenter",value:function(t,e){var n=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),n)}},{key:"getConstrainedZoom",value:function(t,e){var n=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(n,e))}},{key:"getConstrainedResolution",value:function(t,e){e=e||0;var n=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,e,n)}}]),h}();function P(t,e){setTimeout(function(){t(e)},0)}function O(t){if(void 0!==t.extent){var e=void 0===t.smoothExtentConstraint||t.smoothExtentConstraint;return(0,u.createExtent)(t.extent,t.constrainOnlyCenter,e)}var n=(0,i.createProjection)(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&n.isGlobal()){var o=n.getExtent().slice();return o[0]=-1/0,o[2]=1/0,(0,u.createExtent)(o,!1,!1)}return u.none}function T(t){var e,n,r,a=void 0!==t.minZoom?t.minZoom:E,s=void 0!==t.maxZoom?t.maxZoom:28,u=void 0!==t.zoomFactor?t.zoomFactor:2,l=void 0!==t.multiWorld&&t.multiWorld,c=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,g=void 0!==t.showFullExtent&&t.showFullExtent,v=(0,i.createProjection)(t.projection,"EPSG:3857"),d=v.getExtent(),m=t.constrainOnlyCenter,_=t.extent;if(l||_||!v.isGlobal()||(m=!1,_=d),void 0!==t.resolutions){var R=t.resolutions;n=R[a],r=void 0!==R[s]?R[s]:R[R.length-1],e=t.constrainResolution?(0,h.createSnapToResolutions)(R,c,!m&&_,g):(0,h.createMinMaxResolution)(n,r,c,!m&&_,g)}else{var p=(d?Math.max((0,f.getWidth)(d),(0,f.getHeight)(d)):360*i.METERS_PER_UNIT.degrees/v.getMetersPerUnit())/o.DEFAULT_TILE_SIZE/Math.pow(2,E),y=p/Math.pow(2,28-E);void 0!==(n=t.maxResolution)?a=0:n=p/Math.pow(u,a),void 0===(r=t.minResolution)&&(r=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(u,s):p/Math.pow(u,s):y),s=a+Math.floor(Math.log(n/r)/Math.log(u)),r=n/Math.pow(u,s-a),e=t.constrainResolution?(0,h.createSnapToPower)(u,n,r,c,!m&&_,g):(0,h.createMinMaxResolution)(n,r,c,!m&&_,g)}return{constraint:e,maxResolution:n,minResolution:r,minZoom:a,zoomFactor:u}}function Z(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?(0,c.createSnapToZero)():!1===e?c.none:"number"==typeof e?(0,c.createSnapToN)(e):c.none}return c.disable}function N(t){return!(t.sourceCenter&&t.targetCenter&&!(0,a.equals)(t.sourceCenter,t.targetCenter))&&(t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation)}function z(t,e,n,o,i){var r=Math.cos(-i),a=Math.sin(-i),s=t[0]*r-t[1]*a,u=t[1]*r+t[0]*a;return[(s+=(e[0]/2-n[0])*o)*r-(u+=(n[1]-e[1]/2)*o)*(a=-a),u*r+s*a]}var F=w;exports.default=F;
},{"./Object.js":"fB8e","./ViewHint.js":"DfOy","./ViewProperty.js":"t10A","./tilegrid/common.js":"exM9","./proj.js":"VAQc","./functions.js":"pDAE","./coordinate.js":"CMtO","./asserts.js":"DVOE","./centerconstraint.js":"fPEB","./math.js":"qAK2","./resolutionconstraint.js":"x1Ou","./rotationconstraint.js":"E0bT","./easing.js":"k82w","./extent.js":"L0Vw","./array.js":"o0G8","./geom/Polygon.js":"DTlF"}],"Ee0U":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,exports.inView=j;var e=s(require("./Base.js")),t=s(require("../events/EventType.js")),r=s(require("./Property.js")),n=s(require("../render/EventType.js")),u=s(require("../View.js")),i=require("../asserts.js"),o=require("../extent.js"),a=require("../events.js");function s(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function y(e,t,r){return t&&f(e.prototype,t),r&&f(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e){var t=h(e,"string");return"symbol"===c(t)?t:String(t)}function h(e,t){if("object"!==c(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function p(){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=v(e,t);if(n){var u=Object.getOwnPropertyDescriptor(n,t);return u.get?u.get.call(arguments.length<3?e:r):u.value}}).apply(this,arguments)}function v(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=P(e)););return e}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}function m(e,t){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=R();return function(){var r,n=P(e);if(t){var u=P(this).constructor;r=Reflect.construct(n,arguments,u)}else r=n.apply(this,arguments);return S(this,r)}}function S(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var O=function(s){g(f,e.default);var c=_(f);function f(e){var t;l(this,f);var n=Object.assign({},e);delete n.source,(t=c.call(this,n)).on,t.once,t.un,t.mapPrecomposeKey_=null,t.mapRenderKey_=null,t.sourceChangeKey_=null,t.renderer_=null,t.sourceReady_=!1,t.rendered=!1,e.render&&(t.render=e.render),e.map&&t.setMap(e.map),t.addChangeListener(r.default.SOURCE,t.handleSourcePropertyChange_);var u=e.source?e.source:null;return t.setSource(u),t}return y(f,[{key:"getLayersArray",value:function(e){return(e=e||[]).push(this),e}},{key:"getLayerStatesArray",value:function(e){return(e=e||[]).push(this.getLayerState()),e}},{key:"getSource",value:function(){return this.get(r.default.SOURCE)||null}},{key:"getRenderSource",value:function(){return this.getSource()}},{key:"getSourceState",value:function(){var e=this.getSource();return e?e.getState():"undefined"}},{key:"handleSourceChange_",value:function(){this.changed(),this.sourceReady_||"ready"!==this.getSource().getState()||(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}},{key:"handleSourcePropertyChange_",value:function(){var e=this;this.sourceChangeKey_&&((0,a.unlistenByKey)(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;var r=this.getSource();r&&(this.sourceChangeKey_=(0,a.listen)(r,t.default.CHANGE,this.handleSourceChange_,this),"ready"===r.getState()&&(this.sourceReady_=!0,setTimeout(function(){e.dispatchEvent("sourceready")},0))),this.changed()}},{key:"getFeatures",value:function(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}},{key:"getData",value:function(e){return this.renderer_&&this.rendered?this.renderer_.getData(e):null}},{key:"isVisible",value:function(e){var t,r,n=this,i=this.getMapInternal();!e&&i&&(e=i.getView()),!(t=e instanceof u.default?{viewState:e.getState(),extent:e.calculateExtent()}:e).layerStatesArray&&i&&(t.layerStatesArray=i.getLayerGroup().getLayerStatesArray()),r=t.layerStatesArray?t.layerStatesArray.find(function(e){return e.layer===n}):this.getLayerState();var a=this.getExtent();return j(r,t.viewState)&&(!a||(0,o.intersects)(a,t.extent))}},{key:"getAttributions",value:function(e){if(!this.isVisible(e))return[];var t,r=this.getSource();if(r&&(t=r.getAttributions()),!t)return[];var n=t(e instanceof u.default?e.getViewStateAndExtent():e);return Array.isArray(n)||(n=[n]),n}},{key:"render",value:function(e,t){var r=this.getRenderer();return r.prepareFrame(e)?(this.rendered=!0,r.renderFrame(e,t)):null}},{key:"unrender",value:function(){this.rendered=!1}},{key:"setMapInternal",value:function(e){e||this.unrender(),this.set(r.default.MAP,e)}},{key:"getMapInternal",value:function(){return this.get(r.default.MAP)}},{key:"setMap",value:function(e){this.mapPrecomposeKey_&&((0,a.unlistenByKey)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&((0,a.unlistenByKey)(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=(0,a.listen)(e,n.default.PRECOMPOSE,function(e){var t=e.frameState.layerStatesArray,r=this.getLayerState(!1);(0,i.assert)(!t.some(function(e){return e.layer===r.layer}),67),t.push(r)},this),this.mapRenderKey_=(0,a.listen)(this,t.default.CHANGE,e.render,e),this.changed())}},{key:"setSource",value:function(e){this.set(r.default.SOURCE,e)}},{key:"getRenderer",value:function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}},{key:"hasRenderer",value:function(){return!!this.renderer_}},{key:"createRenderer",value:function(){return null}},{key:"disposeInternal",value:function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),p(P(f.prototype),"disposeInternal",this).call(this)}}]),f}();function j(e,t){if(!e.visible)return!1;var r=t.resolution;if(r<e.minResolution||r>=e.maxResolution)return!1;var n=t.zoom;return n>e.minZoom&&n<=e.maxZoom}var k=O;exports.default=k;
},{"./Base.js":"o2hU","../events/EventType.js":"GUXn","./Property.js":"yK6k","../render/EventType.js":"JwZs","../View.js":"rXL1","../asserts.js":"DVOE","../extent.js":"L0Vw","../events.js":"MGag"}],"bfRC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=c(require("../Disposable.js")),t=require("../functions.js"),r=require("../util.js"),n=require("../transform.js"),o=require("../extent.js"),i=require("../style/IconImageCache.js"),u=require("../layer/Layer.js"),a=require("../coordinate.js");function c(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y(n.key),n)}}function p(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e){var t=v(e,"string");return"symbol"===f(t)?t:String(t)}function v(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}function b(e,t){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=g();return function(){var r,n=w(e);if(t){var o=w(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return m(this,r)}}function m(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return j(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var O=function(c){d(s,e.default);var f=h(s);function s(e){var t;return l(this,s),(t=f.call(this)).map_=e,t}return p(s,[{key:"dispatchRenderEvent",value:function(e,t){(0,r.abstract)()}},{key:"calculateMatrices2D",value:function(e){var t=e.viewState,r=e.coordinateToPixelTransform,o=e.pixelToCoordinateTransform;(0,n.compose)(r,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),(0,n.makeInverse)(o,r)}},{key:"forEachFeatureAtCoordinate",value:function(e,t,r,n,i,c,f,l){var s,p=t.viewState;function y(e,t,r,n){return i.call(c,t,e?r:null,n)}var v=p.projection,d=(0,a.wrapX)(e.slice(),v),b=[[0,0]];if(v.canWrapX()&&n){var h=v.getExtent(),m=(0,o.getWidth)(h);b.push([-m,0],[m,0])}for(var j=t.layerStatesArray,g=j.length,w=[],O=[],S=0;S<b.length;S++)for(var E=g-1;E>=0;--E){var _=j[E],P=_.layer;if(P.hasRenderer()&&(0,u.inView)(_,p)&&f.call(l,P)){var x=P.getRenderer(),q=P.getSource();if(x&&q){var R=q.getWrapX()?d:e,k=y.bind(null,_.managed);O[0]=R[0]+b[S][0],O[1]=R[1]+b[S][1],s=x.forEachFeatureAtCoordinate(O,t,r,k,w)}if(s)return s}}if(0!==w.length){var C=1/w.length;return w.forEach(function(e,t){return e.distanceSq+=t*C}),w.sort(function(e,t){return e.distanceSq-t.distanceSq}),w.some(function(e){return s=e.callback(e.feature,e.layer,e.geometry)}),s}}},{key:"hasFeatureAtCoordinate",value:function(e,r,n,o,i,u){return void 0!==this.forEachFeatureAtCoordinate(e,r,n,o,t.TRUE,this,i,u)}},{key:"getMap",value:function(){return this.map_}},{key:"renderFrame",value:function(e){(0,r.abstract)()}},{key:"scheduleExpireIconCache",value:function(e){i.shared.canExpireCache()&&e.postRenderFunctions.push(S)}}]),s}();function S(e,t){i.shared.expire()}var E=O;exports.default=E;
},{"../Disposable.js":"jZkk","../functions.js":"pDAE","../util.js":"KA50","../transform.js":"Ln8D","../extent.js":"L0Vw","../style/IconImageCache.js":"V9TC","../layer/Layer.js":"Ee0U","../coordinate.js":"CMtO"}],"UvWG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("../events/Event.js"));function e(t){return t&&t.__esModule?t:{default:t}}function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,i(n.key),n)}}function o(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function i(t){var e=u(t,"string");return"symbol"===r(e)?e:String(e)}function u(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}function l(t,e){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=y();return function(){var r,n=b(t);if(e){var o=b(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return s(this,r)}}function s(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return p(t)}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=function(e){f(n,t.default);var r=a(n);function n(t,e,o,i){var u;return c(this,n),(u=r.call(this,t)).inversePixelTransform=e,u.frameState=o,u.context=i,u}return o(n)}(),d=v;exports.default=d;
},{"../events/Event.js":"M1Cf"}],"MuPn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getFontParameters=exports.CLASS_UNSUPPORTED=exports.CLASS_UNSELECTABLE=exports.CLASS_SELECTABLE=exports.CLASS_HIDDEN=exports.CLASS_CONTROL=exports.CLASS_COLLAPSED=void 0;var e="ol-hidden";exports.CLASS_HIDDEN=e;var r="ol-selectable";exports.CLASS_SELECTABLE=r;var t="ol-unselectable";exports.CLASS_UNSELECTABLE=t;var s="ol-unsupported";exports.CLASS_UNSUPPORTED=s;var l="ol-control";exports.CLASS_CONTROL=l;var a="ol-collapsed";exports.CLASS_COLLAPSED=a;var o=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),S=["style","variant","weight","size","lineHeight","family"],i=function(e){var r=e.match(o);if(!r)return null;for(var t={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},s=0,l=S.length;s<l;++s){var a=r[s+1];void 0!==a&&(t[S[s]]=a)}return t.families=t.family.split(/,\s?/),t};exports.getFontParameters=i;
},{}],"FYLQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createCanvasContext2D=t,exports.outerHeight=o,exports.outerWidth=n,exports.releaseCanvas=r,exports.removeChildren=s,exports.removeNode=i,exports.replaceChildren=d,exports.replaceNode=a;var e=require("./has.js");function t(t,r,n,o){var a;return a=n&&n.length?n.shift():e.WORKER_OFFSCREEN_CANVAS?new OffscreenCanvas(t||300,r||300):document.createElement("canvas"),t&&(a.width=t),r&&(a.height=r),a.getContext("2d",o)}function r(e){var t=e.canvas;t.width=1,t.height=1,e.clearRect(0,0,1,1)}function n(e){var t=e.offsetWidth,r=getComputedStyle(e);return t+=parseInt(r.marginLeft,10)+parseInt(r.marginRight,10)}function o(e){var t=e.offsetHeight,r=getComputedStyle(e);return t+=parseInt(r.marginTop,10)+parseInt(r.marginBottom,10)}function a(e,t){var r=t.parentNode;r&&r.replaceChild(e,t)}function i(e){return e&&e.parentNode?e.parentNode.removeChild(e):null}function s(e){for(;e.lastChild;)e.removeChild(e.lastChild)}function d(e,t){for(var r=e.childNodes,n=0;;++n){var o=r[n],a=t[n];if(!o&&!a)break;o!==a&&(o?a?e.insertBefore(a,o):(e.removeChild(o),--n):e.appendChild(a))}}
},{"./has.js":"mpkP"}],"RKIq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defaultTextBaseline=exports.defaultTextAlign=exports.defaultStrokeStyle=exports.defaultPadding=exports.defaultMiterLimit=exports.defaultLineWidth=exports.defaultLineJoin=exports.defaultLineDashOffset=exports.defaultLineDash=exports.defaultLineCap=exports.defaultFont=exports.defaultFillStyle=exports.checkedFonts=void 0,exports.drawImageOrLabel=j,exports.getTextDimensions=M,exports.measureAndCacheTextWidth=H,exports.measureTextHeight=void 0,exports.measureTextWidth=A,exports.registerFont=void 0,exports.rotateAtOffset=C,exports.textHeights=void 0;var e=s(require("../Object.js")),t=require("../has.js"),r=require("../obj.js"),a=require("../dom.js"),n=require("../css.js");function s(e){return e&&e.__esModule?e:{default:e}}var o="10px sans-serif";exports.defaultFont=o;var i="#000";exports.defaultFillStyle=i;var l="round";exports.defaultLineCap=l;var u=[];exports.defaultLineDash=u;var d=0;exports.defaultLineDashOffset=d;var f="round";exports.defaultLineJoin=f;var p=10;exports.defaultMiterLimit=p;var x="#000";exports.defaultStrokeStyle=x;var v="center";exports.defaultTextAlign=v;var h="middle";exports.defaultTextBaseline=h;var c=[0,0,0,0];exports.defaultPadding=c;var g=1;exports.defaultLineWidth=g;var m=new e.default;exports.checkedFonts=m;var y,L=null,T={};exports.textHeights=T;var b=function(){var e,t,a=100,s="32px ",o=["monospace","serif"],i=o.length,l="wmytzilWMYTZIL@#/&?$%10";function u(e,r,a){for(var n=!0,u=0;u<i;++u){var d=o[u];if(t=A(e+" "+r+" "+s+d,l),a!=d){var f=A(e+" "+r+" "+s+a+","+d,l);n=n&&f!=t}}return!!n}function d(){for(var t=!0,n=m.getKeys(),s=0,o=n.length;s<o;++s){var i=n[s];m.get(i)<a&&(u.apply(this,i.split("\n"))?((0,r.clear)(T),L=null,y=void 0,m.set(i,a)):(m.set(i,m.get(i)+1,!0),t=!1))}t&&(clearInterval(e),e=void 0)}return function(t){var r=(0,n.getFontParameters)(t);if(r)for(var s=r.families,o=0,i=s.length;o<i;++o){var l=s[o],f=r.style+"\n"+r.weight+"\n"+l;void 0===m.get(f)&&(m.set(f,a,!0),u(r.style,r.weight,l)||(m.set(f,0,!0),void 0===e&&(e=setInterval(d,32))))}}}();exports.registerFont=b;var F=function(){var e;return function(r){var a=T[r];if(null==a){if(t.WORKER_OFFSCREEN_CANVAS){var s=(0,n.getFontParameters)(r),o=w(r,"g");a=(isNaN(Number(s.lineHeight))?1.2:Number(s.lineHeight))*(o.actualBoundingBoxAscent+o.actualBoundingBoxDescent)}else e||((e=document.createElement("div")).innerHTML="M",e.style.minHeight="0",e.style.maxHeight="none",e.style.height="auto",e.style.padding="0",e.style.border="none",e.style.position="absolute",e.style.display="block",e.style.left="-99999px"),e.style.font=r,document.body.appendChild(e),a=e.offsetHeight,document.body.removeChild(e);T[r]=a}return a}}();function w(e,t){return L||(L=(0,a.createCanvasContext2D)(1,1)),e!=y&&(L.font=e,y=L.font),L.measureText(t)}function A(e,t){return w(e,t).width}function H(e,t,r){if(t in r)return r[t];var a=t.split("\n").reduce(function(t,r){return Math.max(t,A(e,r))},0);return r[t]=a,a}function M(e,t){for(var r=[],a=[],n=[],s=0,o=0,i=0,l=0,u=0,d=t.length;u<=d;u+=2){var f=t[u];if("\n"!==f&&u!==d){var p=t[u+1]||e.font,x=A(p,f);r.push(x),o+=x;var v=F(p);a.push(v),l=Math.max(l,v)}else s=Math.max(s,o),n.push(o),o=0,i+=l}return{width:s,height:i,widths:r,heights:a,lineWidths:n}}function C(e,t,r,a){0!==t&&(e.translate(r,a),e.rotate(t),e.translate(-r,-a))}function j(e,t,r,a,n,s,o,i,l,u,d){e.save(),1!==r&&(e.globalAlpha*=r),t&&e.setTransform.apply(e,t),a.contextInstructions?(e.translate(l,u),e.scale(d[0],d[1]),I(a,e)):d[0]<0||d[1]<0?(e.translate(l,u),e.scale(d[0],d[1]),e.drawImage(a,n,s,o,i,0,0,o,i)):e.drawImage(a,n,s,o,i,l,u,o*d[0],i*d[1]),e.restore()}function I(e,t){for(var r=e.contextInstructions,a=0,n=r.length;a<n;a+=2)Array.isArray(r[a+1])?t[r[a]].apply(t,r[a+1]):t[r[a]]=r[a+1]}exports.measureTextHeight=F;
},{"../Object.js":"fB8e","../has.js":"mpkP","../obj.js":"SLsU","../dom.js":"FYLQ","../css.js":"MuPn"}],"UhNT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=s(require("./Map.js")),t=s(require("../ObjectEventType.js")),r=s(require("../render/Event.js")),n=s(require("../render/EventType.js")),i=require("../css.js"),o=require("../render/canvas.js"),u=require("../layer/Layer.js"),l=require("../events.js"),c=require("../dom.js");function s(e){return e&&e.__esModule?e:{default:e}}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y(n.key),n)}}function p(e,t,r){return t&&d(e.prototype,t),r&&d(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e){var t=h(e,"string");return"symbol"===a(t)?t:String(t)}function h(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function v(){return(v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=b(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}}).apply(this,arguments)}function b(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=E(e)););return e}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}function _(e,t){return(_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=w();return function(){var r,n=E(e);if(t){var i=E(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return j(this,r)}}function j(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var P=function(s){m(d,e.default);var a=O(d);function d(e){var r;f(this,d),(r=a.call(this,e)).fontChangeListenerKey_=(0,l.listen)(o.checkedFonts,t.default.PROPERTYCHANGE,e.redrawText.bind(e)),r.element_=document.createElement("div");var n=r.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",r.element_.className=i.CLASS_UNSELECTABLE+" ol-layers";var u=e.getViewport();return u.insertBefore(r.element_,u.firstChild||null),r.children_=[],r.renderedVisible_=!0,r}return p(d,[{key:"dispatchRenderEvent",value:function(e,t){var n=this.getMap();if(n.hasListener(e)){var i=new r.default(e,void 0,t);n.dispatchEvent(i)}}},{key:"disposeInternal",value:function(){(0,l.unlistenByKey)(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),v(E(d.prototype),"disposeInternal",this).call(this)}},{key:"renderFrame",value:function(e){if(e){this.calculateMatrices2D(e),this.dispatchRenderEvent(n.default.PRECOMPOSE,e);var t=e.layerStatesArray.sort(function(e,t){return e.zIndex-t.zIndex}),r=e.viewState;this.children_.length=0;for(var i=[],o=null,l=0,s=t.length;l<s;++l){var a=t[l];e.layerIndex=l;var f=a.layer,d=f.getSourceState();if(!(0,u.inView)(a,r)||"ready"!=d&&"undefined"!=d)f.unrender();else{var p=f.render(e,o);p&&(p!==o&&(this.children_.push(p),o=p),"getDeclutter"in f&&i.push(f))}}for(var y=i.length-1;y>=0;--y)i[y].renderDeclutter(e);(0,c.replaceChildren)(this.element_,this.children_),this.dispatchRenderEvent(n.default.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)}}]),d}(),S=P;exports.default=S;
},{"./Map.js":"bfRC","../ObjectEventType.js":"cEhm","../render/Event.js":"UvWG","../render/EventType.js":"JwZs","../css.js":"MuPn","../render/canvas.js":"RKIq","../layer/Layer.js":"Ee0U","../events.js":"MGag","../dom.js":"FYLQ"}],"MeSs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.GroupEvent=void 0;var e=c(require("./Base.js")),t=c(require("../Collection.js")),r=c(require("../CollectionEventType.js")),n=c(require("../events/Event.js")),i=c(require("../events/EventType.js")),o=c(require("../ObjectEventType.js")),a=require("../asserts.js"),s=require("../obj.js"),u=require("../extent.js"),l=require("../util.js"),y=require("../events.js");function c(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v(n.key),n)}}function d(e,t,r){return t&&h(e.prototype,t),r&&h(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e){var t=p(e,"string");return"symbol"===f(t)?t:String(t)}function p(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}function b(e,t){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function L(e){var t=j();return function(){var r,n=x(e);if(t){var i=x(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _(this,r)}}function _(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return E(e)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var R=function(e){g(r,n.default);var t=L(r);function r(e,n){var i;return m(this,r),(i=t.call(this,e)).layer=n,i}return d(r)}();exports.GroupEvent=R;var w={LAYERS:"layers"},A=function(n){g(f,e.default);var c=L(f);function f(e){var r;m(this,f),e=e||{};var n=Object.assign({},e);delete n.layers;var i=e.layers;return(r=c.call(this,n)).on,r.once,r.un,r.layersListenerKeys_=[],r.listenerKeys_={},r.addChangeListener(w.LAYERS,r.handleLayersChanged_),i?Array.isArray(i)?i=new t.default(i.slice(),{unique:!0}):(0,a.assert)("function"==typeof i.getArray,43):i=new t.default(void 0,{unique:!0}),r.setLayers(i),r}return d(f,[{key:"handleLayerChange_",value:function(){this.changed()}},{key:"handleLayersChanged_",value:function(){this.layersListenerKeys_.forEach(y.unlistenByKey),this.layersListenerKeys_.length=0;var e=this.getLayers();for(var t in this.layersListenerKeys_.push((0,y.listen)(e,r.default.ADD,this.handleLayersAdd_,this),(0,y.listen)(e,r.default.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[t].forEach(y.unlistenByKey);(0,s.clear)(this.listenerKeys_);for(var n=e.getArray(),i=0,o=n.length;i<o;i++){var a=n[i];this.registerLayerListeners_(a),this.dispatchEvent(new R("addlayer",a))}this.changed()}},{key:"registerLayerListeners_",value:function(e){var t=[(0,y.listen)(e,o.default.PROPERTYCHANGE,this.handleLayerChange_,this),(0,y.listen)(e,i.default.CHANGE,this.handleLayerChange_,this)];e instanceof f&&t.push((0,y.listen)(e,"addlayer",this.handleLayerGroupAdd_,this),(0,y.listen)(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[(0,l.getUid)(e)]=t}},{key:"handleLayerGroupAdd_",value:function(e){this.dispatchEvent(new R("addlayer",e.layer))}},{key:"handleLayerGroupRemove_",value:function(e){this.dispatchEvent(new R("removelayer",e.layer))}},{key:"handleLayersAdd_",value:function(e){var t=e.element;this.registerLayerListeners_(t),this.dispatchEvent(new R("addlayer",t)),this.changed()}},{key:"handleLayersRemove_",value:function(e){var t=e.element,r=(0,l.getUid)(t);this.listenerKeys_[r].forEach(y.unlistenByKey),delete this.listenerKeys_[r],this.dispatchEvent(new R("removelayer",t)),this.changed()}},{key:"getLayers",value:function(){return this.get(w.LAYERS)}},{key:"setLayers",value:function(e){var t=this.getLayers();if(t)for(var r=t.getArray(),n=0,i=r.length;n<i;++n)this.dispatchEvent(new R("removelayer",r[n]));this.set(w.LAYERS,e)}},{key:"getLayersArray",value:function(e){return e=void 0!==e?e:[],this.getLayers().forEach(function(t){t.getLayersArray(e)}),e}},{key:"getLayerStatesArray",value:function(e){var t=void 0!==e?e:[],r=t.length;this.getLayers().forEach(function(e){e.getLayerStatesArray(t)});var n=this.getLayerState(),i=n.zIndex;e||void 0!==n.zIndex||(i=0);for(var o=r,a=t.length;o<a;o++){var s=t[o];s.opacity*=n.opacity,s.visible=s.visible&&n.visible,s.maxResolution=Math.min(s.maxResolution,n.maxResolution),s.minResolution=Math.max(s.minResolution,n.minResolution),s.minZoom=Math.max(s.minZoom,n.minZoom),s.maxZoom=Math.min(s.maxZoom,n.maxZoom),void 0!==n.extent&&(void 0!==s.extent?s.extent=(0,u.getIntersection)(s.extent,n.extent):s.extent=n.extent),void 0===s.zIndex&&(s.zIndex=i)}return t}},{key:"getSourceState",value:function(){return"ready"}}]),f}(),O=A;exports.default=O;
},{"./Base.js":"o2hU","../Collection.js":"Kjrg","../CollectionEventType.js":"f4vV","../events/Event.js":"M1Cf","../events/EventType.js":"GUXn","../ObjectEventType.js":"cEhm","../asserts.js":"DVOE","../obj.js":"SLsU","../extent.js":"L0Vw","../util.js":"KA50","../events.js":"MGag"}],"umZa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./events/Event.js"));function e(t){return t&&t.__esModule?t:{default:t}}function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u(n.key),n)}}function o(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function u(t){var e=i(t,"string");return"symbol"===r(e)?e:String(e)}function i(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}function l(t,e){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=y();return function(){var r,n=b(t);if(e){var o=b(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p(this,r)}}function p(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return s(t)}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=function(e){f(n,t.default);var r=a(n);function n(t,e,o){var u;return c(this,n),(u=r.call(this,t)).map=e,u.frameState=void 0!==o?o:null,u}return o(n)}(),d=v;exports.default=d;
},{"./events/Event.js":"M1Cf"}],"XTM4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./MapEvent.js"));function e(t){return t&&t.__esModule?t:{default:t}}function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u(n.key),n)}}function i(t,e,r){return e&&o(t.prototype,e),r&&o(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function u(t){var e=c(t,"string");return"symbol"===r(e)?e:String(e)}function c(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function l(){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=f(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}}).apply(this,arguments)}function f(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}function p(t,e){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=b();return function(){var r,n=h(t);if(e){var o=h(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return y(this,r)}}function y(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return v(t)}function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var d=function(e){a(o,t.default);var r=s(o);function o(t,e,i,u,c,l){var f;return n(this,o),(f=r.call(this,t,e,c)).originalEvent=i,f.pixel_=null,f.coordinate_=null,f.dragging=void 0!==u&&u,f.activePointers=l,f}return i(o,[{key:"pixel",get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(t){this.pixel_=t}},{key:"coordinate",get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(t){this.coordinate_=t}},{key:"preventDefault",value:function(){l(h(o.prototype),"preventDefault",this).call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){l(h(o.prototype),"stopPropagation",this).call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}]),o}(),g=d;exports.default=g;
},{"./MapEvent.js":"umZa"}],"LFOz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./events/EventType.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r={SINGLECLICK:"singleclick",CLICK:e.default.CLICK,DBLCLICK:e.default.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};exports.default=r;
},{"./events/EventType.js":"GUXn"}],"Jr4C":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};exports.default=e;
},{}],"iEtH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=a(require("./events/EventType.js")),t=a(require("./MapBrowserEvent.js")),n=a(require("./MapBrowserEventType.js")),i=a(require("./pointer/EventType.js")),r=a(require("./events/Target.js")),o=require("./has.js"),s=require("./events.js");function a(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,h(i.key),i)}}function d(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e){var t=f(e,"string");return"symbol"===u(t)?t:String(t)}function f(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==u(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _(){return(_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=v(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}}).apply(this,arguments)}function v(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=E(e)););return e}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}function y(e,t){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=b();return function(){var n,i=E(e);if(t){var r=E(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return P(this,n)}}function P(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var T=function(a){p(c,r.default);var u=g(c);function c(t,n){var r;l(this,c),(r=u.call(this,t)).map_=t,r.clickTimeoutId_,r.emulateClicks_=!1,r.dragging_=!1,r.dragListenerKeys_=[],r.moveTolerance_=void 0===n?1:n,r.down_=null;var a=r.map_.getViewport();return r.activePointers_=[],r.trackedTouches_={},r.element_=a,r.pointerdownListenerKey_=(0,s.listen)(a,i.default.POINTERDOWN,r.handlePointerDown_,m(r)),r.originalPointerMoveEvent_,r.relayedListenerKey_=(0,s.listen)(a,i.default.POINTERMOVE,r.relayMoveEvent_,m(r)),r.boundHandleTouchMove_=r.handleTouchMove_.bind(m(r)),r.element_.addEventListener(e.default.TOUCHMOVE,r.boundHandleTouchMove_,!!o.PASSIVE_EVENT_LISTENERS&&{passive:!1}),r}return d(c,[{key:"emulateClick_",value:function(e){var i=this,r=new t.default(n.default.CLICK,this.map_,e);this.dispatchEvent(r),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,r=new t.default(n.default.DBLCLICK,this.map_,e),this.dispatchEvent(r)):this.clickTimeoutId_=setTimeout(function(){i.clickTimeoutId_=void 0;var r=new t.default(n.default.SINGLECLICK,i.map_,e);i.dispatchEvent(r)},250)}},{key:"updateActivePointers_",value:function(e){var t=e,i=t.pointerId;if(t.type==n.default.POINTERUP||t.type==n.default.POINTERCANCEL){for(var r in delete this.trackedTouches_[i],this.trackedTouches_)if(this.trackedTouches_[r].target!==t.target){delete this.trackedTouches_[r];break}}else t.type!=n.default.POINTERDOWN&&t.type!=n.default.POINTERMOVE||(this.trackedTouches_[i]=t);this.activePointers_=Object.values(this.trackedTouches_)}},{key:"handlePointerUp_",value:function(e){this.updateActivePointers_(e);var i=new t.default(n.default.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(i),this.emulateClicks_&&!i.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),0===this.activePointers_.length&&(this.dragListenerKeys_.forEach(s.unlistenByKey),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}},{key:"isMouseActionButton_",value:function(e){return 0===e.button}},{key:"handlePointerDown_",value:function(e){this.emulateClicks_=0===this.activePointers_.length,this.updateActivePointers_(e);var i=new t.default(n.default.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(i),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),0===this.dragListenerKeys_.length){var r=this.map_.getOwnerDocument();this.dragListenerKeys_.push((0,s.listen)(r,n.default.POINTERMOVE,this.handlePointerMove_,this),(0,s.listen)(r,n.default.POINTERUP,this.handlePointerUp_,this),(0,s.listen)(this.element_,n.default.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==r&&this.dragListenerKeys_.push((0,s.listen)(this.element_.getRootNode(),n.default.POINTERUP,this.handlePointerUp_,this))}}},{key:"handlePointerMove_",value:function(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;var i=new t.default(n.default.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(i)}}},{key:"relayMoveEvent_",value:function(e){this.originalPointerMoveEvent_=e;var i=!(!this.down_||!this.isMoving_(e));this.dispatchEvent(new t.default(n.default.POINTERMOVE,this.map_,e,i))}},{key:"handleTouchMove_",value:function(e){var t=this.originalPointerMoveEvent_;t&&!t.defaultPrevented||"boolean"==typeof e.cancelable&&!0!==e.cancelable||e.preventDefault()}},{key:"isMoving_",value:function(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}},{key:"disposeInternal",value:function(){this.relayedListenerKey_&&((0,s.unlistenByKey)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(e.default.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&((0,s.unlistenByKey)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(s.unlistenByKey),this.dragListenerKeys_.length=0,this.element_=null,_(E(c.prototype),"disposeInternal",this).call(this)}}]),c}(),O=T;exports.default=O;
},{"./events/EventType.js":"GUXn","./MapBrowserEvent.js":"XTM4","./MapBrowserEventType.js":"LFOz","./pointer/EventType.js":"Jr4C","./events/Target.js":"KnPA","./has.js":"mpkP","./events.js":"MGag"}],"o4sL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"};exports.default=e;
},{}],"XrJm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"};exports.default=e;
},{}],"XG8w":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.DROP=void 0;var e=require("../asserts.js"),t=require("../obj.js");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s(n.key),n)}}function u(e,t,i){return t&&r(e.prototype,t),i&&r(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e){var t=o(e,"string");return"symbol"===i(t)?t:String(t)}function o(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var l=1/0;exports.DROP=l;var h=function(){function i(e,t){n(this,i),this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return u(i,[{key:"clear",value:function(){this.elements_.length=0,this.priorities_.length=0,(0,t.clear)(this.queuedElements_)}},{key:"dequeue",value:function(){var e=this.elements_,t=this.priorities_,i=e[0];1==e.length?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));var n=this.keyFunction_(i);return delete this.queuedElements_[n],i}},{key:"enqueue",value:function(t){(0,e.assert)(!(this.keyFunction_(t)in this.queuedElements_),31);var i=this.priorityFunction_(t);return i!=l&&(this.elements_.push(t),this.priorities_.push(i),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)}},{key:"getCount",value:function(){return this.elements_.length}},{key:"getLeftChildIndex_",value:function(e){return 2*e+1}},{key:"getRightChildIndex_",value:function(e){return 2*e+2}},{key:"getParentIndex_",value:function(e){return e-1>>1}},{key:"heapify_",value:function(){var e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}},{key:"isEmpty",value:function(){return 0===this.elements_.length}},{key:"isKeyQueued",value:function(e){return e in this.queuedElements_}},{key:"isQueued",value:function(e){return this.isKeyQueued(this.keyFunction_(e))}},{key:"siftUp_",value:function(e){for(var t=this.elements_,i=this.priorities_,n=t.length,r=t[e],u=i[e],s=e;e<n>>1;){var o=this.getLeftChildIndex_(e),l=this.getRightChildIndex_(e),h=l<n&&i[l]<i[o]?l:o;t[e]=t[h],i[e]=i[h],e=h}t[e]=r,i[e]=u,this.siftDown_(s,e)}},{key:"siftDown_",value:function(e,t){for(var i=this.elements_,n=this.priorities_,r=i[t],u=n[t];t>e;){var s=this.getParentIndex_(t);if(!(n[s]>u))break;i[t]=i[s],n[t]=n[s],t=s}i[t]=r,n[t]=u}},{key:"reprioritize",value:function(){var e,t,i,n=this.priorityFunction_,r=this.elements_,u=this.priorities_,s=0,o=r.length;for(t=0;t<o;++t)(i=n(e=r[t]))==l?delete this.queuedElements_[this.keyFunction_(e)]:(u[s]=i,r[s++]=e);r.length=s,u.length=s,this.heapify_()}}]),i}(),a=h;exports.default=a;
},{"../asserts.js":"DVOE","../obj.js":"SLsU"}],"FoaO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};exports.default=e;
},{}],"mzg7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,exports.getTilePriority=P;var e=i(require("./events/EventType.js")),t=o(require("./structs/PriorityQueue.js")),r=i(require("./TileState.js"));function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var a=i?Object.getOwnPropertyDescriptor(e,u):null;a&&(a.get||a.set)?Object.defineProperty(o,u,a):o[u]=e[u]}return o.default=e,r&&r.set(e,o),o}function i(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function f(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e){var t=s(e,"string");return"symbol"===u(t)?t:String(t)}function s(e,t){if("object"!==u(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function p(){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=y(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function y(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_(e)););return e}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}function b(e,t){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=O();return function(){var r,n=_(e);if(t){var o=_(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return h(this,r)}}function h(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var j=function(n){d(i,t.default);var o=g(i);function i(e,t){var r;return a(this,i),(r=o.call(this,function(t){return e.apply(null,t)},function(e){return e[0].getKey()})).boundHandleTileChange_=r.handleTileChange.bind(v(r)),r.tileChangeCallback_=t,r.tilesLoading_=0,r.tilesLoadingKeys_={},r}return f(i,[{key:"enqueue",value:function(t){var r=p(_(i.prototype),"enqueue",this).call(this,t);r&&t[0].addEventListener(e.default.CHANGE,this.boundHandleTileChange_);return r}},{key:"getTilesLoading",value:function(){return this.tilesLoading_}},{key:"handleTileChange",value:function(t){var n=t.target,o=n.getState();if(o===r.default.LOADED||o===r.default.ERROR||o===r.default.EMPTY){o!==r.default.ERROR&&n.removeEventListener(e.default.CHANGE,this.boundHandleTileChange_);var i=n.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}}},{key:"loadMoreTiles",value:function(e,t){for(var n,o,i=0;this.tilesLoading_<e&&i<t&&this.getCount()>0;)o=(n=this.dequeue()[0]).getKey(),n.getState()!==r.default.IDLE||o in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++i,n.load())}}]),i}(),w=j;function P(e,r,n,o,i){if(!(e&&n in e.wantedTiles))return t.DROP;if(!e.wantedTiles[n][r.getKey()])return t.DROP;var u=e.viewState.center,a=o[0]-u[0],l=o[1]-u[1];return 65536*Math.log(i)+Math.sqrt(a*a+l*l)/i}exports.default=w;
},{"./events/EventType.js":"GUXn","./structs/PriorityQueue.js":"XG8w","./TileState.js":"FoaO"}],"KrL1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("../Object.js")),t=i(require("../MapEventType.js")),r=require("../functions.js"),n=require("../events.js"),o=require("../dom.js");function i(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function s(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e){var t=a(e,"string");return"symbol"===u(t)?t:String(t)}function a(e,t){if("object"!==u(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function p(){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=y(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function y(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=O(e)););return e}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}function v(e,t){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=g();return function(){var r,n=O(e);if(t){var o=O(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return b(this,r)}}function b(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var j=function(i){d(c,e.default);var u=h(c);function c(e){var t;l(this,c),t=u.call(this);var r=e.element;return!r||e.target||r.style.pointerEvents||(r.style.pointerEvents="auto"),t.element=r||null,t.target_=null,t.map_=null,t.listenerKeys=[],e.render&&(t.render=e.render),e.target&&t.setTarget(e.target),t}return s(c,[{key:"disposeInternal",value:function(){(0,o.removeNode)(this.element),p(O(c.prototype),"disposeInternal",this).call(this)}},{key:"getMap",value:function(){return this.map_}},{key:"setMap",value:function(e){this.map_&&(0,o.removeNode)(this.element);for(var i=0,u=this.listenerKeys.length;i<u;++i)(0,n.unlistenByKey)(this.listenerKeys[i]);(this.listenerKeys.length=0,this.map_=e,e)&&((this.target_?this.target_:e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==r.VOID&&this.listenerKeys.push((0,n.listen)(e,t.default.POSTRENDER,this.render,this)),e.render())}},{key:"render",value:function(e){}},{key:"setTarget",value:function(e){this.target_="string"==typeof e?document.getElementById(e):e}}]),c}(),_=j;exports.default=_;
},{"../Object.js":"fB8e","../MapEventType.js":"o4sL","../functions.js":"pDAE","../events.js":"MGag","../dom.js":"FYLQ"}],"WSLd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./Control.js")),t=r(require("../events/EventType.js")),l=require("../css.js"),o=require("../array.js"),n=require("../dom.js");function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var l=0;l<t.length;l++){var o=t[l];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,c(o.key),o)}}function u(e,t,l){return t&&s(e.prototype,t),l&&s(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e){var t=p(e,"string");return"symbol"===i(t)?t:String(t)}function p(e,t){if("object"!==i(e)||null===e)return e;var l=e[Symbol.toPrimitive];if(void 0!==l){var o=l.call(e,t||"default");if("object"!==i(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}function f(e,t){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=y();return function(){var l,o=v(e);if(t){var n=v(this).constructor;l=Reflect.construct(o,arguments,n)}else l=o.apply(this,arguments);return _(this,l)}}function _(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(r){d(s,e.default);var i=b(s);function s(e){var o;a(this,s),e=e||{},(o=i.call(this,{element:document.createElement("div"),render:e.render,target:e.target})).ulElement_=document.createElement("ul"),o.collapsed_=void 0===e.collapsed||e.collapsed,o.userCollapsed_=o.collapsed_,o.overrideCollapsible_=void 0!==e.collapsible,o.collapsible_=void 0===e.collapsible||e.collapsible,o.collapsible_||(o.collapsed_=!1);var n=void 0!==e.className?e.className:"ol-attribution",r=void 0!==e.tipLabel?e.tipLabel:"Attributions",u=void 0!==e.expandClassName?e.expandClassName:n+"-expand",c=void 0!==e.collapseLabel?e.collapseLabel:"",p=void 0!==e.collapseClassName?e.collapseClassName:n+"-collapse";"string"==typeof c?(o.collapseLabel_=document.createElement("span"),o.collapseLabel_.textContent=c,o.collapseLabel_.className=p):o.collapseLabel_=c;var d=void 0!==e.label?e.label:"i";"string"==typeof d?(o.label_=document.createElement("span"),o.label_.textContent=d,o.label_.className=u):o.label_=d;var f=o.collapsible_&&!o.collapsed_?o.collapseLabel_:o.label_;o.toggleButton_=document.createElement("button"),o.toggleButton_.setAttribute("type","button"),o.toggleButton_.setAttribute("aria-expanded",String(!o.collapsed_)),o.toggleButton_.title=r,o.toggleButton_.appendChild(f),o.toggleButton_.addEventListener(t.default.CLICK,o.handleClick_.bind(h(o)),!1);var b=n+" "+l.CLASS_UNSELECTABLE+" "+l.CLASS_CONTROL+(o.collapsed_&&o.collapsible_?" "+l.CLASS_COLLAPSED:"")+(o.collapsible_?"":" ol-uncollapsible"),_=o.element;return _.className=b,_.appendChild(o.toggleButton_),_.appendChild(o.ulElement_),o.renderedAttributions_=[],o.renderedVisible_=!0,o}return u(s,[{key:"collectSourceAttributions_",value:function(e){var t=Array.from(new Set(this.getMap().getAllLayers().flatMap(function(t){return t.getAttributions(e)}))),l=!this.getMap().getAllLayers().some(function(e){return e.getSource()&&!1===e.getSource().getAttributionsCollapsible()});return this.overrideCollapsible_||this.setCollapsible(l),t}},{key:"updateElement_",value:function(e){if(e){var t=this.collectSourceAttributions_(e),l=t.length>0;if(this.renderedVisible_!=l&&(this.element.style.display=l?"":"none",this.renderedVisible_=l),!(0,o.equals)(t,this.renderedAttributions_)){(0,n.removeChildren)(this.ulElement_);for(var r=0,i=t.length;r<i;++r){var a=document.createElement("li");a.innerHTML=t[r],this.ulElement_.appendChild(a)}this.renderedAttributions_=t}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)}},{key:"handleClick_",value:function(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}},{key:"handleToggle_",value:function(){this.element.classList.toggle(l.CLASS_COLLAPSED),this.collapsed_?(0,n.replaceNode)(this.collapseLabel_,this.label_):(0,n.replaceNode)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}},{key:"getCollapsible",value:function(){return this.collapsible_}},{key:"setCollapsible",value:function(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}},{key:"setCollapsed",value:function(e){this.userCollapsed_=e,this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()}},{key:"getCollapsed",value:function(){return this.collapsed_}},{key:"render",value:function(e){this.updateElement_(e.frameState)}}]),s}(),g=m;exports.default=g;
},{"./Control.js":"KrL1","../events/EventType.js":"GUXn","../css.js":"MuPn","../array.js":"o0G8","../dom.js":"FYLQ"}],"zuam":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=n(require("./Control.js")),e=n(require("../events/EventType.js")),r=require("../css.js"),o=require("../easing.js");function n(t){return t&&t.__esModule?t:{default:t}}function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,s(o.key),o)}}function u(t,e,r){return e&&l(t.prototype,e),r&&l(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function s(t){var e=c(t,"string");return"symbol"===i(e)?e:String(e)}function c(t,e){if("object"!==i(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!==i(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}function d(t,e){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=y();return function(){var r,o=m(t);if(e){var n=m(this).constructor;r=Reflect.construct(o,arguments,n)}else r=o.apply(this,arguments);return b(this,r)}}function b(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return v(t)}function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(n){f(l,t.default);var i=p(l);function l(t){var o;a(this,l),t=t||{},o=i.call(this,{element:document.createElement("div"),render:t.render,target:t.target});var n=void 0!==t.className?t.className:"ol-rotate",u=void 0!==t.label?t.label:"",s=void 0!==t.compassClassName?t.compassClassName:"ol-compass";o.label_=null,"string"==typeof u?(o.label_=document.createElement("span"),o.label_.className=s,o.label_.textContent=u):(o.label_=u,o.label_.classList.add(s));var c=t.tipLabel?t.tipLabel:"Reset rotation",f=document.createElement("button");f.className=n+"-reset",f.setAttribute("type","button"),f.title=c,f.appendChild(o.label_),f.addEventListener(e.default.CLICK,o.handleClick_.bind(v(o)),!1);var d=n+" "+r.CLASS_UNSELECTABLE+" "+r.CLASS_CONTROL,p=o.element;return p.className=d,p.appendChild(f),o.callResetNorth_=t.resetNorth?t.resetNorth:void 0,o.duration_=void 0!==t.duration?t.duration:250,o.autoHide_=void 0===t.autoHide||t.autoHide,o.rotation_=void 0,o.autoHide_&&o.element.classList.add(r.CLASS_HIDDEN),o}return u(l,[{key:"handleClick_",value:function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()}},{key:"resetNorth_",value:function(){var t=this.getMap().getView();if(t){var e=t.getRotation();void 0!==e&&(this.duration_>0&&e%(2*Math.PI)!=0?t.animate({rotation:0,duration:this.duration_,easing:o.easeOut}):t.setRotation(0))}}},{key:"render",value:function(t){var e=t.frameState;if(e){var o=e.viewState.rotation;if(o!=this.rotation_){var n="rotate("+o+"rad)";if(this.autoHide_){var i=this.element.classList.contains(r.CLASS_HIDDEN);i||0!==o?i&&0!==o&&this.element.classList.remove(r.CLASS_HIDDEN):this.element.classList.add(r.CLASS_HIDDEN)}this.label_.style.transform=n}this.rotation_=o}}}]),l}(),_=h;exports.default=_;
},{"./Control.js":"KrL1","../events/EventType.js":"GUXn","../css.js":"MuPn","../easing.js":"k82w"}],"eHXz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./Control.js")),t=r(require("../events/EventType.js")),o=require("../css.js"),n=require("../easing.js");function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function l(e,t,o){return t&&a(e.prototype,t),o&&a(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e){var t=f(e,"string");return"symbol"===i(t)?t:String(t)}function f(e,t){if("object"!==i(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=y();return function(){var o,n=v(e);if(t){var r=v(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return m(this,o)}}function m(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(r){s(a,e.default);var i=p(a);function a(e){var n;u(this,a),e=e||{},n=i.call(this,{element:document.createElement("div"),target:e.target});var r=void 0!==e.className?e.className:"ol-zoom",l=void 0!==e.delta?e.delta:1,c=void 0!==e.zoomInClassName?e.zoomInClassName:r+"-in",f=void 0!==e.zoomOutClassName?e.zoomOutClassName:r+"-out",s=void 0!==e.zoomInLabel?e.zoomInLabel:"+",d=void 0!==e.zoomOutLabel?e.zoomOutLabel:"",p=void 0!==e.zoomInTipLabel?e.zoomInTipLabel:"Zoom in",m=void 0!==e.zoomOutTipLabel?e.zoomOutTipLabel:"Zoom out",y=document.createElement("button");y.className=c,y.setAttribute("type","button"),y.title=p,y.appendChild("string"==typeof s?document.createTextNode(s):s),y.addEventListener(t.default.CLICK,n.handleClick_.bind(b(n),l),!1);var v=document.createElement("button");v.className=f,v.setAttribute("type","button"),v.title=m,v.appendChild("string"==typeof d?document.createTextNode(d):d),v.addEventListener(t.default.CLICK,n.handleClick_.bind(b(n),-l),!1);var h=r+" "+o.CLASS_UNSELECTABLE+" "+o.CLASS_CONTROL,O=n.element;return O.className=h,O.appendChild(y),O.appendChild(v),n.duration_=void 0!==e.duration?e.duration:250,n}return l(a,[{key:"handleClick_",value:function(e,t){t.preventDefault(),this.zoomByDelta_(e)}},{key:"zoomByDelta_",value:function(e){var t=this.getMap().getView();if(t){var o=t.getZoom();if(void 0!==o){var r=t.getConstrainedZoom(o+e);this.duration_>0?(t.getAnimating()&&t.cancelAnimations(),t.animate({zoom:r,duration:this.duration_,easing:n.easeOut})):t.setZoom(r)}}}}]),a}(),O=h;exports.default=O;
},{"./Control.js":"KrL1","../events/EventType.js":"GUXn","../css.js":"MuPn","../easing.js":"k82w"}],"DcOi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defaults=i;var t=u(require("./Attribution.js")),e=u(require("../Collection.js")),o=u(require("./Rotate.js")),r=u(require("./Zoom.js"));function u(t){return t&&t.__esModule?t:{default:t}}function i(u){u=u||{};var i=new e.default;return(void 0===u.zoom||u.zoom)&&i.push(new r.default(u.zoomOptions)),(void 0===u.rotate||u.rotate)&&i.push(new o.default(u.rotateOptions)),(void 0===u.attribution||u.attribution)&&i.push(new t.default(u.attributionOptions)),i}
},{"./Attribution.js":"WSLd","../Collection.js":"Kjrg","./Rotate.js":"zuam","./Zoom.js":"eHXz"}],"NHMn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={ACTIVE:"active"};exports.default=e;
},{}],"qFcG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,exports.pan=h,exports.zoomByDelta=g;var t=r(require("../Object.js")),e=r(require("./Property.js")),n=require("../easing.js");function r(t){return t&&t.__esModule?t:{default:t}}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c(r.key),r)}}function a(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function c(t){var e=f(t,"string");return"symbol"===o(e)?e:String(e)}function f(t,e){if("object"!==o(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}function s(t,e){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=b();return function(){var n,r=d(t);if(e){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return v(t)}function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m=function(n){l(o,t.default);var r=p(o);function o(t){var e;return i(this,o),(e=r.call(this)).on,e.once,e.un,t&&t.handleEvent&&(e.handleEvent=t.handleEvent),e.map_=null,e.setActive(!0),e}return a(o,[{key:"getActive",value:function(){return this.get(e.default.ACTIVE)}},{key:"getMap",value:function(){return this.map_}},{key:"handleEvent",value:function(t){return!0}},{key:"setActive",value:function(t){this.set(e.default.ACTIVE,t)}},{key:"setMap",value:function(t){this.map_=t}}]),o}();function h(t,e,r){var o=t.getCenterInternal();if(o){var i=[o[0]+e[0],o[1]+e[1]];t.animateInternal({duration:void 0!==r?r:250,easing:n.linear,center:t.getConstrainedCenter(i)})}}function g(t,e,r,o){var i=t.getZoom();if(void 0!==i){var u=t.getConstrainedZoom(i+e),a=t.getResolutionForZoom(u);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:a,anchor:r,duration:void 0!==o?o:250,easing:n.easeOut})}}var j=m;exports.default=j;
},{"../Object.js":"fB8e","./Property.js":"NHMn","../easing.js":"k82w"}],"noMw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=o(require("./Interaction.js")),e=r(require("../MapBrowserEventType.js"));function r(t){return t&&t.__esModule?t:{default:t}}function n(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(n=function(t){return t?r:e})(t)}function o(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=n(e);if(r&&r.has(t))return r.get(t);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if("default"!==u&&Object.prototype.hasOwnProperty.call(t,u)){var f=i?Object.getOwnPropertyDescriptor(t,u):null;f&&(f.get||f.set)?Object.defineProperty(o,u,f):o[u]=t[u]}return o.default=t,r&&r.set(t,o),o}function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a(n.key),n)}}function c(t,e,r){return e&&f(t.prototype,e),r&&f(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function a(t){var e=l(t,"string");return"symbol"===i(e)?e:String(e)}function l(t,e){if("object"!==i(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}function s(t,e){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function y(t){var e=v();return function(){var r,n=h(t);if(e){var o=h(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return b(this,r)}}function b(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return d(t)}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var O=function(r){p(o,t.default);var n=y(o);function o(t){var e;return u(this,o),t=t||{},(e=n.call(this)).delta_=t.delta?t.delta:1,e.duration_=void 0!==t.duration?t.duration:250,e}return c(o,[{key:"handleEvent",value:function(r){var n=!1;if(r.type==e.default.DBLCLICK){var o=r.originalEvent,i=r.map,u=r.coordinate,f=o.shiftKey?-this.delta_:this.delta_,c=i.getView();(0,t.zoomByDelta)(c,f,u,this.duration_),o.preventDefault(),n=!0}return!n}}]),o}(),j=O;exports.default=j;
},{"./Interaction.js":"qFcG","../MapBrowserEventType.js":"LFOz"}],"BJIy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.centroid=b,exports.default=void 0;var e=n(require("./Interaction.js")),t=n(require("../MapBrowserEventType.js"));function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}function u(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=l(e,"string");return"symbol"===r(t)?t:String(t)}function l(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}function f(e,t){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=d();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=function(n){c(i,e.default);var r=s(i);function i(e){var t;return o(this,i),e=e||{},t=r.call(this,e),e.handleDownEvent&&(t.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(t.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(t.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(t.handleUpEvent=e.handleUpEvent),e.stopDown&&(t.stopDown=e.stopDown),t.handlingDownUpSequence=!1,t.targetPointers=[],t}return u(i,[{key:"getPointerCount",value:function(){return this.targetPointers.length}},{key:"handleDownEvent",value:function(e){return!1}},{key:"handleDragEvent",value:function(e){}},{key:"handleEvent",value:function(e){if(!e.originalEvent)return!0;var n=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==t.default.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==t.default.POINTERUP){var r=this.handleUpEvent(e);this.handlingDownUpSequence=r&&this.targetPointers.length>0}}else if(e.type==t.default.POINTERDOWN){var o=this.handleDownEvent(e);this.handlingDownUpSequence=o,n=this.stopDown(o)}else e.type==t.default.POINTERMOVE&&this.handleMoveEvent(e);return!n}},{key:"handleMoveEvent",value:function(e){}},{key:"handleUpEvent",value:function(e){return!1}},{key:"stopDown",value:function(e){return e}},{key:"updateTrackedPointers_",value:function(e){e.activePointers&&(this.targetPointers=e.activePointers)}}]),i}();function b(e){for(var t=e.length,n=0,r=0,o=0;o<t;o++)n+=e[o].clientX,r+=e[o].clientY;return{clientX:n/t,clientY:r/t}}var E=y;exports.default=E;
},{"./Interaction.js":"qFcG","../MapBrowserEventType.js":"LFOz"}],"c2fz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.all=i,exports.touchOnly=exports.targetNotEditable=exports.singleClick=exports.shiftKeyOnly=exports.primaryAction=exports.pointerMove=exports.platformModifierKeyOnly=exports.penOnly=exports.noModifierKeys=exports.never=exports.mouseOnly=exports.mouseActionButton=exports.focusWithTabindex=exports.focus=exports.doubleClick=exports.click=exports.always=exports.altShiftKeysOnly=exports.altKeyOnly=void 0;var e=o(require("../MapBrowserEventType.js")),t=require("../functions.js"),r=require("../has.js"),n=require("../asserts.js");function o(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=arguments;return function(e){for(var r=!0,n=0,o=t.length;n<o&&(r=r&&t[n](e));++n);return r}}var a=function(e){var t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey};exports.altKeyOnly=a;var s=function(e){var t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey};exports.altShiftKeysOnly=s;var u=function(e){var t=e.map.getTargetElement(),r=e.map.getOwnerDocument().activeElement;return t.contains(r)};exports.focus=u;var l=function(e){return!e.map.getTargetElement().hasAttribute("tabindex")||u(e)};exports.focusWithTabindex=l;var p=t.TRUE;exports.always=p;var y=function(t){return t.type==e.default.CLICK};exports.click=y;var v=function(e){var t=e.originalEvent;return 0==t.button&&!(r.WEBKIT&&r.MAC&&t.ctrlKey)};exports.mouseActionButton=v;var c=t.FALSE;exports.never=c;var f=function(e){return"pointermove"==e.type};exports.pointerMove=f;var x=function(t){return t.type==e.default.SINGLECLICK};exports.singleClick=x;var K=function(t){return t.type==e.default.DBLCLICK};exports.doubleClick=K;var E=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey};exports.noModifierKeys=E;var d=function(e){var t=e.originalEvent;return!t.altKey&&(r.MAC?t.metaKey:t.ctrlKey)&&!t.shiftKey};exports.platformModifierKeyOnly=d;var g=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey};exports.shiftKeyOnly=g;var m=function(e){var t=e.originalEvent,r=t.target.tagName;return"INPUT"!==r&&"SELECT"!==r&&"TEXTAREA"!==r&&!t.target.isContentEditable};exports.targetNotEditable=m;var h=function(e){var t=e.originalEvent;return(0,n.assert)(void 0!==t,56),"mouse"==t.pointerType};exports.mouseOnly=h;var O=function(e){var t=e.originalEvent;return(0,n.assert)(void 0!==t,56),"touch"===t.pointerType};exports.touchOnly=O;var C=function(e){var t=e.originalEvent;return(0,n.assert)(void 0!==t,56),"pen"===t.pointerType};exports.penOnly=C;var T=function(e){var t=e.originalEvent;return(0,n.assert)(void 0!==t,56),t.isPrimary&&0===t.button};exports.primaryAction=T;
},{"../MapBrowserEventType.js":"LFOz","../functions.js":"pDAE","../has.js":"mpkP","../asserts.js":"DVOE"}],"q4El":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=a(require("./Pointer.js")),e=require("../functions.js"),n=require("../events/condition.js"),r=require("../easing.js"),i=require("../coordinate.js");function o(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(o=function(t){return t?n:e})(t)}function a(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=o(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var u=i?Object.getOwnPropertyDescriptor(t,a):null;u&&(u.get||u.set)?Object.defineProperty(r,a,u):r[a]=t[a]}return r.default=t,n&&n.set(t,r),r}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f(r.key),r)}}function l(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function f(t){var e=p(t,"string");return"symbol"===u(e)?e:String(e)}function p(t,e){if("object"!==u(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}function y(t,e){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=v();return function(){var n,r=_(t);if(e){var i=_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g(this,n)}}function g(t,e){if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return b(t)}function b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m=function(o){h(u,t.default);var a=d(u);function u(t){var r;c(this,u),t=t||{},(r=a.call(this,{stopDown:e.FALSE})).kinetic_=t.kinetic,r.lastCentroid=null,r.lastPointersCount_,r.panning_=!1;var i=t.condition?t.condition:(0,n.all)(n.noModifierKeys,n.primaryAction);return r.condition_=t.onFocusOnly?(0,n.all)(n.focusWithTabindex,i):i,r.noKinetic_=!1,r}return l(u,[{key:"handleDragEvent",value:function(e){var n=e.map;this.panning_||(this.panning_=!0,n.getView().beginInteraction());var r=this.targetPointers,o=n.getEventPixel((0,t.centroid)(r));if(r.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(o[0],o[1]),this.lastCentroid){var a=[this.lastCentroid[0]-o[0],o[1]-this.lastCentroid[1]],u=e.map.getView();(0,i.scale)(a,u.getResolution()),(0,i.rotate)(a,u.getRotation()),u.adjustCenterInternal(a)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=o,this.lastPointersCount_=r.length,e.originalEvent.preventDefault()}},{key:"handleUpEvent",value:function(t){var e=t.map,n=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var i=this.kinetic_.getDistance(),o=this.kinetic_.getAngle(),a=n.getCenterInternal(),u=e.getPixelFromCoordinateInternal(a),c=e.getCoordinateFromPixelInternal([u[0]-i*Math.cos(o),u[1]-i*Math.sin(o)]);n.animateInternal({center:n.getConstrainedCenter(c),duration:500,easing:r.easeOut})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}},{key:"handleDownEvent",value:function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}]),u}(),P=m;exports.default=P;
},{"./Pointer.js":"BJIy","../functions.js":"pDAE","../events/condition.js":"c2fz","../easing.js":"k82w","../coordinate.js":"CMtO"}],"CIOI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=o(require("./Pointer.js")),e=require("../functions.js"),n=require("../events/condition.js"),r=require("../rotationconstraint.js");function o(t){return t&&t.__esModule?t:{default:t}}function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f(r.key),r)}}function a(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function f(t){var e=l(t,"string");return"symbol"===i(e)?e:String(e)}function l(t,e){if("object"!==i(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}function p(t,e){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function y(t){var e=v();return function(){var n,r=h(t);if(e){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return b(t)}function b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m=function(o){s(c,t.default);var i=y(c);function c(t){var r;return u(this,c),t=t||{},(r=i.call(this,{stopDown:e.FALSE})).condition_=t.condition?t.condition:n.altShiftKeysOnly,r.lastAngle_=void 0,r.duration_=void 0!==t.duration?t.duration:250,r}return a(c,[{key:"handleDragEvent",value:function(t){if((0,n.mouseOnly)(t)){var e=t.map,o=e.getView();if(o.getConstraints().rotation!==r.disable){var i=e.getSize(),u=t.pixel,c=Math.atan2(i[1]/2-u[1],u[0]-i[0]/2);if(void 0!==this.lastAngle_){var a=c-this.lastAngle_;o.adjustRotationInternal(-a)}this.lastAngle_=c}}}},{key:"handleUpEvent",value:function(t){return!(0,n.mouseOnly)(t)||(t.map.getView().endInteraction(this.duration_),!1)}},{key:"handleDownEvent",value:function(t){return!!(0,n.mouseOnly)(t)&&(!(!(0,n.mouseActionButton)(t)||!this.condition_(t))&&(t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0))}}]),c}(),g=m;exports.default=g;
},{"./Pointer.js":"BJIy","../functions.js":"pDAE","../events/condition.js":"c2fz","../rotationconstraint.js":"E0bT"}],"p2lH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("../Disposable.js")),t=r(require("../geom/Polygon.js"));function r(e){return e&&e.__esModule?e:{default:e}}function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function u(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e){var t=a(e,"string");return"symbol"===n(t)?t:String(t)}function a(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}function c(e,t){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=h();return function(){var r,n=m(e);if(t){var o=m(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p(this,r)}}function p(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(r){s(i,e.default);var n=f(i);function i(e){var t;return o(this,i),(t=n.call(this)).geometry_=null,t.element_=document.createElement("div"),t.element_.style.position="absolute",t.element_.style.pointerEvents="auto",t.element_.className="ol-box "+e,t.map_=null,t.startPixel_=null,t.endPixel_=null,t}return u(i,[{key:"disposeInternal",value:function(){this.setMap(null)}},{key:"render_",value:function(){var e=this.startPixel_,t=this.endPixel_,r=this.element_.style;r.left=Math.min(e[0],t[0])+"px",r.top=Math.min(e[1],t[1])+"px",r.width=Math.abs(t[0]-e[0])+"px",r.height=Math.abs(t[1]-e[1])+"px"}},{key:"setMap",value:function(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var t=this.element_.style;t.left="inherit",t.top="inherit",t.width="inherit",t.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}},{key:"setPixels",value:function(e,t){this.startPixel_=e,this.endPixel_=t,this.createOrUpdateGeometry(),this.render_()}},{key:"createOrUpdateGeometry",value:function(){var e=this.startPixel_,r=this.endPixel_,n=[e,[e[0],r[1]],r,[r[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new t.default([n])}},{key:"getGeometry",value:function(){return this.geometry_}}]),i}(),_=d;exports.default=_;
},{"../Disposable.js":"jZkk","../geom/Polygon.js":"DTlF"}],"vAhX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.DragBoxEvent=void 0;var t=r(require("../events/Event.js")),e=r(require("./Pointer.js")),n=r(require("../render/Box.js")),o=require("../events/condition.js");function r(t){return t&&t.__esModule?t:{default:t}}function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,a(o.key),o)}}function c(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function a(t){var e=l(t,"string");return"symbol"===i(e)?e:String(e)}function l(t,e){if("object"!==i(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==i(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}function d(t,e){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=v();return function(){var n,o=x(t);if(e){var r=x(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return b(this,n)}}function b(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return y(t)}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"},E=function(e){f(o,t.default);var n=p(o);function o(t,e,r){var i;return s(this,o),(i=n.call(this,t)).coordinate=e,i.mapBrowserEvent=r,i}return c(o)}();exports.DragBoxEvent=E;var _=function(t){f(i,e.default);var r=p(i);function i(t){var e;return s(this,i),(e=r.call(this)).on,e.once,e.un,t=t||{},e.box_=new n.default(t.className||"ol-dragbox"),e.minArea_=void 0!==t.minArea?t.minArea:64,t.onBoxEnd&&(e.onBoxEnd=t.onBoxEnd),e.startPixel_=null,e.condition_=t.condition?t.condition:o.mouseActionButton,e.boxEndCondition_=t.boxEndCondition?t.boxEndCondition:e.defaultBoxEndCondition,e}return c(i,[{key:"defaultBoxEndCondition",value:function(t,e,n){var o=n[0]-e[0],r=n[1]-e[1];return o*o+r*r>=this.minArea_}},{key:"getGeometry",value:function(){return this.box_.getGeometry()}},{key:"handleDragEvent",value:function(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new E(h.BOXDRAG,t.coordinate,t))}},{key:"handleUpEvent",value:function(t){this.box_.setMap(null);var e=this.boxEndCondition_(t,this.startPixel_,t.pixel);return e&&this.onBoxEnd(t),this.dispatchEvent(new E(e?h.BOXEND:h.BOXCANCEL,t.coordinate,t)),!1}},{key:"handleDownEvent",value:function(t){return!!this.condition_(t)&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new E(h.BOXSTART,t.coordinate,t)),!0)}},{key:"onBoxEnd",value:function(t){}}]),i}(),m=_;exports.default=m;
},{"../events/Event.js":"M1Cf","./Pointer.js":"BJIy","../render/Box.js":"p2lH","../events/condition.js":"c2fz"}],"uy5k":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=n(require("./DragBox.js")),e=require("../easing.js"),r=require("../events/condition.js");function n(t){return t&&t.__esModule?t:{default:t}}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,f(n.key),n)}}function c(t,e,r){return e&&u(t.prototype,e),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function f(t){var e=a(t,"string");return"symbol"===o(e)?e:String(e)}function a(t,e){if("object"!==o(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}function s(t,e){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function y(t){var e=b();return function(){var r,n=v(t);if(e){var o=v(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p(this,r)}}function p(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return d(t)}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m=function(n){l(u,t.default);var o=y(u);function u(t){var e;i(this,u);var n=(t=t||{}).condition?t.condition:r.shiftKeyOnly;return(e=o.call(this,{condition:n,className:t.className||"ol-dragzoom",minArea:t.minArea})).duration_=void 0!==t.duration?t.duration:200,e.out_=void 0!==t.out&&t.out,e}return c(u,[{key:"onBoxEnd",value:function(t){var r=this.getMap().getView(),n=this.getGeometry();if(this.out_){var o=r.rotatedExtentForGeometry(n),i=r.getResolutionForExtentInternal(o),u=r.getResolution()/i;(n=n.clone()).scale(u*u)}r.fitInternal(n,{duration:this.duration_,easing:e.easeOut})}}]),u}(),h=m;exports.default=h;
},{"./DragBox.js":"vAhX","../easing.js":"k82w","../events/condition.js":"c2fz"}],"tzsM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};exports.default=r;
},{}],"DsUC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=f(require("../events/EventType.js")),e=u(require("./Interaction.js")),r=f(require("../events/Key.js")),n=require("../events/condition.js"),o=require("../coordinate.js");function i(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(i=function(t){return t?r:e})(t)}function u(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=i(e);if(r&&r.has(t))return r.get(t);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if("default"!==u&&Object.prototype.hasOwnProperty.call(t,u)){var f=o?Object.getOwnPropertyDescriptor(t,u):null;f&&(f.get||f.set)?Object.defineProperty(n,u,f):n[u]=t[u]}return n.default=t,r&&r.set(t,n),n}function f(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,s(n.key),n)}}function p(t,e,r){return e&&l(t.prototype,e),r&&l(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function s(t){var e=y(t,"string");return"symbol"===a(e)?e:String(e)}function y(t,e){if("object"!==a(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v(t,e)}function v(t,e){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function b(t){var e=h();return function(){var r,n=_(t);if(e){var o=_(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return O(this,r)}}function O(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return j(t)}function j(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m=function(i){d(f,e.default);var u=b(f);function f(t){var e;return c(this,f),t=t||{},(e=u.call(this)).defaultCondition_=function(t){return(0,n.noModifierKeys)(t)&&(0,n.targetNotEditable)(t)},e.condition_=void 0!==t.condition?t.condition:e.defaultCondition_,e.duration_=void 0!==t.duration?t.duration:100,e.pixelDelta_=void 0!==t.pixelDelta?t.pixelDelta:128,e}return p(f,[{key:"handleEvent",value:function(n){var i=!1;if(n.type==t.default.KEYDOWN){var u=n.originalEvent,f=u.key;if(this.condition_(n)&&(f==r.default.DOWN||f==r.default.LEFT||f==r.default.RIGHT||f==r.default.UP)){var a=n.map.getView(),c=a.getResolution()*this.pixelDelta_,l=0,p=0;f==r.default.DOWN?p=-c:f==r.default.LEFT?l=-c:f==r.default.RIGHT?l=c:p=c;var s=[l,p];(0,o.rotate)(s,a.getRotation()),(0,e.pan)(a,s,this.duration_),u.preventDefault(),i=!0}}return!i}}]),f}(),w=m;exports.default=w;
},{"../events/EventType.js":"GUXn","./Interaction.js":"qFcG","../events/Key.js":"tzsM","../events/condition.js":"c2fz","../coordinate.js":"CMtO"}],"LPsd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=i(require("../events/EventType.js")),e=o(require("./Interaction.js")),r=require("../events/condition.js");function n(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(n=function(t){return t?r:e})(t)}function o(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=n(e);if(r&&r.has(t))return r.get(t);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if("default"!==u&&Object.prototype.hasOwnProperty.call(t,u)){var f=i?Object.getOwnPropertyDescriptor(t,u):null;f&&(f.get||f.set)?Object.defineProperty(o,u,f):o[u]=t[u]}return o.default=t,r&&r.set(t,o),o}function i(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,l(n.key),n)}}function a(t,e,r){return e&&c(t.prototype,e),r&&c(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function l(t){var e=p(t,"string");return"symbol"===u(e)?e:String(e)}function p(t,e){if("object"!==u(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}function y(t,e){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=O();return function(){var r,n=h(t);if(e){var o=h(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return b(this,r)}}function b(t,e){if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return v(t)}function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var j=function(n){s(i,e.default);var o=d(i);function i(t){var e;return f(this,i),t=t||{},(e=o.call(this)).condition_=t.condition?t.condition:r.targetNotEditable,e.delta_=t.delta?t.delta:1,e.duration_=void 0!==t.duration?t.duration:100,e}return a(i,[{key:"handleEvent",value:function(r){var n=!1;if(r.type==t.default.KEYDOWN||r.type==t.default.KEYPRESS){var o=r.originalEvent,i=o.key;if(this.condition_(r)&&("+"===i||"-"===i)){var u=r.map,f="+"===i?this.delta_:-this.delta_,c=u.getView();(0,e.zoomByDelta)(c,f,void 0,this.duration_),o.preventDefault(),n=!0}}return!n}}]),i}(),m=j;exports.default=m;
},{"../events/EventType.js":"GUXn","./Interaction.js":"qFcG","../events/condition.js":"c2fz"}],"pnST":[function(require,module,exports) {
"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(i)}function i(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function e(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,o(n.key),n)}}function n(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function o(i){var e=r(i,"string");return"symbol"===t(e)?e:String(e)}function r(i,e){if("object"!==t(i)||null===i)return i;var n=i[Symbol.toPrimitive];if(void 0!==n){var o=n.call(i,e||"default");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(i)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var s=function(){function t(e,n,o){i(this,t),this.decay_=e,this.minVelocity_=n,this.delay_=o,this.points_=[],this.angle_=0,this.initialVelocity_=0}return n(t,[{key:"begin",value:function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}},{key:"update",value:function(t,i){this.points_.push(t,i,Date.now())}},{key:"end",value:function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,i=this.points_.length-3;if(this.points_[i+2]<t)return!1;for(var e=i-3;e>0&&this.points_[e+2]>t;)e-=3;var n=this.points_[i+2]-this.points_[e+2];if(n<1e3/60)return!1;var o=this.points_[i]-this.points_[e],r=this.points_[i+1]-this.points_[e+1];return this.angle_=Math.atan2(r,o),this.initialVelocity_=Math.sqrt(o*o+r*r)/n,this.initialVelocity_>this.minVelocity_}},{key:"getDistance",value:function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}},{key:"getAngle",value:function(){return this.angle_}}]),t}(),a=s;exports.default=a;
},{}],"X7Iz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=u(require("../events/EventType.js")),e=a(require("./Interaction.js")),o=require("../has.js"),n=require("../events/condition.js"),r=require("../math.js");function i(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,o=new WeakMap;return(i=function(t){return t?o:e})(t)}function a(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=i(e);if(o&&o.has(t))return o.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var u=r?Object.getOwnPropertyDescriptor(t,a):null;u&&(u.get||u.set)?Object.defineProperty(n,a,u):n[a]=t[a]}return n.default=t,o&&o.set(t,n),n}function u(t){return t&&t.__esModule?t:{default:t}}function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,d(n.key),n)}}function f(t,e,o){return e&&c(t.prototype,e),o&&c(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}function d(t){var e=h(t,"string");return"symbol"===s(e)?e:String(e)}function h(t,e){if("object"!==s(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,e||"default");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function _(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}function p(t,e){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function m(t){var e=b();return function(){var o,n=O(t);if(e){var r=O(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return v(this,o)}}function v(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return y(t)}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function O(t){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var j=function(i){_(u,e.default);var a=m(u);function u(t){var e;l(this,u),t=t||{},(e=a.call(this,t)).totalDelta_=0,e.lastDelta_=0,e.maxDelta_=void 0!==t.maxDelta?t.maxDelta:1,e.duration_=void 0!==t.duration?t.duration:250,e.timeout_=void 0!==t.timeout?t.timeout:80,e.useAnchor_=void 0===t.useAnchor||t.useAnchor,e.constrainResolution_=void 0!==t.constrainResolution&&t.constrainResolution;var o=t.condition?t.condition:n.always;return e.condition_=t.onFocusOnly?(0,n.all)(n.focusWithTabindex,o):o,e.lastAnchor_=null,e.startTime_=void 0,e.timeoutId_,e.mode_=void 0,e.trackpadEventGap_=400,e.trackpadTimeoutId_,e.deltaPerZoom_=300,e}return f(u,[{key:"endInteraction_",value:function(){this.trackpadTimeoutId_=void 0;var t=this.getMap();t&&t.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}},{key:"handleEvent",value:function(e){if(!this.condition_(e))return!0;if(e.type!==t.default.WHEEL)return!0;var n,r=e.map,i=e.originalEvent;if(i.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.coordinate),e.type==t.default.WHEEL&&(n=i.deltaY,o.FIREFOX&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(n/=o.DEVICE_PIXEL_RATIO),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(n*=40)),0===n)return!1;this.lastDelta_=n;var a=Date.now();void 0===this.startTime_&&(this.startTime_=a),(!this.mode_||a-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(n)<4?"trackpad":"wheel");var u=r.getView();if("trackpad"===this.mode_&&!u.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(u.getAnimating()&&u.cancelAnimations(),u.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),u.adjustZoom(-n/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=a,!1;this.totalDelta_+=n;var s=Math.max(this.timeout_-(a-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,r),s),!1}},{key:"handleWheelZoom_",value:function(t){var o=t.getView();o.getAnimating()&&o.cancelAnimations();var n=-(0,r.clamp)(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(o.getConstrainResolution()||this.constrainResolution_)&&(n=n?n>0?1:-1:0),(0,e.zoomByDelta)(o,n,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}},{key:"setMouseAnchor",value:function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)}}]),u}(),g=j;exports.default=g;
},{"../events/EventType.js":"GUXn","./Interaction.js":"qFcG","../has.js":"mpkP","../events/condition.js":"c2fz","../math.js":"qAK2"}],"mfRS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=o(require("./Pointer.js")),e=require("../functions.js"),r=require("../rotationconstraint.js");function n(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(n=function(t){return t?r:e})(t)}function o(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=n(e);if(r&&r.has(t))return r.get(t);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var u=i?Object.getOwnPropertyDescriptor(t,a):null;u&&(u.get||u.set)?Object.defineProperty(o,a,u):o[a]=t[a]}return o.default=t,r&&r.set(t,o),o}function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,l(n.key),n)}}function c(t,e,r){return e&&u(t.prototype,e),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function l(t){var e=f(t,"string");return"symbol"===i(e)?e:String(e)}function f(t,e){if("object"!==i(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}function p(t,e){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=v();return function(){var r,n=b(t);if(e){var o=b(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return y(this,r)}}function y(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return d(t)}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var g=function(n){s(i,t.default);var o=h(i);function i(t){var r;a(this,i);var n=t=t||{};return n.stopDown||(n.stopDown=e.FALSE),(r=o.call(this,n)).anchor_=null,r.lastAngle_=void 0,r.rotating_=!1,r.rotationDelta_=0,r.threshold_=void 0!==t.threshold?t.threshold:.3,r.duration_=void 0!==t.duration?t.duration:250,r}return c(i,[{key:"handleDragEvent",value:function(e){var n=0,o=this.targetPointers[0],i=this.targetPointers[1],a=Math.atan2(i.clientY-o.clientY,i.clientX-o.clientX);if(void 0!==this.lastAngle_){var u=a-this.lastAngle_;this.rotationDelta_+=u,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=u}this.lastAngle_=a;var c=e.map,l=c.getView();l.getConstraints().rotation!==r.disable&&(this.anchor_=c.getCoordinateFromPixelInternal(c.getEventPixel((0,t.centroid)(this.targetPointers))),this.rotating_&&(c.render(),l.adjustRotationInternal(n,this.anchor_)))}},{key:"handleUpEvent",value:function(t){return!(this.targetPointers.length<2)||(t.map.getView().endInteraction(this.duration_),!1)}},{key:"handleDownEvent",value:function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1}}]),i}(),_=g;exports.default=_;
},{"./Pointer.js":"BJIy","../functions.js":"pDAE","../rotationconstraint.js":"E0bT"}],"V7NS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=n(require("./Pointer.js")),e=require("../functions.js");function r(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(r=function(t){return t?n:e})(t)}function n(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=r(e);if(n&&n.has(t))return n.get(t);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var u=i?Object.getOwnPropertyDescriptor(t,a):null;u&&(u.get||u.set)?Object.defineProperty(o,a,u):o[a]=t[a]}return o.default=t,n&&n.set(t,o),o}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c(n.key),n)}}function u(t,e,r){return e&&a(t.prototype,e),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function c(t){var e=l(t,"string");return"symbol"===o(e)?e:String(e)}function l(t,e){if("object"!==o(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}function s(t,e){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=v();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return y(this,r)}}function y(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return h(t)}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b=function(r){f(o,t.default);var n=p(o);function o(t){var r;i(this,o);var a=t=t||{};return a.stopDown||(a.stopDown=e.FALSE),(r=n.call(this,a)).anchor_=null,r.duration_=void 0!==t.duration?t.duration:400,r.lastDistance_=void 0,r.lastScaleDelta_=1,r}return u(o,[{key:"handleDragEvent",value:function(e){var r=1,n=this.targetPointers[0],o=this.targetPointers[1],i=n.clientX-o.clientX,a=n.clientY-o.clientY,u=Math.sqrt(i*i+a*a);void 0!==this.lastDistance_&&(r=this.lastDistance_/u),this.lastDistance_=u;var c=e.map,l=c.getView();1!=r&&(this.lastScaleDelta_=r),this.anchor_=c.getCoordinateFromPixelInternal(c.getEventPixel((0,t.centroid)(this.targetPointers))),c.render(),l.adjustResolutionInternal(r,this.anchor_)}},{key:"handleUpEvent",value:function(t){if(this.targetPointers.length<2){var e=t.map.getView(),r=this.lastScaleDelta_>1?1:-1;return e.endInteraction(this.duration_,r),!1}return!0}},{key:"handleDownEvent",value:function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1}}]),o}(),g=b;exports.default=g;
},{"./Pointer.js":"BJIy","../functions.js":"pDAE"}],"PevW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defaults=m;var o=h(require("../Collection.js")),e=h(require("./DoubleClickZoom.js")),u=h(require("./DragPan.js")),t=h(require("./DragRotate.js")),r=h(require("./DragZoom.js")),a=h(require("./KeyboardPan.js")),i=h(require("./KeyboardZoom.js")),n=h(require("../Kinetic.js")),d=h(require("./MouseWheelZoom.js")),l=h(require("./PinchRotate.js")),s=h(require("./PinchZoom.js"));function h(o){return o&&o.__esModule?o:{default:o}}function m(h){h=h||{};var m=new o.default,c=new n.default(-.005,.05,100);return(void 0===h.altShiftDragRotate||h.altShiftDragRotate)&&m.push(new t.default),(void 0===h.doubleClickZoom||h.doubleClickZoom)&&m.push(new e.default({delta:h.zoomDelta,duration:h.zoomDuration})),(void 0===h.dragPan||h.dragPan)&&m.push(new u.default({onFocusOnly:h.onFocusOnly,kinetic:c})),(void 0===h.pinchRotate||h.pinchRotate)&&m.push(new l.default),(void 0===h.pinchZoom||h.pinchZoom)&&m.push(new s.default({duration:h.zoomDuration})),(void 0===h.keyboard||h.keyboard)&&(m.push(new a.default),m.push(new i.default({delta:h.zoomDelta,duration:h.zoomDuration}))),(void 0===h.mouseWheelZoom||h.mouseWheelZoom)&&m.push(new d.default({onFocusOnly:h.onFocusOnly,duration:h.zoomDuration})),(void 0===h.shiftDragZoom||h.shiftDragZoom)&&m.push(new r.default({duration:h.zoomDuration})),m}
},{"../Collection.js":"Kjrg","./DoubleClickZoom.js":"noMw","./DragPan.js":"q4El","./DragRotate.js":"CIOI","./DragZoom.js":"uy5k","./KeyboardPan.js":"DsUC","./KeyboardZoom.js":"LPsd","../Kinetic.js":"pnST","./MouseWheelZoom.js":"X7Iz","./PinchRotate.js":"mfRS","./PinchZoom.js":"V7NS"}],"d9VJ":[function(require,module,exports) {
"use strict";function r(r,e,t){return void 0===t&&(t=[0,0]),t[0]=r[0]+2*e,t[1]=r[1]+2*e,t}function e(r){return r[0]>0&&r[1]>0}function t(r,e,t){return void 0===t&&(t=[0,0]),t[0]=r[0]*e+.5|0,t[1]=r[1]*e+.5|0,t}function o(r,e){return Array.isArray(r)?r:(void 0===e?e=[r,r]:(e[0]=r,e[1]=r),e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.buffer=r,exports.hasArea=e,exports.scale=t,exports.toSize=o;
},{}],"ZXtR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=N(require("./Object.js")),t=N(require("./Collection.js")),r=N(require("./CollectionEventType.js")),n=N(require("./renderer/Composite.js")),i=N(require("./events/EventType.js")),a=N(require("./layer/Layer.js")),o=j(require("./layer/Group.js")),s=N(require("./MapBrowserEvent.js")),l=N(require("./MapBrowserEventHandler.js")),u=N(require("./MapBrowserEventType.js")),d=N(require("./MapEvent.js")),h=N(require("./MapEventType.js")),v=N(require("./MapProperty.js")),f=N(require("./ObjectEventType.js")),y=N(require("./pointer/EventType.js")),c=N(require("./render/EventType.js")),p=j(require("./TileQueue.js")),g=N(require("./View.js")),_=N(require("./ViewHint.js")),E=require("./has.js"),m=require("./functions.js"),w=require("./transform.js"),T=require("./asserts.js"),C=require("./extent.js"),L=require("./control/defaults.js"),R=require("./interaction/defaults.js"),b=require("./array.js"),S=require("./proj.js"),O=require("./util.js"),k=require("./size.js"),P=require("./events.js"),x=require("./dom.js"),A=require("./console.js");function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(I=function(e){return e?r:t})(e)}function j(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=I(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}function N(e){return e&&e.__esModule?e:{default:e}}function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,V(n.key),n)}}function M(e,t,r){return t&&H(e.prototype,t),r&&H(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function V(e){var t=q(e,"string");return"symbol"===D(t)?t:String(t)}function q(e,t){if("object"!==D(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==D(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function G(){return(G="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=K(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}}).apply(this,arguments)}function K(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=X(e)););return e}function B(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z(e,t)}function z(e,t){return(z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function W(e){var t=Q();return function(){var r,n=X(e);if(t){var i=X(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return U(this,r)}}function U(e,t){if(t&&("object"===D(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Y(e)}function Y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e){e instanceof a.default?e.setMapInternal(null):e instanceof o.default&&e.getLayers().forEach(Z)}function J(e,t){if(e instanceof a.default)e.setMapInternal(t);else if(e instanceof o.default)for(var r=e.getLayers().getArray(),n=0,i=r.length;n<i;++n)J(r[n],t)}var $=function(a){B(I,e.default);var T=W(I);function I(e){var t;F(this,I),e=e||{},(t=T.call(this)).on,t.once,t.un;var n=ee(e);t.renderComplete_,t.loaded_=!0,t.boundHandleBrowserEvent_=t.handleBrowserEvent.bind(Y(t)),t.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,t.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:E.DEVICE_PIXEL_RATIO,t.postRenderTimeoutHandle_,t.animationDelayKey_,t.animationDelay_=t.animationDelay_.bind(Y(t)),t.coordinateToPixelTransform_=(0,w.create)(),t.pixelToCoordinateTransform_=(0,w.create)(),t.frameIndex_=0,t.frameState_=null,t.previousExtent_=null,t.viewPropertyListenerKey_=null,t.viewChangeListenerKey_=null,t.layerGroupPropertyListenerKeys_=null,t.viewport_=document.createElement("div"),t.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),t.viewport_.style.position="relative",t.viewport_.style.overflow="hidden",t.viewport_.style.width="100%",t.viewport_.style.height="100%",t.overlayContainer_=document.createElement("div"),t.overlayContainer_.style.position="absolute",t.overlayContainer_.style.zIndex="0",t.overlayContainer_.style.width="100%",t.overlayContainer_.style.height="100%",t.overlayContainer_.style.pointerEvents="none",t.overlayContainer_.className="ol-overlaycontainer",t.viewport_.appendChild(t.overlayContainer_),t.overlayContainerStopEvent_=document.createElement("div"),t.overlayContainerStopEvent_.style.position="absolute",t.overlayContainerStopEvent_.style.zIndex="0",t.overlayContainerStopEvent_.style.width="100%",t.overlayContainerStopEvent_.style.height="100%",t.overlayContainerStopEvent_.style.pointerEvents="none",t.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",t.viewport_.appendChild(t.overlayContainerStopEvent_),t.mapBrowserEventHandler_=null,t.moveTolerance_=e.moveTolerance,t.keyboardEventTarget_=n.keyboardEventTarget,t.targetChangeHandlerKeys_=null,t.targetElement_=null,t.resizeObserver_=new ResizeObserver(function(){return t.updateSize()}),t.controls=n.controls||(0,L.defaults)(),t.interactions=n.interactions||(0,R.defaults)({onFocusOnly:!0}),t.overlays_=n.overlays,t.overlayIdIndex_={},t.renderer_=null,t.postRenderFunctions_=[],t.tileQueue_=new p.default(t.getTilePriority.bind(Y(t)),t.handleTileChange_.bind(Y(t))),t.addChangeListener(v.default.LAYERGROUP,t.handleLayerGroupChanged_),t.addChangeListener(v.default.VIEW,t.handleViewChanged_),t.addChangeListener(v.default.SIZE,t.handleSizeChanged_),t.addChangeListener(v.default.TARGET,t.handleTargetChanged_),t.setProperties(n.values);var i=Y(t);return!e.view||e.view instanceof g.default||e.view.then(function(e){i.setView(new g.default(e))}),t.controls.addEventListener(r.default.ADD,function(e){e.element.setMap(Y(t))}),t.controls.addEventListener(r.default.REMOVE,function(e){e.element.setMap(null)}),t.interactions.addEventListener(r.default.ADD,function(e){e.element.setMap(Y(t))}),t.interactions.addEventListener(r.default.REMOVE,function(e){e.element.setMap(null)}),t.overlays_.addEventListener(r.default.ADD,function(e){t.addOverlayInternal_(e.element)}),t.overlays_.addEventListener(r.default.REMOVE,function(e){var r=e.element.getId();void 0!==r&&delete t.overlayIdIndex_[r.toString()],e.element.setMap(null)}),t.controls.forEach(function(e){e.setMap(Y(t))}),t.interactions.forEach(function(e){e.setMap(Y(t))}),t.overlays_.forEach(t.addOverlayInternal_.bind(Y(t))),t}return M(I,[{key:"addControl",value:function(e){this.getControls().push(e)}},{key:"addInteraction",value:function(e){this.getInteractions().push(e)}},{key:"addLayer",value:function(e){this.getLayerGroup().getLayers().push(e)}},{key:"handleLayerAdd_",value:function(e){J(e.layer,this)}},{key:"addOverlay",value:function(e){this.getOverlays().push(e)}},{key:"addOverlayInternal_",value:function(e){var t=e.getId();void 0!==t&&(this.overlayIdIndex_[t.toString()]=e),e.setMap(this)}},{key:"disposeInternal",value:function(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),G(X(I.prototype),"disposeInternal",this).call(this)}},{key:"forEachFeatureAtPixel",value:function(e,t,r){if(this.frameState_&&this.renderer_){var n=this.getCoordinateFromPixelInternal(e),i=void 0!==(r=void 0!==r?r:{}).hitTolerance?r.hitTolerance:0,a=void 0!==r.layerFilter?r.layerFilter:m.TRUE,o=!1!==r.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(n,this.frameState_,i,o,t,null,a,null)}}},{key:"getFeaturesAtPixel",value:function(e,t){var r=[];return this.forEachFeatureAtPixel(e,function(e){r.push(e)},t),r}},{key:"getAllLayers",value:function(){var e=[];return function t(r){r.forEach(function(r){r instanceof o.default?t(r.getLayers()):e.push(r)})}(this.getLayers()),e}},{key:"hasFeatureAtPixel",value:function(e,t){if(!this.frameState_||!this.renderer_)return!1;var r=this.getCoordinateFromPixelInternal(e),n=void 0!==(t=void 0!==t?t:{}).layerFilter?t.layerFilter:m.TRUE,i=void 0!==t.hitTolerance?t.hitTolerance:0,a=!1!==t.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(r,this.frameState_,i,a,n,null)}},{key:"getEventCoordinate",value:function(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}},{key:"getEventCoordinateInternal",value:function(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}},{key:"getEventPixel",value:function(e){var t=this.viewport_.getBoundingClientRect(),r=this.getSize(),n=t.width/r[0],i=t.height/r[1],a="changedTouches"in e?e.changedTouches[0]:e;return[(a.clientX-t.left)/n,(a.clientY-t.top)/i]}},{key:"getTarget",value:function(){return this.get(v.default.TARGET)}},{key:"getTargetElement",value:function(){return this.targetElement_}},{key:"getCoordinateFromPixel",value:function(e){return(0,S.toUserCoordinate)(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}},{key:"getCoordinateFromPixelInternal",value:function(e){var t=this.frameState_;return t?(0,w.apply)(t.pixelToCoordinateTransform,e.slice()):null}},{key:"getControls",value:function(){return this.controls}},{key:"getOverlays",value:function(){return this.overlays_}},{key:"getOverlayById",value:function(e){var t=this.overlayIdIndex_[e.toString()];return void 0!==t?t:null}},{key:"getInteractions",value:function(){return this.interactions}},{key:"getLayerGroup",value:function(){return this.get(v.default.LAYERGROUP)}},{key:"setLayers",value:function(e){var r=this.getLayerGroup();if(e instanceof t.default)r.setLayers(e);else{var n=r.getLayers();n.clear(),n.extend(e)}}},{key:"getLayers",value:function(){return this.getLayerGroup().getLayers()}},{key:"getLoadingOrNotReady",value:function(){for(var e=this.getLayerGroup().getLayerStatesArray(),t=0,r=e.length;t<r;++t){var n=e[t];if(n.visible){var i=n.layer.getRenderer();if(i&&!i.ready)return!0;var a=n.layer.getSource();if(a&&a.loading)return!0}}return!1}},{key:"getPixelFromCoordinate",value:function(e){var t=(0,S.fromUserCoordinate)(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(t)}},{key:"getPixelFromCoordinateInternal",value:function(e){var t=this.frameState_;return t?(0,w.apply)(t.coordinateToPixelTransform,e.slice(0,2)):null}},{key:"getRenderer",value:function(){return this.renderer_}},{key:"getSize",value:function(){return this.get(v.default.SIZE)}},{key:"getView",value:function(){return this.get(v.default.VIEW)}},{key:"getViewport",value:function(){return this.viewport_}},{key:"getOverlayContainer",value:function(){return this.overlayContainer_}},{key:"getOverlayContainerStopEvent",value:function(){return this.overlayContainerStopEvent_}},{key:"getOwnerDocument",value:function(){var e=this.getTargetElement();return e?e.ownerDocument:document}},{key:"getTilePriority",value:function(e,t,r,n){return(0,p.getTilePriority)(this.frameState_,e,t,r,n)}},{key:"handleBrowserEvent",value:function(e,t){t=t||e.type;var r=new s.default(t,this,e);this.handleMapBrowserEvent(r)}},{key:"handleMapBrowserEvent",value:function(e){if(this.frameState_){var t=e.originalEvent,r=t.type;if(r===y.default.POINTERDOWN||r===i.default.WHEEL||r===i.default.KEYDOWN){var n=this.getOwnerDocument(),a=this.viewport_.getRootNode?this.viewport_.getRootNode():n,o=t.target;if(this.overlayContainerStopEvent_.contains(o)||!(a===n?n.documentElement:a).contains(o))return}if(e.frameState=this.frameState_,!1!==this.dispatchEvent(e))for(var s=this.getInteractions().getArray().slice(),l=s.length-1;l>=0;l--){var u=s[l];if(u.getMap()===this&&u.getActive()&&this.getTargetElement())if(!u.handleEvent(e)||e.propagationStopped)break}}}},{key:"handlePostRender",value:function(){var e=this.frameState_,t=this.tileQueue_;if(!t.isEmpty()){var r=this.maxTilesLoading_,n=r;if(e){var i=e.viewHints;if(i[_.default.ANIMATING]||i[_.default.INTERACTING]){var a=Date.now()-e.time>8;r=a?0:8,n=a?0:2}}t.getTilesLoading()<r&&(t.reprioritize(),t.loadMoreTiles(r,n))}e&&this.renderer_&&!e.animate&&(!0===this.renderComplete_?(this.hasListener(c.default.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(c.default.RENDERCOMPLETE,e),!1===this.loaded_&&(this.loaded_=!0,this.dispatchEvent(new d.default(h.default.LOADEND,this,e)))):!0===this.loaded_&&(this.loaded_=!1,this.dispatchEvent(new d.default(h.default.LOADSTART,this,e))));for(var o=this.postRenderFunctions_,s=0,l=o.length;s<l;++s)o[s](this,e);o.length=0}},{key:"handleSizeChanged_",value:function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}},{key:"handleTargetChanged_",value:function(){if(this.mapBrowserEventHandler_){for(var e=0,t=this.targetChangeHandlerKeys_.length;e<t;++e)(0,P.unlistenByKey)(this.targetChangeHandlerKeys_[e]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(i.default.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(i.default.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,(0,x.removeNode)(this.viewport_)}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);var r=this.targetElement_.getRootNode();r instanceof ShadowRoot&&this.resizeObserver_.unobserve(r.host),this.setSize(void 0)}var a=this.getTarget(),o="string"==typeof a?document.getElementById(a):a;if(this.targetElement_=o,o){for(var s in o.appendChild(this.viewport_),this.renderer_||(this.renderer_=new n.default(this)),this.mapBrowserEventHandler_=new l.default(this,this.moveTolerance_),u.default)this.mapBrowserEventHandler_.addEventListener(u.default[s],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(i.default.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(i.default.WHEEL,this.boundHandleBrowserEvent_,!!E.PASSIVE_EVENT_LISTENERS&&{passive:!1});var d=this.keyboardEventTarget_?this.keyboardEventTarget_:o;this.targetChangeHandlerKeys_=[(0,P.listen)(d,i.default.KEYDOWN,this.handleBrowserEvent,this),(0,P.listen)(d,i.default.KEYPRESS,this.handleBrowserEvent,this)];var h=o.getRootNode();h instanceof ShadowRoot&&this.resizeObserver_.observe(h.host),this.resizeObserver_.observe(o)}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()}},{key:"handleTileChange_",value:function(){this.render()}},{key:"handleViewPropertyChanged_",value:function(){this.render()}},{key:"handleViewChanged_",value:function(){this.viewPropertyListenerKey_&&((0,P.unlistenByKey)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&((0,P.unlistenByKey)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var e=this.getView();e&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=(0,P.listen)(e,f.default.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=(0,P.listen)(e,i.default.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}},{key:"handleLayerGroupChanged_",value:function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(P.unlistenByKey),this.layerGroupPropertyListenerKeys_=null);var e=this.getLayerGroup();e&&(this.handleLayerAdd_(new o.GroupEvent("addlayer",e)),this.layerGroupPropertyListenerKeys_=[(0,P.listen)(e,f.default.PROPERTYCHANGE,this.render,this),(0,P.listen)(e,i.default.CHANGE,this.render,this),(0,P.listen)(e,"addlayer",this.handleLayerAdd_,this),(0,P.listen)(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}},{key:"isRendered",value:function(){return!!this.frameState_}},{key:"animationDelay_",value:function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}},{key:"renderSync",value:function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}},{key:"redrawText",value:function(){for(var e=this.getLayerGroup().getLayerStatesArray(),t=0,r=e.length;t<r;++t){var n=e[t].layer;n.hasRenderer()&&n.getRenderer().handleFontsChanged()}}},{key:"render",value:function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}},{key:"removeControl",value:function(e){return this.getControls().remove(e)}},{key:"removeInteraction",value:function(e){return this.getInteractions().remove(e)}},{key:"removeLayer",value:function(e){return this.getLayerGroup().getLayers().remove(e)}},{key:"handleLayerRemove_",value:function(e){Z(e.layer)}},{key:"removeOverlay",value:function(e){return this.getOverlays().remove(e)}},{key:"renderFrame_",value:function(e){var t=this,r=this.getSize(),n=this.getView(),i=this.frameState_,a=null;if(void 0!==r&&(0,k.hasArea)(r)&&n&&n.isDef()){var o=n.getHints(this.frameState_?this.frameState_.viewHints:void 0),s=n.getState();if(a={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:(0,C.getForViewAndSize)(s.center,s.resolution,s.rotation,r),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:r,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:s,viewHints:o,wantedTiles:{},mapId:(0,O.getUid)(this),renderTargets:{}},s.nextCenter&&s.nextResolution){var l=isNaN(s.nextRotation)?s.rotation:s.nextRotation;a.nextExtent=(0,C.getForViewAndSize)(s.nextCenter,s.nextResolution,l,r)}}if(this.frameState_=a,this.renderer_.renderFrame(a),a){if(a.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,a.postRenderFunctions),i)(!this.previousExtent_||!(0,C.isEmpty)(this.previousExtent_)&&!(0,C.equals)(a.extent,this.previousExtent_))&&(this.dispatchEvent(new d.default(h.default.MOVESTART,this,i)),this.previousExtent_=(0,C.createOrUpdateEmpty)(this.previousExtent_));this.previousExtent_&&!a.viewHints[_.default.ANIMATING]&&!a.viewHints[_.default.INTERACTING]&&!(0,C.equals)(a.extent,this.previousExtent_)&&(this.dispatchEvent(new d.default(h.default.MOVEEND,this,a)),(0,C.clone)(a.extent,this.previousExtent_))}this.dispatchEvent(new d.default(h.default.POSTRENDER,this,a)),this.renderComplete_=this.hasListener(h.default.LOADSTART)||this.hasListener(h.default.LOADEND)||this.hasListener(c.default.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){t.postRenderTimeoutHandle_=void 0,t.handlePostRender()},0))}},{key:"setLayerGroup",value:function(e){var t=this.getLayerGroup();t&&this.handleLayerRemove_(new o.GroupEvent("removelayer",t)),this.set(v.default.LAYERGROUP,e)}},{key:"setSize",value:function(e){this.set(v.default.SIZE,e)}},{key:"setTarget",value:function(e){this.set(v.default.TARGET,e)}},{key:"setView",value:function(e){if(!e||e instanceof g.default)this.set(v.default.VIEW,e);else{this.set(v.default.VIEW,new g.default);var t=this;e.then(function(e){t.setView(new g.default(e))})}}},{key:"updateSize",value:function(){var e=this.getTargetElement(),t=void 0;if(e){var r=getComputedStyle(e),n=e.offsetWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.paddingLeft)-parseFloat(r.paddingRight)-parseFloat(r.borderRightWidth),i=e.offsetHeight-parseFloat(r.borderTopWidth)-parseFloat(r.paddingTop)-parseFloat(r.paddingBottom)-parseFloat(r.borderBottomWidth);isNaN(n)||isNaN(i)||(t=[n,i],!(0,k.hasArea)(t)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&(0,A.warn)("No map visible because the map container's width or height are 0."))}var a=this.getSize();!t||a&&(0,b.equals)(t,a)||(this.setSize(t),this.updateViewportSize_())}},{key:"updateViewportSize_",value:function(){var e=this.getView();if(e){var t=void 0,r=getComputedStyle(this.viewport_);r.width&&r.height&&(t=[parseInt(r.width,10),parseInt(r.height,10)]),e.setViewportSize(t)}}}]),I}();function ee(e){var r=null;void 0!==e.keyboardEventTarget&&(r="string"==typeof e.keyboardEventTarget?document.getElementById(e.keyboardEventTarget):e.keyboardEventTarget);var n,i,a,s={},l=e.layers&&"function"==typeof e.layers.getLayers?e.layers:new o.default({layers:e.layers});return s[v.default.LAYERGROUP]=l,s[v.default.TARGET]=e.target,s[v.default.VIEW]=e.view instanceof g.default?e.view:new g.default,void 0!==e.controls&&(Array.isArray(e.controls)?n=new t.default(e.controls.slice()):((0,T.assert)("function"==typeof e.controls.getArray,47),n=e.controls)),void 0!==e.interactions&&(Array.isArray(e.interactions)?i=new t.default(e.interactions.slice()):((0,T.assert)("function"==typeof e.interactions.getArray,48),i=e.interactions)),void 0!==e.overlays?Array.isArray(e.overlays)?a=new t.default(e.overlays.slice()):((0,T.assert)("function"==typeof e.overlays.getArray,49),a=e.overlays):a=new t.default,{controls:n,interactions:i,keyboardEventTarget:r,overlays:a,values:s}}var te=$;exports.default=te;
},{"./Object.js":"fB8e","./Collection.js":"Kjrg","./CollectionEventType.js":"f4vV","./renderer/Composite.js":"UhNT","./events/EventType.js":"GUXn","./layer/Layer.js":"Ee0U","./layer/Group.js":"MeSs","./MapBrowserEvent.js":"XTM4","./MapBrowserEventHandler.js":"iEtH","./MapBrowserEventType.js":"LFOz","./MapEvent.js":"umZa","./MapEventType.js":"o4sL","./MapProperty.js":"XrJm","./ObjectEventType.js":"cEhm","./pointer/EventType.js":"Jr4C","./render/EventType.js":"JwZs","./TileQueue.js":"mzg7","./View.js":"rXL1","./ViewHint.js":"DfOy","./has.js":"mpkP","./functions.js":"pDAE","./transform.js":"Ln8D","./asserts.js":"DVOE","./extent.js":"L0Vw","./control/defaults.js":"DcOi","./interaction/defaults.js":"PevW","./array.js":"o0G8","./proj.js":"VAQc","./util.js":"KA50","./size.js":"d9VJ","./events.js":"MGag","./dom.js":"FYLQ","./console.js":"xtlK"}],"KhhP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};exports.default=e;
},{}],"mRAJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./Layer.js")),t=r(require("./TileProperty.js"));function r(e){return e&&e.__esModule?e:{default:e}}function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function u(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e){var t=f(e,"string");return"symbol"===n(t)?t:String(t)}function f(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function l(){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=a(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function a(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=O(e)););return e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=v();return function(){var r,n=O(e);if(t){var o=O(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return b(this,r)}}function b(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(r){s(i,e.default);var n=y(i);function i(e){var t;o(this,i),e=e||{};var r=Object.assign({},e);return delete r.preload,delete r.useInterimTilesOnError,(t=n.call(this,r)).on,t.once,t.un,t.setPreload(void 0!==e.preload?e.preload:0),t.setUseInterimTilesOnError(void 0===e.useInterimTilesOnError||e.useInterimTilesOnError),t}return u(i,[{key:"getPreload",value:function(){return this.get(t.default.PRELOAD)}},{key:"setPreload",value:function(e){this.set(t.default.PRELOAD,e)}},{key:"getUseInterimTilesOnError",value:function(){return this.get(t.default.USE_INTERIM_TILES_ON_ERROR)}},{key:"setUseInterimTilesOnError",value:function(e){this.set(t.default.USE_INTERIM_TILES_ON_ERROR,e)}},{key:"getData",value:function(e){return l(O(i.prototype),"getData",this).call(this,e)}}]),i}(),m=h;exports.default=m;
},{"./Layer.js":"Ee0U","./TileProperty.js":"KhhP"}],"BfJa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("../events/EventType.js")),t=o(require("../ImageState.js")),r=o(require("../Observable.js")),n=require("../util.js");function o(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function l(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e){var t=f(e,"string");return"symbol"===u(t)?t:String(t)}function f(e,t){if("object"!==u(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function s(){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=y(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function y(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=g();return function(){var r,n=m(e);if(t){var o=m(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}function v(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var O=function(o){d(i,r.default);var u=b(i);function i(e){var t;return a(this,i),(t=u.call(this)).ready=!0,t.boundHandleImageChange_=t.handleImageChange_.bind(h(t)),t.layer_=e,t.declutterExecutorGroup=null,t}return l(i,[{key:"getFeatures",value:function(e){return(0,n.abstract)()}},{key:"getData",value:function(e){return null}},{key:"prepareFrame",value:function(e){return(0,n.abstract)()}},{key:"renderFrame",value:function(e,t){return(0,n.abstract)()}},{key:"loadedTileCallback",value:function(e,t,r){e[t]||(e[t]={}),e[t][r.tileCoord.toString()]=r}},{key:"createLoadedTileFinder",value:function(e,t,r){var n=this;return function(o,u){var a=n.loadedTileCallback.bind(n,r,o);return e.forEachLoadedTile(t,o,u,a)}}},{key:"forEachFeatureAtCoordinate",value:function(e,t,r,n,o){}},{key:"getLayer",value:function(){return this.layer_}},{key:"handleFontsChanged",value:function(){}},{key:"handleImageChange_",value:function(e){e.target.getState()===t.default.LOADED&&this.renderIfReadyAndVisible()}},{key:"loadImage",value:function(r){var n=r.getState();return n!=t.default.LOADED&&n!=t.default.ERROR&&r.addEventListener(e.default.CHANGE,this.boundHandleImageChange_),n==t.default.IDLE&&(r.load(),n=r.getState()),n==t.default.LOADED}},{key:"renderIfReadyAndVisible",value:function(){var e=this.getLayer();e&&e.getVisible()&&"ready"===e.getSourceState()&&e.changed()}},{key:"disposeInternal",value:function(){delete this.layer_,s(m(i.prototype),"disposeInternal",this).call(this)}}]),i}(),j=O;exports.default=j;
},{"../events/EventType.js":"GUXn","../ImageState.js":"FoaO","../Observable.js":"TW86","../util.js":"KA50"}],"D55b":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.canvasPool=void 0;var e=l(require("../Layer.js")),t=l(require("../../render/Event.js")),r=l(require("../../render/EventType.js")),n=require("../../transform.js"),o=require("../../color.js"),a=require("../../dom.js"),i=require("../../array.js"),u=require("../../extent.js");function l(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y(n.key),n)}}function p(e,t,r){return t&&f(e.prototype,t),r&&f(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e){var t=d(e,"string");return"symbol"===c(t)?t:String(t)}function d(e,t){if("object"!==c(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function v(){return(v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=h(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function h(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=x(e)););return e}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}function b(e,t){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=P();return function(){var r,n=x(e);if(t){var o=x(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return R(this,r)}}function R(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return T(e)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var j=[];exports.canvasPool=j;var O=null;function w(){O=(0,a.createCanvasContext2D)(1,1,void 0,{willReadFrequently:!0})}var E=function(l){m(f,e.default);var c=g(f);function f(e){var t;return s(this,f),(t=c.call(this,e)).container=null,t.renderedResolution,t.tempTransform=(0,n.create)(),t.pixelTransform=(0,n.create)(),t.inversePixelTransform=(0,n.create)(),t.context=null,t.containerReused=!1,t.pixelContext_=null,t.frameState=null,t}return p(f,[{key:"getImageData",value:function(e,t,r){var n;O||w(),O.clearRect(0,0,1,1);try{O.drawImage(e,t,r,1,1,0,0,1,1),n=O.getImageData(0,0,1,1).data}catch(o){return O=null,null}return n}},{key:"getBackground",value:function(e){var t=this.getLayer().getBackground();return"function"==typeof t&&(t=t(e.viewState.resolution)),t||void 0}},{key:"useContainer",value:function(e,t,r){var n,u,l=this.getLayer().getClassName();if(e&&e.className===l&&(!r||e&&e.style.backgroundColor&&(0,i.equals)((0,o.asArray)(e.style.backgroundColor),(0,o.asArray)(r)))){var c=e.firstElementChild;c instanceof HTMLCanvasElement&&(u=c.getContext("2d"))}if(u&&u.canvas.style.transform===t?(this.container=e,this.context=u,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){(n=document.createElement("div")).className=l;var s=n.style;s.position="absolute",s.width="100%",s.height="100%";var f=(u=(0,a.createCanvasContext2D)()).canvas;n.appendChild(f),(s=f.style).position="absolute",s.left="0",s.transformOrigin="top left",this.container=n,this.context=u}this.containerReused||!r||this.container.style.backgroundColor||(this.container.style.backgroundColor=r)}},{key:"clipUnrotated",value:function(e,t,r){var o=(0,u.getTopLeft)(r),a=(0,u.getTopRight)(r),i=(0,u.getBottomRight)(r),l=(0,u.getBottomLeft)(r);(0,n.apply)(t.coordinateToPixelTransform,o),(0,n.apply)(t.coordinateToPixelTransform,a),(0,n.apply)(t.coordinateToPixelTransform,i),(0,n.apply)(t.coordinateToPixelTransform,l);var c=this.inversePixelTransform;(0,n.apply)(c,o),(0,n.apply)(c,a),(0,n.apply)(c,i),(0,n.apply)(c,l),e.save(),e.beginPath(),e.moveTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.lineTo(Math.round(i[0]),Math.round(i[1])),e.lineTo(Math.round(l[0]),Math.round(l[1])),e.clip()}},{key:"dispatchRenderEvent_",value:function(e,r,n){var o=this.getLayer();if(o.hasListener(e)){var a=new t.default(e,this.inversePixelTransform,n,r);o.dispatchEvent(a)}}},{key:"preRender",value:function(e,t){this.frameState=t,this.dispatchRenderEvent_(r.default.PRERENDER,e,t)}},{key:"postRender",value:function(e,t){this.dispatchRenderEvent_(r.default.POSTRENDER,e,t)}},{key:"getRenderTransform",value:function(e,t,r,o,a,i,u){var l=a/2,c=i/2,s=o/t,f=-s,p=-e[0]+u,y=-e[1];return(0,n.compose)(this.tempTransform,l,c,s,f,-r,p,y)}},{key:"disposeInternal",value:function(){delete this.frameState,v(x(f.prototype),"disposeInternal",this).call(this)}}]),f}(),k=E;exports.default=k;
},{"../Layer.js":"BfJa","../../render/Event.js":"UvWG","../../render/EventType.js":"JwZs","../../transform.js":"Ln8D","../../color.js":"XaHX","../../dom.js":"FYLQ","../../array.js":"o0G8","../../extent.js":"L0Vw"}],"iz3u":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=o(require("./events/Target.js")),e=o(require("./events/EventType.js")),r=o(require("./TileState.js")),n=require("./util.js"),i=require("./easing.js");function o(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,f(n.key),n)}}function l(t,e,r){return e&&s(t.prototype,e),r&&s(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function f(t){var e=c(t,"string");return"symbol"===u(e)?e:String(e)}function c(t,e){if("object"!==u(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function y(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}function h(t,e){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=b();return function(){var r,n=m(t);if(e){var i=m(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return v(this,r)}}function v(t,e){if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return d(t)}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _=function(o){y(s,t.default);var u=p(s);function s(t,e,r){var n;return a(this,s),r=r||{},(n=u.call(this)).tileCoord=t,n.state=e,n.interimTile=null,n.key="",n.transition_=void 0===r.transition?250:r.transition,n.transitionStarts_={},n.interpolate=!!r.interpolate,n}return l(s,[{key:"changed",value:function(){this.dispatchEvent(e.default.CHANGE)}},{key:"release",value:function(){this.state===r.default.ERROR&&this.setState(r.default.EMPTY)}},{key:"getKey",value:function(){return this.key+"/"+this.tileCoord}},{key:"getInterimTile",value:function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==r.default.LOADED)return this.transition_=0,t;t=t.interimTile}while(t);return this}},{key:"refreshInterimChain",value:function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(t.getState()==r.default.LOADED){t.interimTile=null;break}t.getState()==r.default.LOADING?e=t:t.getState()==r.default.IDLE?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}}},{key:"getTileCoord",value:function(){return this.tileCoord}},{key:"getState",value:function(){return this.state}},{key:"setState",value:function(t){if(this.state!==r.default.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()}},{key:"load",value:function(){(0,n.abstract)()}},{key:"getAlpha",value:function(t,e){if(!this.transition_)return 1;var r=this.transitionStarts_[t];if(r){if(-1===r)return 1}else r=e,this.transitionStarts_[t]=r;var n=e-r+1e3/60;return n>=this.transition_?1:(0,i.easeIn)(n/this.transition_)}},{key:"inTransition",value:function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]}},{key:"endTransition",value:function(t){this.transition_&&(this.transitionStarts_[t]=-1)}}]),s}(),T=_;exports.default=T;
},{"./events/Target.js":"KnPA","./events/EventType.js":"GUXn","./TileState.js":"FoaO","./util.js":"KA50","./easing.js":"k82w"}],"NvYl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=n(require("./events/Target.js")),e=n(require("./events/EventType.js")),r=require("./util.js");function n(t){return t&&t.__esModule?t:{default:t}}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,f(n.key),n)}}function c(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function f(t){var e=a(t,"string");return"symbol"===o(e)?e:String(e)}function a(t,e){if("object"!==o(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}function s(t,e){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function y(t){var e=v();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p(this,r)}}function p(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return b(t)}function b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(n){l(i,t.default);var o=y(i);function i(t,e,r,n){var c;return u(this,i),(c=o.call(this)).extent=t,c.pixelRatio_=r,c.resolution=e,c.state=n,c}return c(i,[{key:"changed",value:function(){this.dispatchEvent(e.default.CHANGE)}},{key:"getExtent",value:function(){return this.extent}},{key:"getImage",value:function(){return(0,r.abstract)()}},{key:"getPixelRatio",value:function(){return this.pixelRatio_}},{key:"getResolution",value:function(){return this.resolution}},{key:"getState",value:function(){return this.state}},{key:"load",value:function(){(0,r.abstract)()}}]),i}(),m=h;exports.default=m;
},{"./events/Target.js":"KnPA","./events/EventType.js":"GUXn","./util.js":"KA50"}],"yR82":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,exports.listenImage=O;var t=u(require("./events/EventType.js")),e=u(require("./ImageBase.js")),n=u(require("./ImageState.js")),i=require("./has.js"),r=require("./extent.js"),o=require("./events.js");function u(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,l(i.key),i)}}function f(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function l(t){var e=h(t,"string");return"symbol"===a(e)?e:String(e)}function h(t,e){if("object"!==a(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==a(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}function y(t,e){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function g(t){var e=_();return function(){var n,i=v(t);if(e){var r=v(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return p(this,n)}}function p(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return m(t)}function m(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b=function(t){d(o,e.default);var i=g(o);function o(t,e,r,u,a,c,f){var l;return s(this,o),(l=i.call(this,t,e,r,n.default.IDLE)).src_=u,l.image_=new Image,null!==a&&(l.image_.crossOrigin=a),l.context_=f,l.unlisten_=null,l.state=n.default.IDLE,l.imageLoadFunction_=c,l}return f(o,[{key:"getImage",value:function(){if(this.state==n.default.LOADED&&this.context_&&!(this.image_ instanceof HTMLCanvasElement)){var t=this.context_.canvas;t.width=this.image_.width,t.height=this.image_.height,this.context_.drawImage(this.image_,0,0),this.image_=this.context_.canvas}return this.image_}},{key:"handleImageError_",value:function(){this.state=n.default.ERROR,this.unlistenImage_(),this.changed()}},{key:"handleImageLoad_",value:function(){void 0===this.resolution&&(this.resolution=(0,r.getHeight)(this.extent)/this.image_.height),this.state=n.default.LOADED,this.unlistenImage_(),this.changed()}},{key:"load",value:function(){this.state!=n.default.IDLE&&this.state!=n.default.ERROR||(this.state=n.default.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=O(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}},{key:"setImage",value:function(t){this.image_=t,this.resolution=(0,r.getHeight)(this.extent)/this.image_.height}},{key:"unlistenImage_",value:function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}]),o}();function O(e,n,r){var u=e,a=!0,s=!1,c=!1,f=[(0,o.listenOnce)(u,t.default.LOAD,function(){c=!0,s||n()})];return u.src&&i.IMAGE_DECODE?(s=!0,u.decode().then(function(){a&&n()}).catch(function(t){a&&(c?n():r())})):f.push((0,o.listenOnce)(u,t.default.ERROR,r)),function(){a=!1,f.forEach(o.unlistenByKey)}}var E=b;exports.default=E;
},{"./events/EventType.js":"GUXn","./ImageBase.js":"NvYl","./ImageState.js":"FoaO","./has.js":"mpkP","./extent.js":"L0Vw","./events.js":"MGag"}],"j3TM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=i(require("./Tile.js")),e=i(require("./TileState.js")),n=require("./dom.js"),r=require("./Image.js");function i(t){return t&&t.__esModule?t:{default:t}}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,l(r.key),r)}}function s(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function l(t){var e=c(t,"string");return"symbol"===o(e)?e:String(e)}function c(t,e){if("object"!==o(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}function h(t,e){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function y(t){var e=g();return function(){var n,r=m(t);if(e){var i=m(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function d(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return p(t)}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _=function(n){f(o,t.default);var i=y(o);function o(t,e,n,r,a,s){var l;return u(this,o),(l=i.call(this,t,e,s)).crossOrigin_=r,l.src_=n,l.key=n,l.image_=new Image,null!==r&&(l.image_.crossOrigin=r),l.unlisten_=null,l.tileLoadFunction_=a,l}return s(o,[{key:"getImage",value:function(){return this.image_}},{key:"setImage",value:function(t){this.image_=t,this.state=e.default.LOADED,this.unlistenImage_(),this.changed()}},{key:"handleImageError_",value:function(){this.state=e.default.ERROR,this.unlistenImage_(),this.image_=b(),this.changed()}},{key:"handleImageLoad_",value:function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=e.default.LOADED:this.state=e.default.EMPTY,this.unlistenImage_(),this.changed()}},{key:"load",value:function(){this.state==e.default.ERROR&&(this.state=e.default.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==e.default.IDLE&&(this.state=e.default.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=(0,r.listenImage)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}},{key:"unlistenImage_",value:function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}]),o}();function b(){var t=(0,n.createCanvasContext2D)(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}var v=_;exports.default=v;
},{"./Tile.js":"iz3u","./TileState.js":"FoaO","./dom.js":"FYLQ","./Image.js":"yR82"}],"bYOC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ERROR_THRESHOLD=void 0;var e=.5;exports.ERROR_THRESHOLD=e;
},{}],"gmdY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../extent.js"),r=require("../proj.js"),e=require("../math.js");function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function n(t,r){for(var e=0;e<r.length;e++){var i=r[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,a(i.key),i)}}function s(t,r,e){return r&&n(t.prototype,r),e&&n(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function a(t){var r=u(t,"string");return"symbol"===i(r)?r:String(r)}function u(t,r){if("object"!==i(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var o=e.call(t,r||"default");if("object"!==i(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}var h=10,c=.25,d=function(){function i(e,n,s,a,u,c){var d=this;o(this,i),this.sourceProj_=e,this.targetProj_=n;var l={},f=(0,r.getTransform)(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var r=t[0]+"/"+t[1];return l[r]||(l[r]=f(t)),l[r]},this.maxSourceExtent_=a,this.errorThresholdSquared_=u*u,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!a&&!!this.sourceProj_.getExtent()&&(0,t.getWidth)(a)>=(0,t.getWidth)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?(0,t.getWidth)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?(0,t.getWidth)(this.targetProj_.getExtent()):null;var _=(0,t.getTopLeft)(s),g=(0,t.getTopRight)(s),v=(0,t.getBottomRight)(s),m=(0,t.getBottomLeft)(s),W=this.transformInv_(_),p=this.transformInv_(g),y=this.transformInv_(v),b=this.transformInv_(m),x=h+(c?Math.max(0,Math.ceil(Math.log2((0,t.getArea)(s)/(c*c*256*256)))):0);if(this.addQuad_(_,g,v,m,W,p,y,b,x),this.wrapsXInSource_){var j=1/0;this.triangles_.forEach(function(t,r,e){j=Math.min(j,t.source[0][0],t.source[1][0],t.source[2][0])}),this.triangles_.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-j>d.sourceWorldWidth_/2){var r=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];r[0][0]-j>d.sourceWorldWidth_/2&&(r[0][0]-=d.sourceWorldWidth_),r[1][0]-j>d.sourceWorldWidth_/2&&(r[1][0]-=d.sourceWorldWidth_),r[2][0]-j>d.sourceWorldWidth_/2&&(r[2][0]-=d.sourceWorldWidth_);var e=Math.min(r[0][0],r[1][0],r[2][0]);Math.max(r[0][0],r[1][0],r[2][0])-e<d.sourceWorldWidth_/2&&(t.source=r)}})}l={}}return s(i,[{key:"addTriangle_",value:function(t,r,e,i,o,n){this.triangles_.push({source:[i,o,n],target:[t,r,e]})}},{key:"addQuad_",value:function(r,i,o,n,s,a,u,h,d){var l=(0,t.boundingExtent)([s,a,u,h]),f=this.sourceWorldWidth_?(0,t.getWidth)(l)/this.sourceWorldWidth_:null,_=this.sourceWorldWidth_,g=this.sourceProj_.canWrapX()&&f>.5&&f<1,v=!1;if(d>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var m=(0,t.boundingExtent)([r,i,o,n]);v=(0,t.getWidth)(m)/this.targetWorldWidth_>c||v}!g&&this.sourceProj_.isGlobal()&&f&&(v=f>c||v)}if(!(!v&&this.maxSourceExtent_&&isFinite(l[0])&&isFinite(l[1])&&isFinite(l[2])&&isFinite(l[3]))||(0,t.intersects)(l,this.maxSourceExtent_)){var W=0;if(!(v||isFinite(s[0])&&isFinite(s[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(u[0])&&isFinite(u[1])&&isFinite(h[0])&&isFinite(h[1])))if(d>0)v=!0;else if(1!=(W=(isFinite(s[0])&&isFinite(s[1])?0:8)+(isFinite(a[0])&&isFinite(a[1])?0:4)+(isFinite(u[0])&&isFinite(u[1])?0:2)+(isFinite(h[0])&&isFinite(h[1])?0:1))&&2!=W&&4!=W&&8!=W)return;if(d>0){if(!v){var p,y=[(r[0]+o[0])/2,(r[1]+o[1])/2],b=this.transformInv_(y);if(g)p=((0,e.modulo)(s[0],_)+(0,e.modulo)(u[0],_))/2-(0,e.modulo)(b[0],_);else p=(s[0]+u[0])/2-b[0];var x=(s[1]+u[1])/2-b[1];v=p*p+x*x>this.errorThresholdSquared_}if(v){if(Math.abs(r[0]-o[0])<=Math.abs(r[1]-o[1])){var j=[(i[0]+o[0])/2,(i[1]+o[1])/2],F=this.transformInv_(j),P=[(n[0]+r[0])/2,(n[1]+r[1])/2],S=this.transformInv_(P);this.addQuad_(r,i,j,P,s,a,F,S,d-1),this.addQuad_(P,j,o,n,S,F,u,h,d-1)}else{var E=[(r[0]+i[0])/2,(r[1]+i[1])/2],I=this.transformInv_(E),T=[(o[0]+n[0])/2,(o[1]+n[1])/2],M=this.transformInv_(T);this.addQuad_(r,E,T,n,s,I,M,h,d-1),this.addQuad_(E,i,o,T,I,a,u,M,d-1)}return}}if(g){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&W)&&this.addTriangle_(r,o,n,s,u,h),0==(14&W)&&this.addTriangle_(r,o,i,s,u,a),W&&(0==(13&W)&&this.addTriangle_(i,n,r,a,h,s),0==(7&W)&&this.addTriangle_(i,n,o,a,h,u))}}},{key:"calculateSourceExtent",value:function(){var r=(0,t.createEmpty)();return this.triangles_.forEach(function(e,i,o){var n=e.source;(0,t.extendCoordinate)(r,n[0]),(0,t.extendCoordinate)(r,n[1]),(0,t.extendCoordinate)(r,n[2])}),r}},{key:"getTriangles",value:function(){return this.triangles_}}]),i}(),l=d;exports.default=l;
},{"../extent.js":"L0Vw","../proj.js":"VAQc","../math.js":"qAK2"}],"BOkO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.calculateSourceExtentResolution=g,exports.calculateSourceResolution=c,exports.canvasPool=void 0,exports.render=u;var e,t=require("./extent.js"),a=require("./dom.js"),r=require("./proj.js"),o=require("./math.js"),n=[];function i(e,t,a,r,o){e.beginPath(),e.moveTo(0,0),e.lineTo(t,a),e.lineTo(r,o),e.closePath(),e.save(),e.clip(),e.fillRect(0,0,Math.max(t,r)+1,Math.max(a,o)),e.restore()}function s(e,t){return Math.abs(e[4*t]-210)>2||Math.abs(e[4*t+3]-191.25)>2}function l(){if(void 0===e){var t=(0,a.createCanvasContext2D)(6,6,n);t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",i(t,4,5,4,0),i(t,4,5,0,5);var r=t.getImageData(0,0,3,3).data;e=s(r,0)||s(r,4)||s(r,8),(0,a.releaseCanvas)(t),n.push(t.canvas)}return e}function c(e,a,o,n){var i=(0,r.transform)(o,a,e),s=(0,r.getPointResolution)(a,n,o),l=a.getMetersPerUnit();void 0!==l&&(s*=l);var c=e.getMetersPerUnit();void 0!==c&&(s/=c);var g=e.getExtent();if(!g||(0,t.containsCoordinate)(g,i)){var u=(0,r.getPointResolution)(e,s,i)/s;isFinite(u)&&u>0&&(s/=u)}return s}function g(e,a,r,o){var n=(0,t.getCenter)(r),i=c(e,a,n,o);return(!isFinite(i)||i<=0)&&(0,t.forEachCorner)(r,function(t){return i=c(e,a,t,o),isFinite(i)&&i>0}),i}function u(e,r,i,s,c,g,u,v,h,f,m,d){var p=(0,a.createCanvasContext2D)(Math.round(i*e),Math.round(i*r),n);if(d||(p.imageSmoothingEnabled=!1),0===h.length)return p.canvas;function x(e){return Math.round(e*i)/i}p.scale(i,i),p.globalCompositeOperation="lighter";var T=(0,t.createEmpty)();h.forEach(function(e,a,r){(0,t.extend)(T,e.extent)});var C=(0,t.getWidth)(T),b=(0,t.getHeight)(T),M=(0,a.createCanvasContext2D)(Math.round(i*C/s),Math.round(i*b/s),n);d||(M.imageSmoothingEnabled=!1);var P=i/s;h.forEach(function(e,a,r){var o=e.extent[0]-T[0],n=-(e.extent[3]-T[3]),i=(0,t.getWidth)(e.extent),s=(0,t.getHeight)(e.extent);e.image.width>0&&e.image.height>0&&M.drawImage(e.image,f,f,e.image.width-2*f,e.image.height-2*f,o*P,n*P,i*P,s*P)});var E=(0,t.getTopLeft)(u);return v.getTriangles().forEach(function(e,t,a){var r=e.source,n=e.target,c=r[0][0],u=r[0][1],v=r[1][0],h=r[1][1],f=r[2][0],m=r[2][1],C=x((n[0][0]-E[0])/g),b=x(-(n[0][1]-E[1])/g),P=x((n[1][0]-E[0])/g),S=x(-(n[1][1]-E[1])/g),j=x((n[2][0]-E[0])/g),y=x(-(n[2][1]-E[1])/g),R=c,q=u;c=0,u=0;var w=[[v-=R,h-=q,0,0,P-C],[f-=R,m-=q,0,0,j-C],[0,0,v,h,S-b],[0,0,f,m,y-b]],D=(0,o.solveLinearSystem)(w);if(D){if(p.save(),p.beginPath(),l()||!d){p.moveTo(P,S);for(var O=C-P,k=b-S,F=0;F<4;F++)p.lineTo(P+x((F+1)*O/4),S+x(F*k/3)),3!=F&&p.lineTo(P+x((F+1)*O/4),S+x((F+1)*k/3));p.lineTo(j,y)}else p.moveTo(P,S),p.lineTo(C,b),p.lineTo(j,y);p.clip(),p.transform(D[0],D[2],D[1],D[3],C,b),p.translate(T[0]-R,T[3]-q),p.scale(s/i,-s/i),p.drawImage(M.canvas,0,0),p.restore()}}),(0,a.releaseCanvas)(M),n.push(M.canvas),m&&(p.save(),p.globalCompositeOperation="source-over",p.strokeStyle="black",p.lineWidth=1,v.getTriangles().forEach(function(e,t,a){var r=e.target,o=(r[0][0]-E[0])/g,n=-(r[0][1]-E[1])/g,i=(r[1][0]-E[0])/g,s=-(r[1][1]-E[1])/g,l=(r[2][0]-E[0])/g,c=-(r[2][1]-E[1])/g;p.beginPath(),p.moveTo(i,s),p.lineTo(o,n),p.lineTo(l,c),p.closePath(),p.stroke()}),p.restore()),p.canvas}exports.canvasPool=n;
},{"./extent.js":"L0Vw","./dom.js":"FYLQ","./proj.js":"VAQc","./math.js":"qAK2"}],"o8Mp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./common.js"),t=c(require("../events/EventType.js")),r=c(require("../Tile.js")),n=c(require("../TileState.js")),i=c(require("./Triangulation.js")),o=require("../reproj.js"),u=require("../math.js"),s=require("../extent.js"),a=require("../events.js"),l=require("../dom.js");function c(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y(n.key),n)}}function h(e,t,r){return t&&p(e.prototype,t),r&&p(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e){var t=_(e,"string");return"symbol"===f(t)?t:String(t)}function _(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function g(){return(g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=v(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}}).apply(this,arguments)}function v(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=R(e)););return e}function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}function b(e,t){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function E(e){var t=O();return function(){var r,n=R(e);if(t){var i=R(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return m(this,r)}}function m(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return j(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w=function(c){T(p,r.default);var f=E(p);function p(t,r,a,l,c,h,y,_,g,v,T,b){var E;d(this,p),(E=f.call(this,c,n.default.IDLE,{interpolate:!!b})).renderEdges_=void 0!==T&&T,E.pixelRatio_=y,E.gutter_=_,E.canvas_=null,E.sourceTileGrid_=r,E.targetTileGrid_=l,E.wrappedTileCoord_=h||c,E.sourceTiles_=[],E.sourcesListenerKeys_=null,E.sourceZ_=0;var j=l.getTileCoordExtent(E.wrappedTileCoord_),O=E.targetTileGrid_.getExtent(),R=E.sourceTileGrid_.getExtent(),w=O?(0,s.getIntersection)(j,O):j;if(0===(0,s.getArea)(w))return E.state=n.default.EMPTY,m(E);var x=t.getExtent();x&&(R=R?(0,s.getIntersection)(R,x):x);var P=l.getResolution(E.wrappedTileCoord_[0]),S=(0,o.calculateSourceExtentResolution)(t,a,w,P);if(!isFinite(S)||S<=0)return E.state=n.default.EMPTY,m(E);var D=void 0!==v?v:e.ERROR_THRESHOLD;if(E.triangulation_=new i.default(t,a,w,R,S*D,P),0===E.triangulation_.getTriangles().length)return E.state=n.default.EMPTY,m(E);E.sourceZ_=r.getZForResolution(S);var L=E.triangulation_.calculateSourceExtent();if(R&&(t.canWrapX()?(L[1]=(0,u.clamp)(L[1],R[1],R[3]),L[3]=(0,u.clamp)(L[3],R[1],R[3])):L=(0,s.getIntersection)(L,R)),(0,s.getArea)(L)){for(var C=r.getTileRangeForExtentAndZ(L,E.sourceZ_),G=C.minX;G<=C.maxX;G++)for(var I=C.minY;I<=C.maxY;I++){var q=g(E.sourceZ_,G,I,y);q&&E.sourceTiles_.push(q)}0===E.sourceTiles_.length&&(E.state=n.default.EMPTY)}else E.state=n.default.EMPTY;return E}return h(p,[{key:"getImage",value:function(){return this.canvas_}},{key:"reproject_",value:function(){var e=this,t=[];if(this.sourceTiles_.forEach(function(r){r&&r.getState()==n.default.LOADED&&t.push({extent:e.sourceTileGrid_.getTileCoordExtent(r.tileCoord),image:r.getImage()})}),this.sourceTiles_.length=0,0===t.length)this.state=n.default.ERROR;else{var r=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(r),u="number"==typeof i?i:i[0],s="number"==typeof i?i:i[1],a=this.targetTileGrid_.getResolution(r),l=this.sourceTileGrid_.getResolution(this.sourceZ_),c=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=(0,o.render)(u,s,this.pixelRatio_,l,this.sourceTileGrid_.getExtent(),a,c,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=n.default.LOADED}this.changed()}},{key:"load",value:function(){var e=this;if(this.state==n.default.IDLE){this.state=n.default.LOADING,this.changed();var r=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(i){var o=i.getState();if(o==n.default.IDLE||o==n.default.LOADING){r++;var u=(0,a.listen)(i,t.default.CHANGE,function(e){var t=i.getState();t!=n.default.LOADED&&t!=n.default.ERROR&&t!=n.default.EMPTY||((0,a.unlistenByKey)(u),0===--r&&(this.unlistenSources_(),this.reproject_()))},e);e.sourcesListenerKeys_.push(u)}}),0===r?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(e,t,r){e.getState()==n.default.IDLE&&e.load()})}}},{key:"unlistenSources_",value:function(){this.sourcesListenerKeys_.forEach(a.unlistenByKey),this.sourcesListenerKeys_=null}},{key:"release",value:function(){this.canvas_&&((0,l.releaseCanvas)(this.canvas_.getContext("2d")),o.canvasPool.push(this.canvas_),this.canvas_=null),g(R(p.prototype),"release",this).call(this)}}]),p}(),x=w;exports.default=x;
},{"./common.js":"bYOC","../events/EventType.js":"GUXn","../Tile.js":"iz3u","../TileState.js":"FoaO","./Triangulation.js":"gmdY","../reproj.js":"BOkO","../math.js":"qAK2","../extent.js":"L0Vw","../events.js":"MGag","../dom.js":"FYLQ"}],"m5CX":[function(require,module,exports) {
"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(i)}function i(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function n(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,r(e.key),e)}}function e(t,i,e){return i&&n(t.prototype,i),e&&n(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function r(i){var n=a(i,"string");return"symbol"===t(n)?n:String(n)}function a(i,n){if("object"!==t(i)||null===i)return i;var e=i[Symbol.toPrimitive];if(void 0!==e){var r=e.call(i,n||"default");if("object"!==t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(i)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createOrUpdate=m,exports.default=void 0;var o=function(){function t(n,e,r,a){i(this,t),this.minX=n,this.maxX=e,this.minY=r,this.maxY=a}return e(t,[{key:"contains",value:function(t){return this.containsXY(t[1],t[2])}},{key:"containsTileRange",value:function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY}},{key:"containsXY",value:function(t,i){return this.minX<=t&&t<=this.maxX&&this.minY<=i&&i<=this.maxY}},{key:"equals",value:function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY}},{key:"extend",value:function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)}},{key:"getHeight",value:function(){return this.maxY-this.minY+1}},{key:"getSize",value:function(){return[this.getWidth(),this.getHeight()]}},{key:"getWidth",value:function(){return this.maxX-this.minX+1}},{key:"intersects",value:function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY}}]),t}();function m(t,i,n,e,r){return void 0!==r?(r.minX=t,r.maxX=i,r.minY=n,r.maxY=e,r):new o(t,i,n,e)}var u=o;exports.default=u;
},{}],"ISPk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=d(require("./Layer.js")),t=d(require("../../ImageTile.js")),r=d(require("../../reproj/Tile.js")),i=d(require("../../TileRange.js")),n=d(require("../../TileState.js")),o=require("../../transform.js"),a=require("../../array.js"),l=require("../../extent.js"),s=require("../../proj.js"),u=require("../../util.js"),c=require("../../size.js");function d(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,v(i.key),i)}}function p(e,t,r){return t&&h(e.prototype,t),r&&h(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e){var t=y(e,"string");return"symbol"===f(t)?t:String(t)}function y(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!==f(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function T(){return(T="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=m(e,t);if(i){var n=Object.getOwnPropertyDescriptor(i,t);return n.get?n.get.call(arguments.length<3?e:r):n.value}}).apply(this,arguments)}function m(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=E(e)););return e}function x(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}function b(e,t){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function R(e){var t=S();return function(){var r,i=E(e);if(t){var n=E(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return w(this,r)}}function w(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return j(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var P=function(d){x(h,e.default);var f=R(h);function h(e){var t;return g(this,h),(t=f.call(this,e)).extentChanged=!0,t.renderedExtent_=null,t.renderedPixelRatio,t.renderedProjection=null,t.renderedRevision,t.renderedTiles=[],t.newTiles_=!1,t.tmpExtent=(0,l.createEmpty)(),t.tmpTileRange_=new i.default(0,0,0,0),t}return p(h,[{key:"isDrawableTile",value:function(e){var t=this.getLayer(),r=e.getState(),i=t.getUseInterimTilesOnError();return r==n.default.LOADED||r==n.default.EMPTY||r==n.default.ERROR&&!i}},{key:"getTile",value:function(e,t,r,i){var o=i.pixelRatio,a=i.viewState.projection,l=this.getLayer(),s=l.getSource().getTile(e,t,r,o,a);return s.getState()==n.default.ERROR&&l.getUseInterimTilesOnError()&&l.getPreload()>0&&(this.newTiles_=!0),this.isDrawableTile(s)||(s=s.getInterimTile()),s}},{key:"getData",value:function(e){var i=this.frameState;if(!i)return null;var a=this.getLayer(),s=(0,o.apply)(i.pixelToCoordinateTransform,e.slice()),u=a.getExtent();if(u&&!(0,l.containsCoordinate)(u,s))return null;for(var d=i.pixelRatio,f=i.viewState.projection,g=i.viewState,h=a.getRenderSource(),p=h.getTileGridForProjection(g.projection),v=h.getTilePixelRatio(i.pixelRatio),y=p.getZForResolution(g.resolution);y>=p.getMinZoom();--y){var T=p.getTileCoordForCoordAndZ(s,y),m=h.getTile(y,T[1],T[2],d,f);if(!(m instanceof t.default||m instanceof r.default)||m instanceof r.default&&m.getState()===n.default.EMPTY)return null;if(m.getState()===n.default.LOADED){var x=p.getOrigin(y),b=(0,c.toSize)(p.getTileSize(y)),R=p.getResolution(y),w=Math.floor(v*((s[0]-x[0])/R-T[1]*b[0])),j=Math.floor(v*((x[1]-s[1])/R-T[2]*b[1])),S=Math.round(v*h.getGutterForProjection(g.projection));return this.getImageData(m.getImage(),w+S,j+S)}}return null}},{key:"loadedTileCallback",value:function(e,t,r){return!!this.isDrawableTile(r)&&T(E(h.prototype),"loadedTileCallback",this).call(this,e,t,r)}},{key:"prepareFrame",value:function(e){return!!this.getLayer().getSource()}},{key:"renderFrame",value:function(e,t){var r=e.layerStatesArray[e.layerIndex],i=e.viewState,c=i.projection,d=i.resolution,f=i.center,g=i.rotation,h=e.pixelRatio,p=this.getLayer(),v=p.getSource(),y=v.getRevision(),T=v.getTileGridForProjection(c),m=T.getZForResolution(d,v.zDirection),x=T.getResolution(m),b=e.extent,R=e.viewState.resolution,w=v.getTilePixelRatio(h),j=Math.round((0,l.getWidth)(b)/R*h),S=Math.round((0,l.getHeight)(b)/R*h),E=r.extent&&(0,s.fromUserExtent)(r.extent,c);E&&(b=(0,l.getIntersection)(b,(0,s.fromUserExtent)(r.extent,c)));var P=x*j/2/w,C=x*S/2/w,O=[f[0]-P,f[1]-C,f[0]+P,f[1]+C],_=T.getTileRangeForExtentAndZ(b,m),I={};I[m]={};var k=this.createLoadedTileFinder(v,c,I),D=this.tmpExtent,M=this.tmpTileRange_;this.newTiles_=!1;for(var q=g?(0,l.getRotatedViewport)(i.center,R,g,e.size):void 0,A=_.minX;A<=_.maxX;++A)for(var F=_.minY;F<=_.maxY;++F)if(!g||T.tileCoordIntersectsViewport([m,A,F],q)){var U=this.getTile(m,A,F,e);if(this.isDrawableTile(U)){var L=(0,u.getUid)(this);if(U.getState()==n.default.LOADED){I[m][U.tileCoord.toString()]=U;var z=U.inTransition(L);z&&1!==r.opacity&&(U.endTransition(L),z=!1),this.newTiles_||!z&&this.renderedTiles.includes(U)||(this.newTiles_=!0)}if(1===U.getAlpha(L,e.time))continue}var Z=T.getTileCoordChildTileRange(U.tileCoord,M,D),Y=!1;Z&&(Y=k(m+1,Z)),Y||T.forEachTileCoordParentTileRange(U.tileCoord,k,M,D)}var G=x/d*h/w;(0,o.compose)(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/h,1/h,g,-j/2,-S/2);var K=(0,o.toString)(this.pixelTransform);this.useContainer(t,K,this.getBackground(e));var V=this.context,X=V.canvas;(0,o.makeInverse)(this.inversePixelTransform,this.pixelTransform),(0,o.compose)(this.tempTransform,j/2,S/2,G,G,0,-j/2,-S/2),X.width!=j||X.height!=S?(X.width=j,X.height=S):this.containerReused||V.clearRect(0,0,j,S),E&&this.clipUnrotated(V,e,E),v.getInterpolate()||(V.imageSmoothingEnabled=!1),this.preRender(V,e),this.renderedTiles.length=0;var B,N,Q,H=Object.keys(I).map(Number);H.sort(a.ascending),1!==r.opacity||this.containerReused&&!v.getOpaque(e.viewState.projection)?(B=[],N=[]):H=H.reverse();for(var W=H.length-1;W>=0;--W){var J=H[W],$=v.getTilePixelSize(J,h,c),ee=T.getResolution(J)/x,te=$[0]*ee*G,re=$[1]*ee*G,ie=T.getTileCoordForCoordAndZ((0,l.getTopLeft)(O),J),ne=T.getTileCoordExtent(ie),oe=(0,o.apply)(this.tempTransform,[w*(ne[0]-O[0])/x,w*(O[3]-ne[3])/x]),ae=w*v.getGutterForProjection(c),le=I[J];for(var se in le){var ue=le[se],ce=ue.tileCoord,de=ie[1]-ce[1],fe=Math.round(oe[0]-(de-1)*te),ge=ie[2]-ce[2],he=Math.round(oe[1]-(ge-1)*re),pe=Math.round(oe[0]-de*te),ve=Math.round(oe[1]-ge*re),ye=fe-pe,Te=he-ve,me=m===J,xe=me&&1!==ue.getAlpha((0,u.getUid)(this),e.time),be=!1;if(!xe)if(B){Q=[pe,ve,pe+ye,ve,pe+ye,ve+Te,pe,ve+Te];for(var Re=0,we=B.length;Re<we;++Re)if(m!==J&&J<N[Re]){var je=B[Re];(0,l.intersects)([pe,ve,pe+ye,ve+Te],[je[0],je[3],je[4],je[7]])&&(be||(V.save(),be=!0),V.beginPath(),V.moveTo(Q[0],Q[1]),V.lineTo(Q[2],Q[3]),V.lineTo(Q[4],Q[5]),V.lineTo(Q[6],Q[7]),V.moveTo(je[6],je[7]),V.lineTo(je[4],je[5]),V.lineTo(je[2],je[3]),V.lineTo(je[0],je[1]),V.clip())}B.push(Q),N.push(J)}else V.clearRect(pe,ve,ye,Te);this.drawTileImage(ue,e,pe,ve,ye,Te,ae,me),B&&!xe?(be&&V.restore(),this.renderedTiles.unshift(ue)):this.renderedTiles.push(ue),this.updateUsedTiles(e.usedTiles,v,ue)}}return this.renderedRevision=y,this.renderedResolution=x,this.extentChanged=!this.renderedExtent_||!(0,l.equals)(this.renderedExtent_,O),this.renderedExtent_=O,this.renderedPixelRatio=h,this.renderedProjection=c,this.manageTilePyramid(e,v,T,h,c,b,m,p.getPreload()),this.scheduleExpireCache(e,v),this.postRender(V,e),r.extent&&V.restore(),V.imageSmoothingEnabled=!0,K!==X.style.transform&&(X.style.transform=K),this.container}},{key:"drawTileImage",value:function(e,t,r,i,n,o,a,l){var s=this.getTileImage(e);if(s){var c=(0,u.getUid)(this),d=t.layerStatesArray[t.layerIndex],f=d.opacity*(l?e.getAlpha(c,t.time):1),g=f!==this.context.globalAlpha;g&&(this.context.save(),this.context.globalAlpha=f),this.context.drawImage(s,a,a,s.width-2*a,s.height-2*a,r,i,n,o),g&&this.context.restore(),f!==d.opacity?t.animate=!0:l&&e.endTransition(c)}}},{key:"getImage",value:function(){var e=this.context;return e?e.canvas:null}},{key:"getTileImage",value:function(e){return e.getImage()}},{key:"scheduleExpireCache",value:function(e,t){if(t.canExpireCache()){var r=function(e,t,r){var i=(0,u.getUid)(e);i in r.usedTiles&&e.expireCache(r.viewState.projection,r.usedTiles[i])}.bind(null,t);e.postRenderFunctions.push(r)}}},{key:"updateUsedTiles",value:function(e,t,r){var i=(0,u.getUid)(t);i in e||(e[i]={}),e[i][r.getKey()]=!0}},{key:"manageTilePyramid",value:function(e,t,r,i,o,a,s,c,d){var f=(0,u.getUid)(t);f in e.wantedTiles||(e.wantedTiles[f]={});var g,h,p,v,y,T,m=e.wantedTiles[f],x=e.tileQueue,b=r.getMinZoom(),R=e.viewState.rotation,w=R?(0,l.getRotatedViewport)(e.viewState.center,e.viewState.resolution,R,e.size):void 0,j=0;for(T=b;T<=s;++T)for(h=r.getTileRangeForExtentAndZ(a,T,h),p=r.getResolution(T),v=h.minX;v<=h.maxX;++v)for(y=h.minY;y<=h.maxY;++y)R&&!r.tileCoordIntersectsViewport([T,v,y],w)||(s-T<=c?(++j,(g=t.getTile(T,v,y,i,o)).getState()==n.default.IDLE&&(m[g.getKey()]=!0,x.isKeyQueued(g.getKey())||x.enqueue([g,f,r.getTileCoordCenter(g.tileCoord),p])),void 0!==d&&d(g)):t.useTile(T,v,y,o));t.updateCacheSize(j,o)}}]),h}(),C=P;exports.default=C;
},{"./Layer.js":"D55b","../../ImageTile.js":"j3TM","../../reproj/Tile.js":"o8Mp","../../TileRange.js":"m5CX","../../TileState.js":"FoaO","../../transform.js":"Ln8D","../../array.js":"o0G8","../../extent.js":"L0Vw","../../proj.js":"VAQc","../../util.js":"KA50","../../size.js":"d9VJ"}],"PqrZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("./BaseTile.js")),e=r(require("../renderer/canvas/TileLayer.js"));function r(t){return t&&t.__esModule?t:{default:t}}function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c(n.key),n)}}function i(t,e,r){return e&&u(t.prototype,e),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function c(t){var e=f(t,"string");return"symbol"===n(e)?e:String(e)}function f(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}function a(t,e){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=b();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p(this,r)}}function p(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return y(t)}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=function(r){l(u,t.default);var n=s(u);function u(t){return o(this,u),n.call(this,t)}return i(u,[{key:"createRenderer",value:function(){return new e.default(this)}}]),u}(),m=v;exports.default=m;
},{"./BaseTile.js":"mRAJ","../renderer/canvas/TileLayer.js":"ISPk"}],"UtOR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../asserts.js");function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,s(r.key),r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e){var n=o(e,"string");return"symbol"===t(n)?n:String(n)}function o(e,n){if("object"!==t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,n||"default");if("object"!==t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}var u=function(){function t(e){n(this,t),this.highWaterMark=void 0!==e?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return i(t,[{key:"canExpireCache",value:function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}},{key:"expireCache",value:function(e){for(;this.canExpireCache();)this.pop()}},{key:"clear",value:function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}},{key:"containsKey",value:function(e){return this.entries_.hasOwnProperty(e)}},{key:"forEach",value:function(e){for(var t=this.oldest_;t;)e(t.value_,t.key_,this),t=t.newer}},{key:"get",value:function(t,n){var r=this.entries_[t];return(0,e.assert)(void 0!==r,15),r===this.newest_?r.value_:(r===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(r.newer.older=r.older,r.older.newer=r.newer),r.newer=null,r.older=this.newest_,this.newest_.newer=r,this.newest_=r,r.value_)}},{key:"remove",value:function(t){var n=this.entries_[t];return(0,e.assert)(void 0!==n,15),n===this.newest_?(this.newest_=n.older,this.newest_&&(this.newest_.newer=null)):n===this.oldest_?(this.oldest_=n.newer,this.oldest_&&(this.oldest_.older=null)):(n.newer.older=n.older,n.older.newer=n.newer),delete this.entries_[t],--this.count_,n.value_}},{key:"getCount",value:function(){return this.count_}},{key:"getKeys",value:function(){var e,t=new Array(this.count_),n=0;for(e=this.newest_;e;e=e.older)t[n++]=e.key_;return t}},{key:"getValues",value:function(){var e,t=new Array(this.count_),n=0;for(e=this.newest_;e;e=e.older)t[n++]=e.value_;return t}},{key:"peekLast",value:function(){return this.oldest_.value_}},{key:"peekLastKey",value:function(){return this.oldest_.key_}},{key:"peekFirstKey",value:function(){return this.newest_.key_}},{key:"peek",value:function(e){if(this.containsKey(e))return this.entries_[e].value_}},{key:"pop",value:function(){var e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}},{key:"replace",value:function(e,t){this.get(e),this.entries_[e].value_=t}},{key:"set",value:function(t,n){(0,e.assert)(!(t in this.entries_),16);var r={key_:t,newer:null,older:this.newest_,value_:n};this.newest_?this.newest_.newer=r:this.oldest_=r,this.newest_=r,this.entries_[t]=r,++this.count_}},{key:"setSize",value:function(e){this.highWaterMark=e}}]),t}(),l=u;exports.default=l;
},{"../asserts.js":"DVOE"}],"NPSy":[function(require,module,exports) {
"use strict";function t(t,n){return u(t)||o(t,n)||e(t,n)||r()}function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function e(t,r){if(t){if("string"==typeof t)return n(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?n(t,r):void 0}}function n(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function o(t,r){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var n,o,u,i,a=[],l=!0,c=!1;try{if(u=(e=e.call(t)).next,0===r){if(Object(e)!==e)return;l=!1}else for(;!(l=(n=u.call(e)).done)&&(a.push(n.value),a.length!==r);l=!0);}catch(f){c=!0,o=f}finally{try{if(!l&&null!=e.return&&(i=e.return(),Object(i)!==i))return}finally{if(c)throw o}}return a}}function u(t){if(Array.isArray(t))return t}function i(t,r,e,n){return void 0!==n?(n[0]=t,n[1]=r,n[2]=e,n):[t,r,e]}function a(t,r,e){return t+"/"+r+"/"+e}function l(t){return a(t[0],t[1],t[2])}function c(r){var e=t(r.substring(r.lastIndexOf("/")+1,r.length).split(",").map(Number),3);return a(e[0],e[1],e[2])}function f(t){return t.split("/").map(Number)}function s(t){return(t[1]<<t[0])+t[2]}function p(t,r){var e=t[0],n=t[1],o=t[2];if(r.getMinZoom()>e||e>r.getMaxZoom())return!1;var u=r.getFullTileRange(e);return!u||u.containsXY(n,o)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createOrUpdate=i,exports.fromKey=f,exports.getCacheKeyForTileKey=c,exports.getKey=l,exports.getKeyZXY=a,exports.hash=s,exports.withinExtentAndZ=p;
},{}],"zj1M":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./structs/LRUCache.js")),t=require("./tilecoord.js");function r(e){return e&&e.__esModule?e:{default:e}}function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function u(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e){var t=f(e,"string");return"symbol"===n(t)?t:String(t)}function f(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function l(){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=a(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function a(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}function s(e,t){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=v();return function(){var r,n=d(e);if(t){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return b(this,r)}}function b(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(r){p(i,e.default);var n=y(i);function i(){return o(this,i),n.apply(this,arguments)}return u(i,[{key:"clear",value:function(){for(;this.getCount()>0;)this.pop().release();l(d(i.prototype),"clear",this).call(this)}},{key:"expireCache",value:function(e){for(;this.canExpireCache();){if(this.peekLast().getKey()in e)break;this.pop().release()}}},{key:"pruneExceptNewestZ",value:function(){var e=this;if(0!==this.getCount()){var r=this.peekFirstKey(),n=(0,t.fromKey)(r)[0];this.forEach(function(r){r.tileCoord[0]!==n&&(e.remove((0,t.getKey)(r.tileCoord)),r.release())})}}}]),i}(),O=m;exports.default=O;
},{"./structs/LRUCache.js":"UtOR","./tilecoord.js":"NPSy"}],"qsHJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};exports.default=e;
},{}],"AC87":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("../Object.js")),e=require("../proj.js");function r(t){return t&&t.__esModule?t:{default:t}}function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c(n.key),n)}}function u(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function c(t){var e=a(t,"string");return"symbol"===n(e)?e:String(e)}function a(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=b();return function(){var r,n=v(t);if(e){var o=v(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p(this,r)}}function p(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return y(t)}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(r){l(i,t.default);var n=s(i);function i(t){var r;o(this,i),(r=n.call(this)).projection=(0,e.get)(t.projection),r.attributions_=d(t.attributions),r.attributionsCollapsible_=void 0===t.attributionsCollapsible||t.attributionsCollapsible,r.loading=!1,r.state_=void 0!==t.state?t.state:"ready",r.wrapX_=void 0!==t.wrapX&&t.wrapX,r.interpolate_=!!t.interpolate,r.viewResolver=null,r.viewRejector=null;var u=y(r);return r.viewPromise_=new Promise(function(t,e){u.viewResolver=t,u.viewRejector=e}),r}return u(i,[{key:"getAttributions",value:function(){return this.attributions_}},{key:"getAttributionsCollapsible",value:function(){return this.attributionsCollapsible_}},{key:"getProjection",value:function(){return this.projection}},{key:"getResolutions",value:function(t){return null}},{key:"getView",value:function(){return this.viewPromise_}},{key:"getState",value:function(){return this.state_}},{key:"getWrapX",value:function(){return this.wrapX_}},{key:"getInterpolate",value:function(){return this.interpolate_}},{key:"refresh",value:function(){this.changed()}},{key:"setAttributions",value:function(t){this.attributions_=d(t),this.changed()}},{key:"setState",value:function(t){this.state_=t,this.changed()}}]),i}();function d(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}var w=h;exports.default=w;
},{"../Object.js":"fB8e","../proj.js":"VAQc"}],"JVE6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=h(require("../TileRange.js")),t=require("./common.js"),i=require("../asserts.js"),r=require("../math.js"),o=require("../extent.js"),n=require("../tilecoord.js"),s=require("../geom/flat/intersectsextent.js"),l=require("../array.js"),a=require("../size.js");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(u=function(e){return e?i:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=u(t);if(i&&i.has(e))return i.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var s=o?Object.getOwnPropertyDescriptor(e,n):null;s&&(s.get||s.set)?Object.defineProperty(r,n,s):r[n]=e[n]}return r.default=e,i&&i.set(e,r),r}function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_(r.key),r)}}function m(e,t,i){return t&&c(e.prototype,t),i&&c(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function _(e){var t=d(e,"string");return"symbol"===g(t)?t:String(t)}function d(e,t){if("object"!==g(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!==g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var v=[0,0,0],p=5,y=function(){function u(r){var n;if(f(this,u),this.minZoom=void 0!==r.minZoom?r.minZoom:0,this.resolutions_=r.resolutions,(0,i.assert)((0,l.isSorted)(this.resolutions_,function(e,t){return t-e},!0),17),!r.origins)for(var s=0,a=this.resolutions_.length-1;s<a;++s)if(n){if(this.resolutions_[s]/this.resolutions_[s+1]!==n){n=void 0;break}}else n=this.resolutions_[s]/this.resolutions_[s+1];this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==r.origin?r.origin:null,this.origins_=null,void 0!==r.origins&&(this.origins_=r.origins,(0,i.assert)(this.origins_.length==this.resolutions_.length,20));var h=r.extent;void 0===h||this.origin_||this.origins_||(this.origin_=(0,o.getTopLeft)(h)),(0,i.assert)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==r.tileSizes&&(this.tileSizes_=r.tileSizes,(0,i.assert)(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==r.tileSize?r.tileSize:this.tileSizes_?null:t.DEFAULT_TILE_SIZE,(0,i.assert)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==h?h:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==r.sizes?this.fullTileRanges_=r.sizes.map(function(t,i){var r=new e.default(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1));if(h){var o=this.getTileRangeForExtentAndZ(h,i);r.minX=Math.max(o.minX,r.minX),r.maxX=Math.min(o.maxX,r.maxX),r.minY=Math.max(o.minY,r.minY),r.maxY=Math.min(o.maxY,r.maxY)}return r},this):h&&this.calculateTileRanges_(h)}return m(u,[{key:"forEachTileCoord",value:function(e,t,i){for(var r=this.getTileRangeForExtentAndZ(e,t),o=r.minX,n=r.maxX;o<=n;++o)for(var s=r.minY,l=r.maxY;s<=l;++s)i([t,o,s])}},{key:"forEachTileCoordParentTileRange",value:function(t,i,r,o){var n,s,l,a=null,u=t[0]-1;for(2===this.zoomFactor_?(s=t[1],l=t[2]):a=this.getTileCoordExtent(t,o);u>=this.minZoom;){if(2===this.zoomFactor_?(s=Math.floor(s/2),l=Math.floor(l/2),n=(0,e.createOrUpdate)(s,s,l,l,r)):n=this.getTileRangeForExtentAndZ(a,u,r),i(u,n))return!0;--u}return!1}},{key:"getExtent",value:function(){return this.extent_}},{key:"getMaxZoom",value:function(){return this.maxZoom}},{key:"getMinZoom",value:function(){return this.minZoom}},{key:"getOrigin",value:function(e){return this.origin_?this.origin_:this.origins_[e]}},{key:"getResolution",value:function(e){return this.resolutions_[e]}},{key:"getResolutions",value:function(){return this.resolutions_}},{key:"getTileCoordChildTileRange",value:function(t,i,r){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var o=2*t[1],n=2*t[2];return(0,e.createOrUpdate)(o,o+1,n,n+1,i)}var s=this.getTileCoordExtent(t,r||this.tmpExtent_);return this.getTileRangeForExtentAndZ(s,t[0]+1,i)}return null}},{key:"getTileRangeForTileCoordAndZ",value:function(t,i,r){if(i>this.maxZoom||i<this.minZoom)return null;var o=t[0],n=t[1],s=t[2];if(i===o)return(0,e.createOrUpdate)(n,s,n,s,r);if(this.zoomFactor_){var l=Math.pow(this.zoomFactor_,i-o),a=Math.floor(n*l),u=Math.floor(s*l);if(i<o)return(0,e.createOrUpdate)(a,a,u,u,r);var h=Math.floor(l*(n+1))-1,g=Math.floor(l*(s+1))-1;return(0,e.createOrUpdate)(a,h,u,g,r)}var f=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(f,i,r)}},{key:"getTileRangeForExtentAndZ",value:function(t,i,r){this.getTileCoordForXYAndZ_(t[0],t[3],i,!1,v);var o=v[1],n=v[2];this.getTileCoordForXYAndZ_(t[2],t[1],i,!0,v);var s=v[1],l=v[2];return(0,e.createOrUpdate)(o,s,n,l,r)}},{key:"getTileCoordCenter",value:function(e){var t=this.getOrigin(e[0]),i=this.getResolution(e[0]),r=(0,a.toSize)(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*r[0]*i,t[1]-(e[2]+.5)*r[1]*i]}},{key:"getTileCoordExtent",value:function(e,t){var i=this.getOrigin(e[0]),r=this.getResolution(e[0]),n=(0,a.toSize)(this.getTileSize(e[0]),this.tmpSize_),s=i[0]+e[1]*n[0]*r,l=i[1]-(e[2]+1)*n[1]*r,u=s+n[0]*r,h=l+n[1]*r;return(0,o.createOrUpdate)(s,l,u,h,t)}},{key:"getTileCoordForCoordAndResolution",value:function(e,t,i){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,i)}},{key:"getTileCoordForXYAndResolution_",value:function(e,t,i,o,s){var l=this.getZForResolution(i),u=i/this.getResolution(l),h=this.getOrigin(l),g=(0,a.toSize)(this.getTileSize(l),this.tmpSize_),f=u*(e-h[0])/i/g[0],c=u*(h[1]-t)/i/g[1];return o?(f=(0,r.ceil)(f,p)-1,c=(0,r.ceil)(c,p)-1):(f=(0,r.floor)(f,p),c=(0,r.floor)(c,p)),(0,n.createOrUpdate)(l,f,c,s)}},{key:"getTileCoordForXYAndZ_",value:function(e,t,i,o,s){var l=this.getOrigin(i),u=this.getResolution(i),h=(0,a.toSize)(this.getTileSize(i),this.tmpSize_),g=(e-l[0])/u/h[0],f=(l[1]-t)/u/h[1];return o?(g=(0,r.ceil)(g,p)-1,f=(0,r.ceil)(f,p)-1):(g=(0,r.floor)(g,p),f=(0,r.floor)(f,p)),(0,n.createOrUpdate)(i,g,f,s)}},{key:"getTileCoordForCoordAndZ",value:function(e,t,i){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,i)}},{key:"getTileCoordResolution",value:function(e){return this.resolutions_[e[0]]}},{key:"getTileSize",value:function(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}},{key:"getFullTileRange",value:function(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}},{key:"getZForResolution",value:function(e,t){var i=(0,l.linearFindNearest)(this.resolutions_,e,t||0);return(0,r.clamp)(i,this.minZoom,this.maxZoom)}},{key:"tileCoordIntersectsViewport",value:function(e,t){return(0,s.intersectsLinearRing)(t,0,t.length,2,this.getTileCoordExtent(e))}},{key:"calculateTileRanges_",value:function(e){for(var t=this.resolutions_.length,i=new Array(t),r=this.minZoom;r<t;++r)i[r]=this.getTileRangeForExtentAndZ(e,r);this.fullTileRanges_=i}}]),u}(),T=y;exports.default=T;
},{"../TileRange.js":"m5CX","./common.js":"exM9","../asserts.js":"DVOE","../math.js":"qAK2","../extent.js":"L0Vw","../tilecoord.js":"NPSy","../geom/flat/intersectsextent.js":"aXDF","../array.js":"o0G8","../size.js":"d9VJ"}],"gNrJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createForExtent=s,exports.createForProjection=c,exports.createXYZ=l,exports.extentFromProjection=f,exports.getForProjection=u,exports.wrapX=a;var e=n(require("./tilegrid/TileGrid.js")),t=require("./tilegrid/common.js"),r=require("./proj.js"),o=require("./extent.js"),i=require("./size.js");function n(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=e.getDefaultTileGrid();return t||(t=c(e),e.setDefaultTileGrid(t)),t}function a(e,t,r){var i=t[0],n=e.getTileCoordCenter(t),u=f(r);if(!(0,o.containsCoordinate)(u,n)){var a=(0,o.getWidth)(u),s=Math.ceil((u[0]-n[0])/a);return n[0]+=a*s,e.getTileCoordForCoordAndZ(n,i)}return t}function s(t,r,i,n){n=void 0!==n?n:"top-left";var u=d(t,r,i);return new e.default({extent:t,origin:(0,o.getCorner)(t,n),resolutions:u,tileSize:i})}function l(t){var o=t||{},i=o.extent||(0,r.get)("EPSG:3857").getExtent(),n={extent:i,minZoom:o.minZoom,tileSize:o.tileSize,resolutions:d(i,o.maxZoom,o.tileSize,o.maxResolution)};return new e.default(n)}function d(e,r,n,u){r=void 0!==r?r:t.DEFAULT_MAX_ZOOM,n=(0,i.toSize)(void 0!==n?n:t.DEFAULT_TILE_SIZE);var a=(0,o.getHeight)(e),s=(0,o.getWidth)(e);u=u>0?u:Math.max(s/n[0],a/n[1]);for(var l=r+1,d=new Array(l),c=0;c<l;++c)d[c]=u/Math.pow(2,c);return d}function c(e,t,r,o){return s(f(e),t,r,o)}function f(e){var t=(e=(0,r.get)(e)).getExtent();if(!t){var i=180*r.METERS_PER_UNIT.degrees/e.getMetersPerUnit();t=(0,o.createOrUpdate)(-i,-i,i,i)}return t}
},{"./tilegrid/TileGrid.js":"JVE6","./tilegrid/common.js":"exM9","./proj.js":"VAQc","./extent.js":"L0Vw","./size.js":"d9VJ"}],"MN9s":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.TileSourceEvent=void 0;var e=s(require("../events/Event.js")),t=s(require("./Source.js")),r=s(require("../TileCache.js")),i=s(require("../TileState.js")),n=require("../util.js"),o=require("../asserts.js"),u=require("../proj.js"),l=require("../tilecoord.js"),a=require("../tilegrid.js"),c=require("../size.js");function s(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,v(i.key),i)}}function h(e,t,r){return t&&y(e.prototype,t),r&&y(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e){var t=d(e,"string");return"symbol"===f(t)?t:String(t)}function d(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!==f(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function b(){return(b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=g(e,t);if(i){var n=Object.getOwnPropertyDescriptor(i,t);return n.get?n.get.call(arguments.length<3?e:r):n.value}}).apply(this,arguments)}function g(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=O(e)););return e}function j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P(e,t)}function P(e,t){return(P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function k(e){var t=S();return function(){var r,i=O(e);if(t){var n=O(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return m(this,r)}}function m(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return T(e)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w=function(e){j(f,t.default);var s=k(f);function f(e){var t;p(this,f),(t=s.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate})).on,t.once,t.un,t.opaque_=void 0!==e.opaque&&e.opaque,t.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,t.tileGrid=void 0!==e.tileGrid?e.tileGrid:null;return t.tileGrid&&(0,c.toSize)(t.tileGrid.getTileSize(t.tileGrid.getMinZoom()),[256,256]),t.tileCache=new r.default(e.cacheSize||0),t.tmpSize=[0,0],t.key_=e.key||"",t.tileOptions={transition:e.transition,interpolate:e.interpolate},t.zDirection=e.zDirection?e.zDirection:0,t}return h(f,[{key:"canExpireCache",value:function(){return this.tileCache.canExpireCache()}},{key:"expireCache",value:function(e,t){var r=this.getTileCacheForProjection(e);r&&r.expireCache(t)}},{key:"forEachLoadedTile",value:function(e,t,r,n){var o=this.getTileCacheForProjection(e);if(!o)return!1;for(var u,a,c,s=!0,f=r.minX;f<=r.maxX;++f)for(var p=r.minY;p<=r.maxY;++p)a=(0,l.getKeyZXY)(t,f,p),c=!1,o.containsKey(a)&&(c=(u=o.get(a)).getState()===i.default.LOADED)&&(c=!1!==n(u)),c||(s=!1);return s}},{key:"getGutterForProjection",value:function(e){return 0}},{key:"getKey",value:function(){return this.key_}},{key:"setKey",value:function(e){this.key_!==e&&(this.key_=e,this.changed())}},{key:"getOpaque",value:function(e){return this.opaque_}},{key:"getResolutions",value:function(e){var t=e?this.getTileGridForProjection(e):this.tileGrid;return t?t.getResolutions():null}},{key:"getTile",value:function(e,t,r,i,o){return(0,n.abstract)()}},{key:"getTileGrid",value:function(){return this.tileGrid}},{key:"getTileGridForProjection",value:function(e){return this.tileGrid?this.tileGrid:(0,a.getForProjection)(e)}},{key:"getTileCacheForProjection",value:function(e){var t=this.getProjection();return(0,o.assert)(null===t||(0,u.equivalent)(t,e),68),this.tileCache}},{key:"getTilePixelRatio",value:function(e){return this.tilePixelRatio_}},{key:"getTilePixelSize",value:function(e,t,r){var i=this.getTileGridForProjection(r),n=this.getTilePixelRatio(t),o=(0,c.toSize)(i.getTileSize(e),this.tmpSize);return 1==n?o:(0,c.scale)(o,n,this.tmpSize)}},{key:"getTileCoordForTileUrlFunction",value:function(e,t){t=void 0!==t?t:this.getProjection();var r=this.getTileGridForProjection(t);return this.getWrapX()&&t.isGlobal()&&(e=(0,a.wrapX)(r,e,t)),(0,l.withinExtentAndZ)(e,r)?e:null}},{key:"clear",value:function(){this.tileCache.clear()}},{key:"refresh",value:function(){this.clear(),b(O(f.prototype),"refresh",this).call(this)}},{key:"updateCacheSize",value:function(e,t){var r=this.getTileCacheForProjection(t);e>r.highWaterMark&&(r.highWaterMark=e)}},{key:"useTile",value:function(e,t,r,i){}}]),f}(),x=function(t){j(i,e.default);var r=k(i);function i(e,t){var n;return p(this,i),(n=r.call(this,e)).tile=t,n}return h(i)}();exports.TileSourceEvent=x;var _=w;exports.default=_;
},{"../events/Event.js":"M1Cf","./Source.js":"AC87","../TileCache.js":"zj1M","../TileState.js":"FoaO","../util.js":"KA50","../asserts.js":"DVOE","../proj.js":"VAQc","../tilecoord.js":"NPSy","../tilegrid.js":"gNrJ","../size.js":"d9VJ"}],"dZ35":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createFromTemplate=n,exports.createFromTemplates=o,exports.createFromTileUrlFunctions=a,exports.expandUrl=i,exports.nullTileUrlFunction=u;var r=require("./asserts.js"),e=require("./math.js"),t=require("./tilecoord.js");function n(e,t){var n=/\{z\}/g,o=/\{x\}/g,a=/\{y\}/g,u=/\{-y\}/g;return function(i,c,l){if(i)return e.replace(n,i[0].toString()).replace(o,i[1].toString()).replace(a,i[2].toString()).replace(u,function(){var e=i[0],n=t.getFullTileRange(e);return(0,r.assert)(n,55),(n.getHeight()-i[2]-1).toString()})}}function o(r,e){for(var t=r.length,o=new Array(t),u=0;u<t;++u)o[u]=n(r[u],e);return a(o)}function a(r){return 1===r.length?r[0]:function(n,o,a){if(n){var u=(0,t.hash)(n),i=(0,e.modulo)(u,r.length);return r[i](n,o,a)}}}function u(r,e,t){}function i(r){var e=[],t=/\{([a-z])-([a-z])\}/.exec(r);if(t){var n,o=t[1].charCodeAt(0),a=t[2].charCodeAt(0);for(n=o;n<=a;++n)e.push(r.replace(t[0],String.fromCharCode(n)));return e}if(t=/\{(\d+)-(\d+)\}/.exec(r)){for(var u=parseInt(t[2],10),i=parseInt(t[1],10);i<=u;i++)e.push(r.replace(t[0],i.toString()));return e}return e.push(r),e}
},{"./asserts.js":"DVOE","./math.js":"qAK2","./tilecoord.js":"NPSy"}],"P4LM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=c(require("./TileEventType.js")),e=l(require("./Tile.js")),r=c(require("../TileState.js")),n=require("../tileurlfunction.js"),i=require("../tilecoord.js"),o=require("../util.js");function u(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(u=function(t){return t?r:e})(t)}function l(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=u(e);if(r&&r.has(t))return r.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var l=i?Object.getOwnPropertyDescriptor(t,o):null;l&&(l.get||l.set)?Object.defineProperty(n,o,l):n[o]=t[o]}return n.default=t,r&&r.set(t,n),n}function c(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,y(n.key),n)}}function p(t,e,r){return e&&f(t.prototype,e),r&&f(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function y(t){var e=d(t,"string");return"symbol"===a(e)?e:String(e)}function d(t,e){if("object"!==a(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b(t,e)}function b(t,e){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function v(t){var e=j();return function(){var r,n=T(t);if(e){var i=T(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return O(this,r)}}function O(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return g(t)}function g(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function T(t){return(T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var U=function(u){h(c,e.default);var l=v(c);function c(t){var e;return s(this,c),(e=l.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection})).generateTileUrlFunction_=e.tileUrlFunction===c.prototype.tileUrlFunction,e.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(e.tileUrlFunction=t.tileUrlFunction),e.urls=null,t.urls?e.setUrls(t.urls):t.url&&e.setUrl(t.url),e.tileLoadingKeys_={},e}return p(c,[{key:"getTileLoadFunction",value:function(){return this.tileLoadFunction}},{key:"getTileUrlFunction",value:function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}},{key:"getUrls",value:function(){return this.urls}},{key:"handleTileChange",value:function(n){var i,u=n.target,l=(0,o.getUid)(u),c=u.getState();c==r.default.LOADING?(this.tileLoadingKeys_[l]=!0,i=t.default.TILELOADSTART):l in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[l],i=c==r.default.ERROR?t.default.TILELOADERROR:c==r.default.LOADED?t.default.TILELOADEND:void 0),null!=i&&this.dispatchEvent(new e.TileSourceEvent(i,u))}},{key:"setTileLoadFunction",value:function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()}},{key:"setTileUrlFunction",value:function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),void 0!==e?this.setKey(e):this.changed()}},{key:"setUrl",value:function(t){var e=(0,n.expandUrl)(t);this.urls=e,this.setUrls(e)}},{key:"setUrls",value:function(t){this.urls=t;var e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction((0,n.createFromTemplates)(t,this.tileGrid),e):this.setKey(e)}},{key:"tileUrlFunction",value:function(t,e,r){}},{key:"useTile",value:function(t,e,r){var n=(0,i.getKeyZXY)(t,e,r);this.tileCache.containsKey(n)&&this.tileCache.get(n)}}]),c}(),w=U;exports.default=w;
},{"./TileEventType.js":"qsHJ","./Tile.js":"MN9s","../TileState.js":"FoaO","../tileurlfunction.js":"dZ35","../tilecoord.js":"NPSy","../util.js":"KA50"}],"rQ5G":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=s(require("../events/EventType.js")),t=s(require("../ImageTile.js")),r=s(require("../reproj/Tile.js")),i=s(require("../TileCache.js")),o=s(require("../TileState.js")),n=s(require("./UrlTile.js")),l=require("../proj.js"),c=require("../tilecoord.js"),a=require("../tilegrid.js"),u=require("../util.js");function s(e){return e&&e.__esModule?e:{default:e}}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,y(i.key),i)}}function d(e,t,r){return t&&p(e.prototype,t),r&&p(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e){var t=v(e,"string");return"symbol"===h(t)?t:String(t)}function v(e,t){if("object"!==h(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!==h(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function g(){return(g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=j(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function j(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=O(e)););return e}function P(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}function b(e,t){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function C(e){var t=m();return function(){var r,i=O(e);if(t){var o=O(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return F(this,r)}}function F(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return T(e)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var k=function(s){P(p,n.default);var h=C(p);function p(e){var r;return f(this,p),(r=h.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:E,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:void 0===e.interpolate||e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})).crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,r.tileClass=void 0!==e.tileClass?e.tileClass:t.default,r.tileCacheForProjection={},r.tileGridForProjection={},r.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,r.renderReprojectionEdges_=!1,r}return d(p,[{key:"canExpireCache",value:function(){if(this.tileCache.canExpireCache())return!0;for(var e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1}},{key:"expireCache",value:function(e,t){var r=this.getTileCacheForProjection(e);for(var i in this.tileCache.expireCache(this.tileCache==r?t:{}),this.tileCacheForProjection){var o=this.tileCacheForProjection[i];o.expireCache(o==r?t:{})}}},{key:"getGutterForProjection",value:function(e){return this.getProjection()&&e&&!(0,l.equivalent)(this.getProjection(),e)?0:this.getGutter()}},{key:"getGutter",value:function(){return 0}},{key:"getKey",value:function(){var e=g(O(p.prototype),"getKey",this).call(this);return this.getInterpolate()||(e+=":disable-interpolation"),e}},{key:"getOpaque",value:function(e){return!(this.getProjection()&&e&&!(0,l.equivalent)(this.getProjection(),e))&&g(O(p.prototype),"getOpaque",this).call(this,e)}},{key:"getTileGridForProjection",value:function(e){var t=this.getProjection();if(this.tileGrid&&(!t||(0,l.equivalent)(t,e)))return this.tileGrid;var r=(0,u.getUid)(e);return r in this.tileGridForProjection||(this.tileGridForProjection[r]=(0,a.getForProjection)(e)),this.tileGridForProjection[r]}},{key:"getTileCacheForProjection",value:function(e){var t=this.getProjection();if(!t||(0,l.equivalent)(t,e))return this.tileCache;var r=(0,u.getUid)(e);return r in this.tileCacheForProjection||(this.tileCacheForProjection[r]=new i.default(this.tileCache.highWaterMark)),this.tileCacheForProjection[r]}},{key:"createTile_",value:function(t,r,i,n,l,c){var a=[t,r,i],u=this.getTileCoordForTileUrlFunction(a,l),s=u?this.tileUrlFunction(u,n,l):void 0,h=new this.tileClass(a,void 0!==s?o.default.IDLE:o.default.EMPTY,void 0!==s?s:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return h.key=c,h.addEventListener(e.default.CHANGE,this.handleTileChange.bind(this)),h}},{key:"getTile",value:function(e,t,i,o,n){var a=this,u=this.getProjection();if(!u||!n||(0,l.equivalent)(u,n))return this.getTileInternal(e,t,i,o,u||n);var s,h=this.getTileCacheForProjection(n),f=[e,t,i],p=(0,c.getKey)(f);h.containsKey(p)&&(s=h.get(p));var d=this.getKey();if(s&&s.key==d)return s;var y=this.getTileGridForProjection(u),v=this.getTileGridForProjection(n),g=this.getTileCoordForTileUrlFunction(f,n),j=new r.default(u,y,n,v,f,g,this.getTilePixelRatio(o),this.getGutter(),function(e,t,r,i){return a.getTileInternal(e,t,r,i,u)},this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return j.key=d,s?(j.interimTile=s,j.refreshInterimChain(),h.replace(p,j)):h.set(p,j),j}},{key:"getTileInternal",value:function(e,t,r,i,n){var l=null,a=(0,c.getKeyZXY)(e,t,r),u=this.getKey();if(this.tileCache.containsKey(a)){if((l=this.tileCache.get(a)).key!=u){var s=l;l=this.createTile_(e,t,r,i,n,u),s.getState()==o.default.IDLE?l.interimTile=s.interimTile:l.interimTile=s,l.refreshInterimChain(),this.tileCache.replace(a,l)}}else l=this.createTile_(e,t,r,i,n,u),this.tileCache.set(a,l);return l}},{key:"setRenderReprojectionEdges",value:function(e){if(this.renderReprojectionEdges_!=e){for(var t in this.renderReprojectionEdges_=e,this.tileCacheForProjection)this.tileCacheForProjection[t].clear();this.changed()}}},{key:"setTileGridForProjection",value:function(e,t){var r=(0,l.get)(e);if(r){var i=(0,u.getUid)(r);i in this.tileGridForProjection||(this.tileGridForProjection[i]=t)}}},{key:"clear",value:function(){for(var e in g(O(p.prototype),"clear",this).call(this),this.tileCacheForProjection)this.tileCacheForProjection[e].clear()}}]),p}();function E(e,t){e.getImage().src=t}var w=k;exports.default=w;
},{"../events/EventType.js":"GUXn","../ImageTile.js":"j3TM","../reproj/Tile.js":"o8Mp","../TileCache.js":"zj1M","../TileState.js":"FoaO","./UrlTile.js":"P4LM","../proj.js":"VAQc","../tilecoord.js":"NPSy","../tilegrid.js":"gNrJ","../util.js":"KA50"}],"DGMa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("./TileImage.js")),e=require("../tilegrid.js");function r(t){return t&&t.__esModule?t:{default:t}}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,c(o.key),o)}}function u(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function c(t){var e=l(t,"string");return"symbol"===o(e)?e:String(e)}function l(t,e){if("object"!==o(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=b();return function(){var r,o=d(t);if(e){var n=d(this).constructor;r=Reflect.construct(o,arguments,n)}else r=o.apply(this,arguments);return p(this,r)}}function p(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return y(t)}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m=function(r){a(i,t.default);var o=s(i);function i(t){var r;n(this,i);var u=void 0!==(t=t||{}).projection?t.projection:"EPSG:3857",c=void 0!==t.tileGrid?t.tileGrid:(0,e.createXYZ)({extent:(0,e.extentFromProjection)(u),maxResolution:t.maxResolution,maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize});return(r=o.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:t.interpolate,opaque:t.opaque,projection:u,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:c,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection})).gutter_=void 0!==t.gutter?t.gutter:0,r}return u(i,[{key:"getGutter",value:function(){return this.gutter_}}]),i}(),v=m;exports.default=v;
},{"./TileImage.js":"rQ5G","../tilegrid.js":"gNrJ"}],"r1xR":[function(require,module,exports) {
"use strict";require("ol/ol.css");var e=l(require("ol/Map")),r=l(require("ol/View")),a=l(require("ol/layer/Tile")),t=l(require("ol/source/XYZ"));function l(e){return e&&e.__esModule?e:{default:e}}var o="pk.eyJ1IjoibXVzaGVyIiwiYSI6ImNsa3JvcHc5ZjF6eXYzZW12ajMzMXd0enQifQ.dZ2685AuaU8GY6wDr11Ipw",i=new e.default({target:"footprintMap",layers:[new a.default({source:new t.default({url:"https://api.mapbox.com/styles/v1/mapbox/satellite-v9/tiles/256/{z}/{x}/{y}?access_token="+o})})],view:new r.default({center:[0,0],zoom:2})});
},{"ol/ol.css":"vFY1","ol/Map":"ZXtR","ol/View":"rXL1","ol/layer/Tile":"PqrZ","ol/source/XYZ":"DGMa"}]},{},["r1xR"], null)
//# sourceMappingURL=src.a61d952e.js.map